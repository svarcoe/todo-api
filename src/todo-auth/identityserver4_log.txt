2018-08-07 20:47:24.366 +00:00 [WRN] No XML encryptor configured. Key "ff39d414-ea44-4fcd-b5d7-60fb03f2cb5d" may be persisted to storage in unencrypted form.
2018-08-07 20:47:25.881 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 20:47:25.894 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 20:47:25.907 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 20:47:25.911 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 20:47:25.915 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 20:47:32.913 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:27:47.366 +00:00 [WRN] No XML encryptor configured. Key "a68b0e83-752f-4a7c-9ccd-f8aad525df15" may be persisted to storage in unencrypted form.
2018-08-07 21:27:47.701 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 21:27:47.702 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 21:27:47.703 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 21:27:47.704 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 21:27:47.706 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 21:27:49.319 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:45:03.624 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 21:45:03.664 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 21:45:03.665 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 21:45:03.666 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 21:45:03.667 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 21:45:05.193 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:57:02.501 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 21:57:02.693 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:02.702 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:02.882 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 21:57:02.909 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 21:57:02.910 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 21:57:02.915 +00:00 [DBG] Start discovery request
2018-08-07 21:57:03.663 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 21:57:03.810 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 21:57:03.814 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 21:57:03.828 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.828 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.829 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 21:57:03.829 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 21:57:03.829 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 21:57:03.829 +00:00 [DBG] Start discovery request
2018-08-07 21:57:03.829 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.830 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.830 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 21:57:03.832 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 21:57:03.833 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 21:57:03.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 21:57:03.854 +00:00 [DBG] Start key discovery request
2018-08-07 21:57:03.900 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 21:57:03.910 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.910 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.910 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 21:57:03.928 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 21:57:03.929 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 21:57:03.929 +00:00 [DBG] Start key discovery request
2018-08-07 21:57:03.995 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 21:57:04.003 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 21:57:04.003 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 21:57:04.015 +00:00 [DBG] Start authorize request
2018-08-07 21:57:04.050 +00:00 [DBG] No user present in authorize request
2018-08-07 21:57:04.060 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:04.496 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:04.543 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:04.592 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:04.610 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:04.623 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:04.641 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:04.659 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL;some-state",
  "Nonce": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL"
  }
}
2018-08-07 21:57:04.669 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 21:57:05.257 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:05.270 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:05.279 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:05.290 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:05.297 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:05.310 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:05.311 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:05.328 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:17.112 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 21:57:49.419 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:49.437 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:49.453 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:49.469 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:49.481 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:49.493 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:49.493 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:49.512 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:00:59.403 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:00:59.453 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:00:59.454 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:00:59.455 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:00:59.456 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:01:00.771 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:01:10.661 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:10.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:10.820 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:10.939 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:10.966 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:10.968 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:10.975 +00:00 [DBG] Start discovery request
2018-08-07 22:01:11.955 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:12.119 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:12.123 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:12.135 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.135 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.137 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:12.137 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:12.138 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:12.138 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:12.138 +00:00 [DBG] Start discovery request
2018-08-07 22:01:12.138 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:12.138 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:12.156 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:12.160 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:12.235 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:12.243 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.243 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.244 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:12.244 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:12.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:12.244 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:12.313 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:01:12.331 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:01:12.331 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:01:12.379 +00:00 [DBG] Start authorize request
2018-08-07 22:01:12.436 +00:00 [DBG] No user present in authorize request
2018-08-07 22:01:12.450 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:12.840 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:12.903 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:12.960 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:12.979 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:12.989 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.001 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:13.019 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM;some-state",
  "Nonce": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM"
  }
}
2018-08-07 22:01:13.036 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:01:13.637 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:13.657 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:13.668 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:13.681 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.691 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:13.711 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.711 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:13.733 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:24.491 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:01:46.372 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:46.379 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.379 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.379 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:46.380 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:46.380 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:46.380 +00:00 [DBG] Start discovery request
2018-08-07 22:01:46.402 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:46.405 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:46.411 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.412 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.412 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:46.412 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:46.412 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:46.413 +00:00 [DBG] Start discovery request
2018-08-07 22:01:46.428 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:46.469 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:46.482 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.482 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.483 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:46.483 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:46.483 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:46.484 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:46.487 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:46.499 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.499 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.499 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:46.500 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:46.500 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:46.500 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:46.551 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:01:46.552 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:01:46.552 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:01:46.552 +00:00 [DBG] Start authorize request
2018-08-07 22:01:46.553 +00:00 [DBG] No user present in authorize request
2018-08-07 22:01:46.553 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:46.574 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:46.586 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.601 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.612 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.647 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.648 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:46.648 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0;some-state",
  "Nonce": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0"
  }
}
2018-08-07 22:01:46.649 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:01:46.672 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:46.687 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:46.696 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.709 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.723 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.745 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.745 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:46.765 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:50.710 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:01:55.334 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-07 22:01:57.924 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:06.984 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:06.985 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:06.985 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:06.985 +00:00 [DBG] Start discovery request
2018-08-07 22:02:07.022 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:10.503 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-07 22:02:30.425 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:02:30.464 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:02:30.465 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:02:30.466 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:02:30.467 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:02:31.897 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:02:36.362 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:36.524 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:36.528 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:36.660 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:36.724 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:36.725 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:36.731 +00:00 [DBG] Start discovery request
2018-08-07 22:02:37.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:38.010 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:38.014 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:38.027 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.027 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.028 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.028 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.030 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:38.030 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:38.031 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:38.032 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:38.032 +00:00 [DBG] Start discovery request
2018-08-07 22:02:38.033 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:38.034 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:38.056 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:38.073 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:38.160 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:38.172 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.172 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.173 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:38.174 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:38.174 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:38.174 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:38.250 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:38.281 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:38.282 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:38.290 +00:00 [DBG] Start authorize request
2018-08-07 22:02:38.341 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:38.358 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:38.677 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:38.738 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:38.813 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:38.847 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:38.856 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:38.875 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:38.895 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549;some-state",
  "Nonce": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549"
  }
}
2018-08-07 22:02:38.913 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:39.523 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:39.551 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:39.565 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:39.584 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:39.595 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:39.622 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:39.622 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:39.658 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:50.325 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:50.923 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:50.932 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:50.932 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:50.933 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:50.933 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:50.933 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:50.933 +00:00 [DBG] Start discovery request
2018-08-07 22:02:50.956 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:50.960 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:50.967 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:50.967 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:50.968 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:50.968 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:50.968 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:50.968 +00:00 [DBG] Start discovery request
2018-08-07 22:02:50.987 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:51.061 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:51.069 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:51.069 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:51.069 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:51.070 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:51.070 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:51.070 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:51.073 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:51.081 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:51.081 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:51.081 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:51.082 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:51.082 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:51.082 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:51.159 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:51.160 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:51.160 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:51.160 +00:00 [DBG] Start authorize request
2018-08-07 22:02:51.160 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:51.161 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:51.205 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:51.245 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.271 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.282 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.300 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.301 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:51.302 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC;some-state",
  "Nonce": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC"
  }
}
2018-08-07 22:02:51.302 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:51.321 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:51.344 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:51.353 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.367 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.382 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.394 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.395 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:51.416 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:53.357 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:54.219 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:54.230 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.231 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.231 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:54.231 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:54.231 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:54.232 +00:00 [DBG] Start discovery request
2018-08-07 22:02:54.251 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:54.254 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:54.260 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.260 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.260 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:54.261 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:54.261 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:54.261 +00:00 [DBG] Start discovery request
2018-08-07 22:02:54.276 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:54.338 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:54.348 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.348 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.348 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:54.349 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:54.349 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:54.349 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:54.353 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:54.361 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.361 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.362 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:54.362 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:54.362 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:54.362 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:54.438 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:54.438 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:54.438 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:54.439 +00:00 [DBG] Start authorize request
2018-08-07 22:02:54.439 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:54.439 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:54.462 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:54.489 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.515 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.524 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.539 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.540 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:54.540 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8;some-state",
  "Nonce": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8"
  }
}
2018-08-07 22:02:54.540 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:54.550 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:54.568 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:54.581 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.590 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.598 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.606 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.607 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:54.616 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:15.507 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:03:15.541 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:03:15.542 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:03:15.543 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:03:15.544 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:03:16.920 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:03:23.976 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:03:24.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:24.114 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:24.243 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:03:24.274 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:03:24.275 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:03:24.281 +00:00 [DBG] Start discovery request
2018-08-07 22:03:25.046 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:03:25.179 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:03:25.182 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:03:25.200 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.201 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.201 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.201 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.201 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:03:25.202 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:03:25.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:03:25.203 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:03:25.203 +00:00 [DBG] Start discovery request
2018-08-07 22:03:25.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:03:25.204 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:03:25.232 +00:00 [DBG] Start key discovery request
2018-08-07 22:03:25.234 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:03:25.301 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:03:25.306 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.307 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.307 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:03:25.307 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:03:25.307 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:03:25.308 +00:00 [DBG] Start key discovery request
2018-08-07 22:03:25.370 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:03:25.399 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:03:25.400 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:03:25.412 +00:00 [DBG] Start authorize request
2018-08-07 22:03:25.450 +00:00 [DBG] No user present in authorize request
2018-08-07 22:03:25.459 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:25.891 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:25.958 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.012 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.032 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.044 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.053 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:26.064 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2;some-state",
  "Nonce": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2"
  }
}
2018-08-07 22:03:26.075 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:03:26.503 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:26.519 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:26.527 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.536 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.542 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.551 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.551 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:26.565 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:42.836 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:42.858 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:42.876 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:42.895 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:42.909 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:42.919 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:42.920 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:42.928 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:45.868 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:03:49.892 +00:00 [INF] Error from RemoteAuthentication: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled..
2018-08-07 22:03:49.905 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Http.HttpRequestException: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled.
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-08-07 22:04:08.106 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:08.113 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.113 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.113 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:08.114 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:08.114 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:08.114 +00:00 [DBG] Start discovery request
2018-08-07 22:04:08.135 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:08.139 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:08.145 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.145 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.146 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:08.146 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:08.146 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:08.146 +00:00 [DBG] Start discovery request
2018-08-07 22:04:08.166 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:08.199 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:08.208 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.208 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.209 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:08.209 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:08.209 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:08.209 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:08.212 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:08.221 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.221 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.221 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:08.222 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:08.222 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:08.222 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:08.286 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:04:08.286 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:04:08.287 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:04:08.287 +00:00 [DBG] Start authorize request
2018-08-07 22:04:08.288 +00:00 [DBG] No user present in authorize request
2018-08-07 22:04:08.288 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:08.316 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:08.325 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.336 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.349 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.362 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.363 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:08.363 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F;some-state",
  "Nonce": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F"
  }
}
2018-08-07 22:04:08.363 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:04:08.406 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:08.425 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:08.438 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.455 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.462 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.475 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.476 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:08.489 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.511 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:36.522 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.522 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.522 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:36.523 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:36.523 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:36.523 +00:00 [DBG] Start discovery request
2018-08-07 22:04:36.552 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:36.556 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:36.576 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.576 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.576 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:36.576 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:36.576 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:36.577 +00:00 [DBG] Start discovery request
2018-08-07 22:04:36.611 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:36.659 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:36.670 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.670 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.671 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:36.671 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:36.672 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:36.672 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:36.680 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:36.689 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.689 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.689 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:36.690 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:36.690 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:36.690 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:36.763 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:04:36.764 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:04:36.764 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:04:36.765 +00:00 [DBG] Start authorize request
2018-08-07 22:04:36.765 +00:00 [DBG] No user present in authorize request
2018-08-07 22:04:36.765 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:36.792 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.811 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.848 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.887 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.900 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.900 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:36.901 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw;some-state",
  "Nonce": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw"
  }
}
2018-08-07 22:04:36.901 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:04:36.909 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:36.923 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.932 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.943 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.950 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.960 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.960 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:36.971 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:39.355 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:04:42.849 +00:00 [INF] Error from RemoteAuthentication: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled..
2018-08-07 22:04:42.850 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Http.HttpRequestException: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled.
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-08-07 22:18:54.920 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:18:54.959 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:18:54.960 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:18:54.961 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:18:54.962 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:18:56.330 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:18:57.188 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::]:5000: address already in use. ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.AddressInUseException: Error -98 EADDRINUSE address already in use ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -98 EADDRINUSE address already in use
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.ThrowError(Int32 statusCode)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvTcpHandle.GetSockIPEndPoint()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.ListenTcp(Boolean useFileHandle)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.<>c.<StartAsync>b__8_0(Listener listener)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.DoPostWork()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.ListenerPrimary.StartAsync(String pipeName, Byte[] pipeMessage, IEndPointInformation endPointInformation, LibuvThread thread)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass23_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAddressAsync(String address, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, List`1 listenOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2018-08-07 22:22:27.557 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:22:27.591 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:22:27.593 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:22:27.594 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:22:27.595 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:22:29.651 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:22:30.379 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::]:5000: address already in use. ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.AddressInUseException: Error -98 EADDRINUSE address already in use ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -98 EADDRINUSE address already in use
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.ThrowError(Int32 statusCode)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvTcpHandle.GetSockIPEndPoint()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.ListenTcp(Boolean useFileHandle)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.<>c.<StartAsync>b__8_0(Listener listener)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.DoPostWork()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.ListenerPrimary.StartAsync(String pipeName, Byte[] pipeMessage, IEndPointInformation endPointInformation, LibuvThread thread)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass23_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAddressAsync(String address, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, List`1 listenOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2018-08-07 22:22:45.475 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:22:45.506 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:22:45.507 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:22:45.508 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:22:45.510 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:22:46.911 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:22:49.997 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:22:50.237 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:50.242 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:50.386 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:22:50.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:22:50.430 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:22:50.437 +00:00 [DBG] Start discovery request
2018-08-07 22:22:51.415 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:22:51.558 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:22:51.562 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:22:51.574 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.574 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.574 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.575 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.576 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:22:51.577 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:22:51.580 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:22:51.580 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:22:51.581 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:22:51.582 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:22:51.582 +00:00 [DBG] Start discovery request
2018-08-07 22:22:51.602 +00:00 [DBG] Start key discovery request
2018-08-07 22:22:51.605 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:22:51.663 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:22:51.673 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.673 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.673 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:22:51.673 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:22:51.673 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:22:51.674 +00:00 [DBG] Start key discovery request
2018-08-07 22:22:51.736 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:22:51.759 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:22:51.760 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:22:51.766 +00:00 [DBG] Start authorize request
2018-08-07 22:22:51.795 +00:00 [DBG] No user present in authorize request
2018-08-07 22:22:51.805 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:22:52.150 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:22:52.206 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.262 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.291 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.302 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.316 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:22:52.349 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ"
  }
}
2018-08-07 22:22:52.360 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:22:52.881 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:22:52.898 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:22:52.915 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.951 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.965 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.978 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.979 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:22:53.009 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:23:03.218 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:23:06.895 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-07 22:23:06.934 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-07 22:23:07.589 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSMH7KGG5P:00000005",
  "TimeStamp": "2018-08-07T22:23:07Z",
  "ProcessId": 2450,
  "LocalIpAddress": "172.18.0.6:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:23:07.608 +00:00 [DBG] Augmenting SignInContext
2018-08-07 22:23:07.611 +00:00 [DBG] Adding amr claim with value: external
2018-08-07 22:23:07.618 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 22:23:07.635 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-07 22:23:07.660 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:23:07.661 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:23:07.661 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-07 22:23:07.663 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-07 22:23:07.663 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-07 22:23:07.671 +00:00 [DBG] Start authorize callback request
2018-08-07 22:23:07.676 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:23:07.676 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:23:07.691 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:23:07.699 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:23:07.711 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:23:07.719 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:23:07.727 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:23:07.727 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:23:07.727 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ",
  "SessionId": "cc794ad2e9db9a4667864d8803350915",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ"
  }
}
2018-08-07 22:23:07.815 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 22:23:07.832 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 22:23:07.841 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 22:23:07.853 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:23:07.854 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:23:07.959 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:23:07.960 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 22:23:07.977 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****p3Nw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****yp0Q"
    }
  ],
  "ActivityId": "0HLFSMH7KGG5P:00000006",
  "TimeStamp": "2018-08-07T22:23:07Z",
  "ProcessId": 2450,
  "LocalIpAddress": "172.18.0.6:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:23:07.981 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 22:23:08.006 +00:00 [DBG] Augmenting SignInContext
2018-08-07 22:23:08.007 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 22:23:08.611 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:08.620 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.620 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.620 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:08.621 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:08.621 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:08.621 +00:00 [DBG] Start discovery request
2018-08-07 22:23:08.644 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:08.648 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:08.655 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.656 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.656 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:08.656 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:08.656 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:08.656 +00:00 [DBG] Start discovery request
2018-08-07 22:23:08.677 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:08.740 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:08.754 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.754 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.755 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:08.755 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:08.756 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:08.756 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:08.759 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:08.769 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.769 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.769 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:08.770 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:08.770 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:08.770 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.118 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.126 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.126 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.135 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.170 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.171 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.238 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.258 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.259 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.259 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.273 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.274 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.274 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.317 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.321 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.336 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.336 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.336 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.337 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.337 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.337 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.348 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.351 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.352 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.353 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.353 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.373 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.382 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.387 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.391 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.401 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.402 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.406 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.407 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.408 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.408 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.413 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.427 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.427 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.427 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.428 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.429 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.489 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.490 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.490 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.490 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:09.671 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.685 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.685 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.695 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.711 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.711 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.794 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.816 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.816 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.817 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:09.818 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:09.819 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:09.819 +00:00 [DBG] Start discovery request
2018-08-07 22:24:09.845 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:09.853 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.861 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.861 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.862 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:09.862 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:09.862 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:09.863 +00:00 [DBG] Start discovery request
2018-08-07 22:24:09.892 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:09.906 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.918 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.918 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.952 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.964 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.964 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.974 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.985 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.985 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.986 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:09.988 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:09.990 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:09.990 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:09.996 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:10.009 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:10.009 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:10.009 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:10.010 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:10.010 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:10.010 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:17.704 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.712 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.712 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.715 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.723 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.723 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.742 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.755 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.756 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:17.756 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:17.756 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:17.757 +00:00 [DBG] Start discovery request
2018-08-07 22:24:17.785 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:17.789 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.796 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.797 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.797 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:17.797 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:17.797 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:17.797 +00:00 [DBG] Start discovery request
2018-08-07 22:24:17.810 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.828 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.829 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.839 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.841 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:17.855 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.855 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.856 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:17.856 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:17.857 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:17.857 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:17.861 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.877 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.877 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.878 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:17.878 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:17.878 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:17.879 +00:00 [DBG] Start key discovery request
2018-08-07 22:25:38.994 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:25:39.044 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:25:39.058 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:25:39.061 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:25:39.065 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:25:40.746 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:26:41.737 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.737 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.898 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.899 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.905 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:41.905 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:41.982 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.987 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.988 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:42.113 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:26:42.159 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:26:42.160 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:26:42.167 +00:00 [DBG] Start discovery request
2018-08-07 22:26:43.096 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:26:43.222 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:43.230 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.234 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.234 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.235 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:26:43.236 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:26:43.236 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:26:43.237 +00:00 [DBG] Start discovery request
2018-08-07 22:26:43.241 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.242 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.249 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.257 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.257 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.258 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:26:43.262 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:26:43.263 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:26:43.266 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:26:43.270 +00:00 [DBG] Start key discovery request
2018-08-07 22:26:43.339 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.347 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.347 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.347 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:26:43.348 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:26:43.353 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:26:43.354 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:01.281 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.288 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.288 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.296 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.304 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.304 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.387 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.397 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.397 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.398 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:01.398 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:01.398 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:01.398 +00:00 [DBG] Start discovery request
2018-08-07 22:27:01.439 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:01.442 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.450 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.451 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.451 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:01.451 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:01.452 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:01.452 +00:00 [DBG] Start discovery request
2018-08-07 22:27:01.470 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:01.473 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.481 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.482 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.503 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.510 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.512 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.512 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.518 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.518 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.518 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:01.519 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:01.519 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:01.519 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:01.526 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.534 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.534 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.534 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:01.535 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:01.535 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:01.535 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:08.905 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.912 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.912 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.916 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.925 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.925 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.945 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.956 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.957 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.957 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:08.957 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:08.958 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:08.958 +00:00 [DBG] Start discovery request
2018-08-07 22:27:08.983 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:08.987 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.997 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.997 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.997 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:08.997 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:08.998 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:08.998 +00:00 [DBG] Start discovery request
2018-08-07 22:27:09.018 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.019 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:09.026 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.026 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.050 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.057 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.063 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.064 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.065 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.065 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.065 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:09.066 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:09.066 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:09.066 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:09.070 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.082 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.082 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.083 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:09.083 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:09.083 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:09.083 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:15.116 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.137 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.137 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.149 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.162 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.162 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.317 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.330 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.331 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.331 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:15.332 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:15.332 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:15.332 +00:00 [DBG] Start discovery request
2018-08-07 22:27:15.407 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:15.418 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.454 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.466 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.466 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.467 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:15.468 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:15.469 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:15.469 +00:00 [DBG] Start discovery request
2018-08-07 22:27:15.493 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.494 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.550 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.564 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:15.580 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.581 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.581 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:15.581 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:15.581 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:15.581 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:15.586 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.613 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.614 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.615 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:15.615 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:15.615 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:15.616 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:02.513 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:32:02.563 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:32:02.564 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:32:02.565 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:32:02.567 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:32:04.218 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:32:43.476 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:43.476 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:43.803 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:43.813 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:43.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:43.823 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:43.823 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:43.891 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:43.894 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:43.910 +00:00 [DBG] Start discovery request
2018-08-07 22:32:44.023 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:44.037 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:44.038 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:44.040 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:44.043 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:44.044 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:44.046 +00:00 [DBG] Start discovery request
2018-08-07 22:32:44.921 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:44.921 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:45.082 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.083 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:45.090 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.090 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.091 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.091 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.092 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:45.092 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:45.092 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:45.092 +00:00 [DBG] Start discovery request
2018-08-07 22:32:45.097 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.106 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.107 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.107 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.108 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.109 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.114 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.141 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:45.162 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.164 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.166 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.168 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.198 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.228 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.228 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.229 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.229 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.230 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.387 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:32:45.392 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:32:45.393 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:32:45.406 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:32:45.406 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:32:45.413 +00:00 [DBG] Start authorize request
2018-08-07 22:32:45.482 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:32:45.491 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:32:45.983 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:32:46.039 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:32:46.101 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:32:46.122 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:32:46.136 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:32:46.149 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:32:46.165 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
  "Nonce": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2",
  "SessionId": "cc794ad2e9db9a4667864d8803350915",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2"
  }
}
2018-08-07 22:32:46.449 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 22:32:46.464 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 22:32:46.473 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 22:32:46.486 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:32:46.487 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:32:46.744 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:32:46.744 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 22:32:46.782 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****Bk4Q"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****nlwQ"
    }
  ],
  "ActivityId": "0HLFSMMOE95BG:00000001",
  "TimeStamp": "2018-08-07T22:32:46Z",
  "ProcessId": 525,
  "LocalIpAddress": "172.18.0.4:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:32:46.786 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 22:32:47.535 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:47.570 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.571 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.571 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:47.572 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:47.572 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:47.572 +00:00 [DBG] Start discovery request
2018-08-07 22:32:47.648 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:47.658 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:47.686 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.688 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.691 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:47.693 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:47.693 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:47.693 +00:00 [DBG] Start discovery request
2018-08-07 22:32:47.748 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:47.779 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:47.798 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.798 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.799 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:47.800 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:47.801 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:47.801 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:47.817 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:47.835 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.835 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.836 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:47.836 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:47.836 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:47.836 +00:00 [DBG] Start key discovery request
2018-08-07 22:37:05.546 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.554 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.554 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.561 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.569 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.569 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.617 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.627 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.628 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.628 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:37:05.629 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:37:05.629 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:37:05.629 +00:00 [DBG] Start discovery request
2018-08-07 22:37:05.657 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:37:05.663 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.674 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.674 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.674 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:37:05.675 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:37:05.675 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:37:05.675 +00:00 [DBG] Start discovery request
2018-08-07 22:37:05.707 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.736 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.748 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:37:05.780 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.786 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.786 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.786 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:37:05.787 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:37:05.787 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:37:05.787 +00:00 [DBG] Start key discovery request
2018-08-07 22:37:05.790 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.797 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.798 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.798 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:37:05.799 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:37:05.799 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:37:05.799 +00:00 [DBG] Start key discovery request
2018-08-07 22:45:34.741 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:45:34.775 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:45:34.777 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:45:34.778 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:45:34.778 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:45:36.341 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:02.002 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:02.033 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:02.034 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:02.035 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:02.036 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:03.638 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:31.740 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:31.772 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:31.773 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:31.775 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:31.776 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:33.298 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:41.523 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:41.554 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:41.555 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:41.556 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:41.557 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:43.203 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:47:51.684 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:47:51.763 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:47:51.765 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:47:51.769 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:47:51.772 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:47:51.776 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:47:53.277 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:47:58.711 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.711 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.894 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:58.894 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:58.979 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.985 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.985 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:59.197 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:47:59.242 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:47:59.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:47:59.257 +00:00 [DBG] Start discovery request
2018-08-07 22:48:00.072 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:00.191 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:00.201 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:00.202 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:00.203 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:00.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:00.204 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:00.204 +00:00 [DBG] Start discovery request
2018-08-07 22:48:00.238 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:19.609 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.618 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.618 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.621 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.629 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.629 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.720 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.743 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.744 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.744 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:19.744 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:19.744 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:19.744 +00:00 [DBG] Start discovery request
2018-08-07 22:48:19.791 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:19.795 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.816 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.816 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.816 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:19.817 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:19.817 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:19.817 +00:00 [DBG] Start discovery request
2018-08-07 22:48:19.844 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:04.516 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:49:04.521 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:49:04.523 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:04.524 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:04.524 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:04.524 +00:00 [DBG] Start discovery request
2018-08-07 22:49:04.547 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.100 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.110 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.121 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.136 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.206 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.206 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.231 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.231 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.233 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.233 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.234 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.237 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.237 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.237 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.237 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.240 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.242 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.242 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.243 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.244 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.244 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.276 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.277 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.280 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.391 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:49:11.393 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:49:11.394 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:49:11.408 +00:00 [DBG] Start key discovery request
2018-08-07 22:50:54.336 +00:00 [WRN] No XML encryptor configured. Key "5bf7704d-084e-4a14-a557-e89f4bedbc0f" may be persisted to storage in unencrypted form.
2018-08-07 22:50:54.660 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:50:54.680 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:50:54.681 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:50:54.682 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:50:54.683 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:50:54.684 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:50:56.316 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:52:04.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.629 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.630 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.630 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.632 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.702 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:04.821 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:04.823 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:04.833 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.838 +00:00 [DBG] Start discovery request
2018-08-07 22:52:04.844 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.845 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.848 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:04.852 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:04.854 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:04.855 +00:00 [DBG] Start discovery request
2018-08-07 22:52:06.375 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.375 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.532 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:06.545 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:06.546 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:06.547 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:06.557 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:06.558 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:06.558 +00:00 [DBG] Start discovery request
2018-08-07 22:52:06.580 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.618 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:52:06.619 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:52:06.620 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:52:06.625 +00:00 [DBG] Start key discovery request
2018-08-07 22:54:17.284 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.294 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.294 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.321 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.321 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.465 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.489 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.489 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.489 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:17.490 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:17.490 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:17.490 +00:00 [DBG] Start discovery request
2018-08-07 22:54:17.536 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:17.540 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.550 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.551 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.551 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:17.552 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:17.552 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:17.552 +00:00 [DBG] Start discovery request
2018-08-07 22:54:17.590 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:30.089 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.096 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.097 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.106 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.113 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.114 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.174 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.175 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.195 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.195 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.196 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:30.196 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:30.197 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:30.197 +00:00 [DBG] Start discovery request
2018-08-07 22:54:30.197 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.198 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.198 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:30.199 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:30.199 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:30.199 +00:00 [DBG] Start discovery request
2018-08-07 22:54:30.236 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:30.237 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:55:59.473 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:55:59.577 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:55:59.579 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:55:59.580 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:55:59.583 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:55:59.585 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:56:02.701 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:56:49.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:56:49.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:56:50.416 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:56:50.416 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:56:50.434 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:56:50.435 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:56:50.672 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:56:50.672 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:56:50.763 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:56:50.763 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:56:50.765 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:56:50.765 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:56:50.775 +00:00 [DBG] Start discovery request
2018-08-07 22:56:50.775 +00:00 [DBG] Start discovery request
2018-08-07 22:56:52.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:56:52.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:57:30.216 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:57:30.217 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:57:30.217 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:57:30.218 +00:00 [DBG] Start discovery request
2018-08-07 22:57:30.246 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.398 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:58:08.414 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.415 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.415 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:58:08.416 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:58:08.416 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:58:08.416 +00:00 [DBG] Start discovery request
2018-08-07 22:58:08.462 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:58:08.472 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.472 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.473 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:58:08.473 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:58:08.474 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:58:08.474 +00:00 [DBG] Start discovery request
2018-08-07 22:58:08.476 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.555 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.655 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:58:08.680 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:58:08.685 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.685 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.685 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:58:08.686 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:58:08.686 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:58:08.693 +00:00 [DBG] Start key discovery request
2018-08-07 22:58:08.712 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.712 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.712 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:58:08.713 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:58:08.713 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:58:08.713 +00:00 [DBG] Start key discovery request
2018-08-07 22:58:09.361 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:58:09.367 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:58:09.367 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:58:09.394 +00:00 [DBG] Start authorize request
2018-08-07 22:58:09.479 +00:00 [DBG] No user present in authorize request
2018-08-07 22:58:09.508 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:10.418 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:10.506 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:10.716 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:10.780 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:10.800 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:10.819 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:10.845 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b;some-state",
  "Nonce": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b"
  }
}
2018-08-07 22:58:10.875 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:58:11.198 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:11.232 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:11.276 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:11.310 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:11.325 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:11.357 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:11.358 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:11.401 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:18.730 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:58:26.595 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:26.617 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:26.635 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:26.666 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:26.687 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:26.741 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:26.742 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:26.752 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:59:54.249 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:59:54.280 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:59:54.280 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:59:54.281 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:59:54.281 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:59:54.281 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:59:54.281 +00:00 [DBG] Start discovery request
2018-08-07 22:59:54.302 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:59:54.317 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:59:54.317 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:59:54.318 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:59:54.324 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:59:54.324 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:59:54.324 +00:00 [DBG] Start discovery request
2018-08-07 22:59:54.355 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:59:54.365 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.239 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:39.250 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.250 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.251 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:39.252 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:39.253 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:39.253 +00:00 [DBG] Start discovery request
2018-08-07 23:00:39.264 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:39.287 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.299 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.306 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:39.309 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:39.311 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:39.311 +00:00 [DBG] Start discovery request
2018-08-07 23:00:39.455 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.489 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.752 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:00:39.846 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.846 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.847 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:00:39.847 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:00:39.847 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:00:39.848 +00:00 [DBG] Start key discovery request
2018-08-07 23:00:40.187 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 23:00:40.188 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 23:00:40.188 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 23:00:40.188 +00:00 [DBG] Start authorize request
2018-08-07 23:00:40.189 +00:00 [DBG] No user present in authorize request
2018-08-07 23:00:40.189 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:40.348 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:40.419 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.516 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.570 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.602 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.602 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:40.602 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA"
  }
}
2018-08-07 23:00:40.603 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 23:00:40.629 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:40.721 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:40.776 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.801 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.811 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.826 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.826 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:40.844 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:44.348 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 23:00:50.937 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-07 23:00:50.980 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-07 23:00:51.457 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSN47D77L3:00000005",
  "TimeStamp": "2018-08-07T23:00:51Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:00:51.479 +00:00 [DBG] Augmenting SignInContext
2018-08-07 23:00:51.482 +00:00 [DBG] Adding amr claim with value: external
2018-08-07 23:00:51.489 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 23:00:51.518 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-07 23:00:51.563 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:00:51.564 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:00:51.564 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-07 23:00:51.566 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-07 23:00:51.567 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-07 23:00:51.576 +00:00 [DBG] Start authorize callback request
2018-08-07 23:00:51.583 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:00:51.583 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:51.596 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:51.606 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:51.617 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:51.625 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:51.634 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:51.634 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:51.634 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA"
  }
}
2018-08-07 23:00:51.811 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 23:00:51.844 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 23:00:51.858 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 23:00:51.886 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:00:51.887 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:00:52.076 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:00:52.077 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 23:00:52.101 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****8_xA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****yQug"
    }
  ],
  "ActivityId": "0HLFSN47D77L3:00000006",
  "TimeStamp": "2018-08-07T23:00:52Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:00:52.110 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 23:00:52.151 +00:00 [DBG] Augmenting SignInContext
2018-08-07 23:00:52.151 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 23:00:54.160 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:54.167 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.167 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.167 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:54.168 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:54.168 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:54.168 +00:00 [DBG] Start discovery request
2018-08-07 23:00:54.181 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:54.188 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.189 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.189 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:54.189 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:54.190 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:54.190 +00:00 [DBG] Start discovery request
2018-08-07 23:00:54.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:54.219 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:54.355 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:00:54.387 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.388 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.388 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:00:54.388 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:00:54.388 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:00:54.388 +00:00 [DBG] Start key discovery request
2018-08-07 23:01:12.056 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.067 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.067 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.077 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.087 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.087 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.186 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.186 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.237 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.237 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.237 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:01:12.238 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:01:12.238 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:01:12.238 +00:00 [DBG] Start discovery request
2018-08-07 23:01:12.248 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.248 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.249 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:01:12.250 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:01:12.250 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:01:12.250 +00:00 [DBG] Start discovery request
2018-08-07 23:01:12.266 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:01:12.270 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:01:12.348 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:01:12.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.373 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.514 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:01:12.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.563 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.563 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:01:12.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:01:12.564 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:01:12.564 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:30.131 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.142 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.142 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.153 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.165 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.165 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.226 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.232 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.244 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.244 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.244 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.244 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.245 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:30.245 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:30.245 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:30.247 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:30.248 +00:00 [DBG] Start discovery request
2018-08-07 23:02:30.247 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:30.249 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:30.254 +00:00 [DBG] Start discovery request
2018-08-07 23:02:30.284 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:30.285 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:30.356 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.365 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.374 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.403 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.403 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.426 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.442 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.442 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.443 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:30.443 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:30.443 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:30.443 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:30.489 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.496 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.496 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.497 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:30.497 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:30.497 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:30.497 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:39.251 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.259 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.260 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.268 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.275 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.275 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.378 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.383 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.425 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.425 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.426 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:39.426 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:39.426 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:39.426 +00:00 [DBG] Start discovery request
2018-08-07 23:02:39.427 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.427 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.428 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:39.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:39.428 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:39.428 +00:00 [DBG] Start discovery request
2018-08-07 23:02:39.495 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:39.497 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:39.709 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.727 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.735 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.749 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.749 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.902 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.905 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.925 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.926 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.926 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:39.926 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:39.926 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:39.927 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:39.952 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.953 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.954 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:39.954 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:39.955 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:39.955 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.010 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.018 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.018 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.028 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.035 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.035 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.146 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.164 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.199 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.200 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.200 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:38.201 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:38.201 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:38.202 +00:00 [DBG] Start discovery request
2018-08-07 23:11:38.205 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.207 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.207 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:38.207 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:38.208 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:38.208 +00:00 [DBG] Start discovery request
2018-08-07 23:11:38.245 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:38.267 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:38.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.333 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.359 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.359 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.387 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.387 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.549 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.550 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.562 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.562 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:38.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.563 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:38.563 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:38.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:38.563 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:38.563 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.563 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:38.564 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.653 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:11:38.653 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:11:38.653 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 23:11:38.654 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 23:11:38.654 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 23:11:38.654 +00:00 [DBG] Start authorize request
2018-08-07 23:11:38.654 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:11:38.654 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:11:38.741 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:11:38.756 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:11:38.775 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:11:38.828 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:11:38.856 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:11:38.856 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:11:38.856 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
  "Nonce": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7"
  }
}
2018-08-07 23:11:38.900 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 23:11:38.921 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 23:11:38.922 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 23:11:38.923 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:11:38.933 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:11:39.018 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:11:39.018 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 23:11:39.020 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****uDDw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****bfMQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LF:00000001",
  "TimeStamp": "2018-08-07T23:11:39Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:11:39.021 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 23:11:41.284 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.294 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.294 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.304 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.315 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.316 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.435 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.505 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.507 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.508 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:41.509 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:41.509 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:41.509 +00:00 [DBG] Start discovery request
2018-08-07 23:11:41.520 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.529 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.530 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:41.530 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:41.530 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:41.530 +00:00 [DBG] Start discovery request
2018-08-07 23:11:41.590 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:41.594 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:41.717 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.726 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.735 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.756 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.840 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.841 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.841 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:41.841 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:41.841 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:41.842 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:41.903 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.937 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.937 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.938 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:41.938 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:41.938 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:41.938 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:47.354 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.363 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.363 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.371 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.382 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.382 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.502 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.503 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.550 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.551 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.553 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:47.553 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:47.553 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:47.553 +00:00 [DBG] Start discovery request
2018-08-07 23:11:47.558 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.559 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.559 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:47.560 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:47.560 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:47.560 +00:00 [DBG] Start discovery request
2018-08-07 23:11:47.592 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:47.592 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:47.667 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.675 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.683 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.683 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.692 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.692 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.807 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.819 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.820 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.820 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:47.820 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:47.820 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:47.820 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:47.835 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.849 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.849 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.850 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:47.850 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:47.850 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:47.850 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:44.212 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.223 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.224 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.239 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.250 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.251 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.335 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.348 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.349 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.350 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:44.352 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:44.352 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:44.354 +00:00 [DBG] Start discovery request
2018-08-07 23:13:44.379 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:44.383 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.392 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.393 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.394 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:44.394 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:44.395 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:44.396 +00:00 [DBG] Start discovery request
2018-08-07 23:13:44.427 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:44.469 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.472 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.478 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.479 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.480 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.481 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.492 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.500 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.504 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.505 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:44.506 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:44.507 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:44.508 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:44.512 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.520 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.520 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.521 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:44.522 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:44.523 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:44.524 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:51.269 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.276 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.276 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.288 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.296 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.297 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.361 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.381 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.383 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.384 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:51.386 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:51.387 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:51.389 +00:00 [DBG] Start discovery request
2018-08-07 23:13:51.414 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:51.423 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.427 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.430 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.430 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.431 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:51.432 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:51.433 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:51.434 +00:00 [DBG] Start discovery request
2018-08-07 23:13:51.436 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.439 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.484 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.514 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.516 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:51.520 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:51.522 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:51.524 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:51.524 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:51.567 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.607 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.610 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.611 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:51.613 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:51.614 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:51.615 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:01.636 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.642 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.643 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.651 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.660 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.660 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.745 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.745 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.763 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.764 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.765 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.767 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.768 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:01.769 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:01.771 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:01.774 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:01.776 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:01.778 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:01.794 +00:00 [DBG] Start discovery request
2018-08-07 23:14:01.795 +00:00 [DBG] Start discovery request
2018-08-07 23:14:01.849 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:01.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:01.919 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:01.929 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:01.941 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.943 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.943 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.948 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.091 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:02.096 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:02.111 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:02.112 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:02.113 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.112 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.115 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:02.116 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:02.119 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:02.127 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:02.128 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:02.125 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:02.131 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:02.133 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:29.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.028 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.029 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.034 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.045 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.046 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.142 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.142 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.191 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.197 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.199 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.197 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.201 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:29.206 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:29.216 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:29.208 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:29.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:29.233 +00:00 [DBG] Start discovery request
2018-08-07 23:14:29.225 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:29.246 +00:00 [DBG] Start discovery request
2018-08-07 23:14:29.288 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:29.290 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:29.424 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.427 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.445 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.447 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.447 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.454 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.479 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.493 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.508 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.510 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.511 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.511 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:29.513 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:29.515 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:29.512 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.517 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:29.518 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:29.520 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:29.521 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:29.522 +00:00 [DBG] Start key discovery request
