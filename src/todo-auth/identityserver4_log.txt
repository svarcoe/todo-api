2018-08-07 20:47:24.366 +00:00 [WRN] No XML encryptor configured. Key "ff39d414-ea44-4fcd-b5d7-60fb03f2cb5d" may be persisted to storage in unencrypted form.
2018-08-07 20:47:25.881 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 20:47:25.894 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 20:47:25.907 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 20:47:25.911 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 20:47:25.915 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 20:47:32.913 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:27:47.366 +00:00 [WRN] No XML encryptor configured. Key "a68b0e83-752f-4a7c-9ccd-f8aad525df15" may be persisted to storage in unencrypted form.
2018-08-07 21:27:47.701 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 21:27:47.702 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 21:27:47.703 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 21:27:47.704 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 21:27:47.706 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 21:27:49.319 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:45:03.624 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 21:45:03.664 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 21:45:03.665 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 21:45:03.666 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 21:45:03.667 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 21:45:05.193 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 21:57:02.501 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 21:57:02.693 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:02.702 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:02.882 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 21:57:02.909 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 21:57:02.910 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 21:57:02.915 +00:00 [DBG] Start discovery request
2018-08-07 21:57:03.663 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 21:57:03.810 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 21:57:03.814 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 21:57:03.828 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.828 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.829 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 21:57:03.829 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 21:57:03.829 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 21:57:03.829 +00:00 [DBG] Start discovery request
2018-08-07 21:57:03.829 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.830 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.830 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 21:57:03.832 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 21:57:03.833 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 21:57:03.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 21:57:03.854 +00:00 [DBG] Start key discovery request
2018-08-07 21:57:03.900 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 21:57:03.910 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 21:57:03.910 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 21:57:03.910 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 21:57:03.928 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 21:57:03.929 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 21:57:03.929 +00:00 [DBG] Start key discovery request
2018-08-07 21:57:03.995 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 21:57:04.003 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 21:57:04.003 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 21:57:04.015 +00:00 [DBG] Start authorize request
2018-08-07 21:57:04.050 +00:00 [DBG] No user present in authorize request
2018-08-07 21:57:04.060 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:04.496 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:04.543 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:04.592 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:04.610 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:04.623 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:04.641 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:04.659 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL;some-state",
  "Nonce": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "ZUng9Qeq7zNxs4EGWhNnRXY0gvzMNAfVV5TKgUFL"
  }
}
2018-08-07 21:57:04.669 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 21:57:05.257 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:05.270 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:05.279 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:05.290 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:05.297 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:05.310 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:05.311 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:05.328 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:17.112 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 21:57:49.419 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 21:57:49.437 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 21:57:49.453 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:49.469 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:49.481 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 21:57:49.493 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 21:57:49.493 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 21:57:49.512 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:00:59.403 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:00:59.453 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:00:59.454 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:00:59.455 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:00:59.456 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:01:00.771 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:01:10.661 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:10.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:10.820 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:10.939 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:10.966 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:10.968 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:10.975 +00:00 [DBG] Start discovery request
2018-08-07 22:01:11.955 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:12.119 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:12.123 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:12.135 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.135 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.137 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:12.137 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:12.138 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:12.138 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:12.138 +00:00 [DBG] Start discovery request
2018-08-07 22:01:12.138 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:12.138 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:12.156 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:12.160 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:12.235 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:12.243 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:12.243 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:12.244 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:12.244 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:12.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:12.244 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:12.313 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:01:12.331 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:01:12.331 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:01:12.379 +00:00 [DBG] Start authorize request
2018-08-07 22:01:12.436 +00:00 [DBG] No user present in authorize request
2018-08-07 22:01:12.450 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:12.840 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:12.903 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:12.960 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:12.979 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:12.989 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.001 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:13.019 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM;some-state",
  "Nonce": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "iHcuDmFOTVL5Ct2waKcUjcNrlZ9VEuHAiMMBYBoM"
  }
}
2018-08-07 22:01:13.036 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:01:13.637 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:13.657 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:13.668 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:13.681 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.691 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:13.711 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:13.711 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:13.733 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:24.491 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:01:46.372 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:46.379 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.379 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.379 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:46.380 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:46.380 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:46.380 +00:00 [DBG] Start discovery request
2018-08-07 22:01:46.402 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:46.405 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:01:46.411 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.412 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.412 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:01:46.412 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:01:46.412 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:01:46.413 +00:00 [DBG] Start discovery request
2018-08-07 22:01:46.428 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:01:46.469 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:46.482 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.482 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.483 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:46.483 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:46.483 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:46.484 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:46.487 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:01:46.499 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:01:46.499 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:01:46.499 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:01:46.500 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:01:46.500 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:01:46.500 +00:00 [DBG] Start key discovery request
2018-08-07 22:01:46.551 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:01:46.552 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:01:46.552 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:01:46.552 +00:00 [DBG] Start authorize request
2018-08-07 22:01:46.553 +00:00 [DBG] No user present in authorize request
2018-08-07 22:01:46.553 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:46.574 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:46.586 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.601 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.612 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.647 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.648 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:46.648 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0;some-state",
  "Nonce": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "qg6BGhyD86XitzLbYfbgLVVrbNrgN7csOBvzYyn0"
  }
}
2018-08-07 22:01:46.649 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:01:46.672 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:01:46.687 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:46.696 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.709 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.723 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:01:46.745 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:01:46.745 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:01:46.765 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:01:50.710 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:01:55.334 +00:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-08-07 22:01:57.924 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:06.984 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:06.985 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:06.985 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:06.985 +00:00 [DBG] Start discovery request
2018-08-07 22:02:07.022 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:10.503 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-07 22:02:30.425 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:02:30.464 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:02:30.465 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:02:30.466 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:02:30.467 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:02:31.897 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:02:36.362 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:36.524 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:36.528 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:36.660 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:36.724 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:36.725 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:36.731 +00:00 [DBG] Start discovery request
2018-08-07 22:02:37.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:38.010 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:38.014 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:38.027 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.027 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.028 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.028 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.030 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:38.030 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:38.031 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:38.032 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:38.032 +00:00 [DBG] Start discovery request
2018-08-07 22:02:38.033 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:38.034 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:38.056 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:38.073 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:38.160 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:38.172 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:38.172 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:38.173 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:38.174 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:38.174 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:38.174 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:38.250 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:38.281 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:38.282 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:38.290 +00:00 [DBG] Start authorize request
2018-08-07 22:02:38.341 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:38.358 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:38.677 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:38.738 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:38.813 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:38.847 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:38.856 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:38.875 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:38.895 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549;some-state",
  "Nonce": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Z7ZxtuOKUcUW2z10t1DxXdZBzM9W7XLKRrsDM549"
  }
}
2018-08-07 22:02:38.913 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:39.523 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:39.551 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:39.565 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:39.584 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:39.595 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:39.622 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:39.622 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:39.658 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:50.325 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:50.923 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:50.932 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:50.932 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:50.933 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:50.933 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:50.933 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:50.933 +00:00 [DBG] Start discovery request
2018-08-07 22:02:50.956 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:50.960 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:50.967 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:50.967 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:50.968 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:50.968 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:50.968 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:50.968 +00:00 [DBG] Start discovery request
2018-08-07 22:02:50.987 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:51.061 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:51.069 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:51.069 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:51.069 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:51.070 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:51.070 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:51.070 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:51.073 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:51.081 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:51.081 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:51.081 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:51.082 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:51.082 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:51.082 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:51.159 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:51.160 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:51.160 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:51.160 +00:00 [DBG] Start authorize request
2018-08-07 22:02:51.160 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:51.161 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:51.205 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:51.245 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.271 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.282 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.300 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.301 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:51.302 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC;some-state",
  "Nonce": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "uvNRC0Bjoixyrckd0X5N84VyrwN4hwpAjz0alTtC"
  }
}
2018-08-07 22:02:51.302 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:51.321 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:51.344 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:51.353 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.367 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.382 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:51.394 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:51.395 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:51.416 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:53.357 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:02:54.219 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:54.230 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.231 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.231 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:54.231 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:54.231 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:54.232 +00:00 [DBG] Start discovery request
2018-08-07 22:02:54.251 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:54.254 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:02:54.260 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.260 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.260 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:02:54.261 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:02:54.261 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:02:54.261 +00:00 [DBG] Start discovery request
2018-08-07 22:02:54.276 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:02:54.338 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:54.348 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.348 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.348 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:54.349 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:54.349 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:54.349 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:54.353 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:02:54.361 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:02:54.361 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:02:54.362 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:02:54.362 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:02:54.362 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:02:54.362 +00:00 [DBG] Start key discovery request
2018-08-07 22:02:54.438 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:02:54.438 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:02:54.438 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:02:54.439 +00:00 [DBG] Start authorize request
2018-08-07 22:02:54.439 +00:00 [DBG] No user present in authorize request
2018-08-07 22:02:54.439 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:54.462 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:54.489 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.515 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.524 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.539 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.540 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:54.540 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8;some-state",
  "Nonce": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "MPy3Ns0PzOGBsWZEUIAuD7rXW2zrdVwuWlQnEGa8"
  }
}
2018-08-07 22:02:54.540 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:02:54.550 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:02:54.568 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:02:54.581 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.590 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.598 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:02:54.606 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:02:54.607 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:02:54.616 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:15.507 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:03:15.541 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:03:15.542 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:03:15.543 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:03:15.544 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:03:16.920 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:03:23.976 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:03:24.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:24.114 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:24.243 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:03:24.274 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:03:24.275 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:03:24.281 +00:00 [DBG] Start discovery request
2018-08-07 22:03:25.046 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:03:25.179 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:03:25.182 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:03:25.200 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.201 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.201 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.201 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.201 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:03:25.202 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:03:25.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:03:25.203 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:03:25.203 +00:00 [DBG] Start discovery request
2018-08-07 22:03:25.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:03:25.204 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:03:25.232 +00:00 [DBG] Start key discovery request
2018-08-07 22:03:25.234 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:03:25.301 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:03:25.306 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:03:25.307 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:03:25.307 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:03:25.307 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:03:25.307 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:03:25.308 +00:00 [DBG] Start key discovery request
2018-08-07 22:03:25.370 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:03:25.399 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:03:25.400 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:03:25.412 +00:00 [DBG] Start authorize request
2018-08-07 22:03:25.450 +00:00 [DBG] No user present in authorize request
2018-08-07 22:03:25.459 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:25.891 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:25.958 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.012 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.032 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.044 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.053 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:26.064 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2;some-state",
  "Nonce": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "RbC6OxNzhaMOpAUpBpdJiFgomTnG54UFaIC65yQ2"
  }
}
2018-08-07 22:03:26.075 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:03:26.503 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:26.519 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:26.527 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.536 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.542 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:26.551 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:26.551 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:26.565 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:42.836 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:03:42.858 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:42.876 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:42.895 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:42.909 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:03:42.919 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:03:42.920 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:03:42.928 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:03:45.868 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:03:49.892 +00:00 [INF] Error from RemoteAuthentication: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled..
2018-08-07 22:03:49.905 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Http.HttpRequestException: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled.
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-08-07 22:04:08.106 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:08.113 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.113 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.113 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:08.114 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:08.114 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:08.114 +00:00 [DBG] Start discovery request
2018-08-07 22:04:08.135 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:08.139 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:08.145 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.145 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.146 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:08.146 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:08.146 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:08.146 +00:00 [DBG] Start discovery request
2018-08-07 22:04:08.166 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:08.199 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:08.208 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.208 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.209 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:08.209 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:08.209 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:08.209 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:08.212 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:08.221 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:08.221 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:08.221 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:08.222 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:08.222 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:08.222 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:08.286 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:04:08.286 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:04:08.287 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:04:08.287 +00:00 [DBG] Start authorize request
2018-08-07 22:04:08.288 +00:00 [DBG] No user present in authorize request
2018-08-07 22:04:08.288 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:08.316 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:08.325 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.336 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.349 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.362 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.363 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:08.363 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F;some-state",
  "Nonce": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "FcTAi3WwO8V3hMNQQT5EILf4oBte3als2FHrcb9F"
  }
}
2018-08-07 22:04:08.363 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:04:08.406 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:08.425 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:08.438 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.455 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.462 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:08.475 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:08.476 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:08.489 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.511 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:36.522 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.522 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.522 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:36.523 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:36.523 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:36.523 +00:00 [DBG] Start discovery request
2018-08-07 22:04:36.552 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:36.556 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:04:36.576 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.576 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.576 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:04:36.576 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:04:36.576 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:04:36.577 +00:00 [DBG] Start discovery request
2018-08-07 22:04:36.611 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:04:36.659 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:36.670 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.670 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.671 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:36.671 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:36.672 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:36.672 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:36.680 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:04:36.689 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:04:36.689 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:04:36.689 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:04:36.690 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:04:36.690 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:04:36.690 +00:00 [DBG] Start key discovery request
2018-08-07 22:04:36.763 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:04:36.764 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:04:36.764 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:04:36.765 +00:00 [DBG] Start authorize request
2018-08-07 22:04:36.765 +00:00 [DBG] No user present in authorize request
2018-08-07 22:04:36.765 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:36.792 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.811 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.848 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.887 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.900 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.900 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:36.901 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw;some-state",
  "Nonce": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Cpt22Ywryl8cQmEjIaywzELBk57gKW5XwXyGzpVw"
  }
}
2018-08-07 22:04:36.901 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:04:36.909 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:04:36.923 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:36.932 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.943 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.950 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:04:36.960 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:04:36.960 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:04:36.971 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:04:39.355 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:04:42.849 +00:00 [INF] Error from RemoteAuthentication: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled..
2018-08-07 22:04:42.850 +00:00 [ERR] An unhandled exception has occurred while executing the request
System.Net.Http.HttpRequestException: An error occurred when retrieving user information (Forbidden). Please check if the authentication information is correct and the corresponding Google+ API is enabled.
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-08-07 22:18:54.920 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:18:54.959 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:18:54.960 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:18:54.961 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:18:54.962 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:18:56.330 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:18:57.188 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::]:5000: address already in use. ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.AddressInUseException: Error -98 EADDRINUSE address already in use ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -98 EADDRINUSE address already in use
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.ThrowError(Int32 statusCode)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvTcpHandle.GetSockIPEndPoint()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.ListenTcp(Boolean useFileHandle)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.<>c.<StartAsync>b__8_0(Listener listener)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.DoPostWork()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.ListenerPrimary.StartAsync(String pipeName, Byte[] pipeMessage, IEndPointInformation endPointInformation, LibuvThread thread)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass23_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAddressAsync(String address, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, List`1 listenOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2018-08-07 22:22:27.557 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:22:27.591 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:22:27.593 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:22:27.594 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:22:27.595 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:22:29.651 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:22:30.379 +00:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address http://[::]:5000: address already in use. ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Abstractions.Internal.AddressInUseException: Error -98 EADDRINUSE address already in use ---> Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvException: Error -98 EADDRINUSE address already in use
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.LibuvFunctions.ThrowError(Int32 statusCode)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Networking.UvTcpHandle.GetSockIPEndPoint()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.ListenTcp(Boolean useFileHandle)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.Listener.<>c.<StartAsync>b__8_0(Listener listener)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.LibuvThread.DoPostWork()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.Internal.ListenerPrimary.StartAsync(String pipeName, Byte[] pipeMessage, IEndPointInformation endPointInformation, LibuvThread thread)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Libuv.LibuvTransport.BindAsync()
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass23_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAddressAsync(String address, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, List`1 listenOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2018-08-07 22:22:45.475 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:22:45.506 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:22:45.507 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:22:45.508 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:22:45.510 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:22:46.911 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:22:49.997 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:22:50.237 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:50.242 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:50.386 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:22:50.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:22:50.430 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:22:50.437 +00:00 [DBG] Start discovery request
2018-08-07 22:22:51.415 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:22:51.558 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:22:51.562 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:22:51.574 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.574 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.574 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.575 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.576 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:22:51.577 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:22:51.580 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:22:51.580 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:22:51.581 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:22:51.582 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:22:51.582 +00:00 [DBG] Start discovery request
2018-08-07 22:22:51.602 +00:00 [DBG] Start key discovery request
2018-08-07 22:22:51.605 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:22:51.663 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:22:51.673 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:22:51.673 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:22:51.673 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:22:51.673 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:22:51.673 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:22:51.674 +00:00 [DBG] Start key discovery request
2018-08-07 22:22:51.736 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:22:51.759 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:22:51.760 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:22:51.766 +00:00 [DBG] Start authorize request
2018-08-07 22:22:51.795 +00:00 [DBG] No user present in authorize request
2018-08-07 22:22:51.805 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:22:52.150 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:22:52.206 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.262 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.291 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.302 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.316 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:22:52.349 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ"
  }
}
2018-08-07 22:22:52.360 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:22:52.881 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:22:52.898 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:22:52.915 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.951 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.965 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:22:52.978 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:22:52.979 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:22:53.009 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:23:03.218 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:23:06.895 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-07 22:23:06.934 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-07 22:23:07.589 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSMH7KGG5P:00000005",
  "TimeStamp": "2018-08-07T22:23:07Z",
  "ProcessId": 2450,
  "LocalIpAddress": "172.18.0.6:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:23:07.608 +00:00 [DBG] Augmenting SignInContext
2018-08-07 22:23:07.611 +00:00 [DBG] Adding amr claim with value: external
2018-08-07 22:23:07.618 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 22:23:07.635 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-07 22:23:07.660 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:23:07.661 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:23:07.661 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-07 22:23:07.663 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-07 22:23:07.663 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-07 22:23:07.671 +00:00 [DBG] Start authorize callback request
2018-08-07 22:23:07.676 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:23:07.676 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:23:07.691 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:23:07.699 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:23:07.711 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:23:07.719 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:23:07.727 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:23:07.727 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:23:07.727 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ",
  "SessionId": "cc794ad2e9db9a4667864d8803350915",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ"
  }
}
2018-08-07 22:23:07.815 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 22:23:07.832 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 22:23:07.841 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 22:23:07.853 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:23:07.854 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:23:07.959 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:23:07.960 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 22:23:07.977 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****p3Nw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****yp0Q"
    }
  ],
  "ActivityId": "0HLFSMH7KGG5P:00000006",
  "TimeStamp": "2018-08-07T22:23:07Z",
  "ProcessId": 2450,
  "LocalIpAddress": "172.18.0.6:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:23:07.981 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "Kz6VG2UC8JEtwtqbpdNhpXz66VJ3LDCFCLE3hIoZ;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 22:23:08.006 +00:00 [DBG] Augmenting SignInContext
2018-08-07 22:23:08.007 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 22:23:08.611 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:08.620 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.620 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.620 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:08.621 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:08.621 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:08.621 +00:00 [DBG] Start discovery request
2018-08-07 22:23:08.644 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:08.648 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:08.655 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.656 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.656 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:08.656 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:08.656 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:08.656 +00:00 [DBG] Start discovery request
2018-08-07 22:23:08.677 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:08.740 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:08.754 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.754 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.755 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:08.755 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:08.756 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:08.756 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:08.759 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:08.769 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:08.769 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:08.769 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:08.770 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:08.770 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:08.770 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.118 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.126 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.126 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.135 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.170 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.171 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.238 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.258 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.259 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.259 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.273 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.274 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.274 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.317 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.321 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:23:23.336 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.336 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.336 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.337 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.337 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.337 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.348 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.351 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:23:23.352 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:23:23.353 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:23:23.353 +00:00 [DBG] Start discovery request
2018-08-07 22:23:23.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.373 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.382 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.387 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.391 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:23:23.401 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.402 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.406 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.407 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.408 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.408 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.413 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:23:23.427 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:23:23.427 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:23:23.427 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.428 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.429 +00:00 [DBG] Start key discovery request
2018-08-07 22:23:23.489 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:23:23.490 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:23:23.490 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:23:23.490 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:09.671 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.685 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.685 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.695 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.711 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.711 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.794 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.816 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.816 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.817 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:09.818 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:09.819 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:09.819 +00:00 [DBG] Start discovery request
2018-08-07 22:24:09.845 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:09.853 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:09.861 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.861 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.862 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:09.862 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:09.862 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:09.863 +00:00 [DBG] Start discovery request
2018-08-07 22:24:09.892 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:09.906 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.918 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.918 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.952 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.964 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.964 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.974 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:09.985 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:09.985 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:09.986 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:09.988 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:09.990 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:09.990 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:09.996 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:10.009 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:10.009 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:10.009 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:10.010 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:10.010 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:10.010 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:17.704 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.712 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.712 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.715 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.723 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.723 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.742 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.755 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.756 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:17.756 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:17.756 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:17.757 +00:00 [DBG] Start discovery request
2018-08-07 22:24:17.785 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:17.789 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:24:17.796 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.797 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.797 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:24:17.797 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:24:17.797 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:24:17.797 +00:00 [DBG] Start discovery request
2018-08-07 22:24:17.810 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.828 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.829 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.839 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.841 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:24:17.855 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.855 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.856 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:17.856 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:17.857 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:17.857 +00:00 [DBG] Start key discovery request
2018-08-07 22:24:17.861 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:24:17.877 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:24:17.877 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:24:17.878 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:24:17.878 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:24:17.878 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:24:17.879 +00:00 [DBG] Start key discovery request
2018-08-07 22:25:38.994 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:25:39.044 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:25:39.058 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:25:39.061 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:25:39.065 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:25:40.746 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:26:41.737 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.737 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.898 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.899 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.905 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:41.905 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:41.982 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:41.987 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:41.988 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:42.113 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:26:42.159 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:26:42.160 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:26:42.167 +00:00 [DBG] Start discovery request
2018-08-07 22:26:43.096 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:26:43.222 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:26:43.230 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.234 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.234 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.235 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:26:43.236 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:26:43.236 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:26:43.237 +00:00 [DBG] Start discovery request
2018-08-07 22:26:43.241 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.242 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.249 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.257 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.257 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.258 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:26:43.262 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:26:43.263 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:26:43.266 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:26:43.270 +00:00 [DBG] Start key discovery request
2018-08-07 22:26:43.339 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:26:43.347 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:26:43.347 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:26:43.347 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:26:43.348 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:26:43.353 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:26:43.354 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:01.281 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.288 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.288 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.296 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.304 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.304 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.387 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.397 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.397 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.398 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:01.398 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:01.398 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:01.398 +00:00 [DBG] Start discovery request
2018-08-07 22:27:01.439 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:01.442 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:01.450 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.451 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.451 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:01.451 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:01.452 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:01.452 +00:00 [DBG] Start discovery request
2018-08-07 22:27:01.470 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:01.473 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.481 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.482 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.503 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.510 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.512 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.512 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.518 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.518 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.518 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:01.519 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:01.519 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:01.519 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:01.526 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:01.534 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:01.534 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:01.534 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:01.535 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:01.535 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:01.535 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:08.905 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.912 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.912 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.916 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.925 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.925 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.945 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.956 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.957 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.957 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:08.957 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:08.958 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:08.958 +00:00 [DBG] Start discovery request
2018-08-07 22:27:08.983 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:08.987 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:08.997 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:08.997 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:08.997 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:08.997 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:08.998 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:08.998 +00:00 [DBG] Start discovery request
2018-08-07 22:27:09.018 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.019 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:09.026 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.026 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.050 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.057 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.063 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.064 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.065 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.065 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.065 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:09.066 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:09.066 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:09.066 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:09.070 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:09.082 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:09.082 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:09.083 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:09.083 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:09.083 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:09.083 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:15.116 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.137 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.137 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.149 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.162 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.162 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.317 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.330 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.331 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.331 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:15.332 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:15.332 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:15.332 +00:00 [DBG] Start discovery request
2018-08-07 22:27:15.407 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:15.418 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:27:15.454 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.466 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.466 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.467 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:27:15.468 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:27:15.469 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:27:15.469 +00:00 [DBG] Start discovery request
2018-08-07 22:27:15.493 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.494 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.550 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.564 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:27:15.580 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.581 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.581 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:15.581 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:15.581 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:15.581 +00:00 [DBG] Start key discovery request
2018-08-07 22:27:15.586 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:27:15.613 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:27:15.614 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:27:15.615 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:27:15.615 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:27:15.615 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:27:15.616 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:02.513 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:32:02.563 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:32:02.564 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:32:02.565 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:32:02.567 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:32:04.218 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:32:43.476 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:43.476 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:43.803 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:43.813 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:43.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:43.823 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:43.823 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:43.891 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:43.894 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:43.910 +00:00 [DBG] Start discovery request
2018-08-07 22:32:44.023 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:44.037 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:44.038 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:44.040 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:44.043 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:44.044 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:44.046 +00:00 [DBG] Start discovery request
2018-08-07 22:32:44.921 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:44.921 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:45.082 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.083 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:45.090 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.090 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.091 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.091 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.092 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:45.092 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:45.092 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:45.092 +00:00 [DBG] Start discovery request
2018-08-07 22:32:45.097 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.106 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.107 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.107 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.108 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.109 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.114 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.141 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:45.162 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.164 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.166 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.168 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.198 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:45.228 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:45.228 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:45.229 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:45.229 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:45.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:45.230 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:45.387 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:32:45.392 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:32:45.393 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:32:45.406 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:32:45.406 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:32:45.413 +00:00 [DBG] Start authorize request
2018-08-07 22:32:45.482 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:32:45.491 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:32:45.983 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:32:46.039 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:32:46.101 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:32:46.122 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:32:46.136 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:32:46.149 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:32:46.165 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
  "Nonce": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2",
  "SessionId": "cc794ad2e9db9a4667864d8803350915",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2"
  }
}
2018-08-07 22:32:46.449 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 22:32:46.464 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 22:32:46.473 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 22:32:46.486 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:32:46.487 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 22:32:46.744 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 22:32:46.744 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 22:32:46.782 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****Bk4Q"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****nlwQ"
    }
  ],
  "ActivityId": "0HLFSMMOE95BG:00000001",
  "TimeStamp": "2018-08-07T22:32:46Z",
  "ProcessId": 525,
  "LocalIpAddress": "172.18.0.4:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 22:32:46.786 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "lYq2boWn5DzMnCK6fQyYu81Jwkx6WfU0TJ9qVFL2;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 22:32:47.535 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:47.570 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.571 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.571 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:47.572 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:47.572 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:47.572 +00:00 [DBG] Start discovery request
2018-08-07 22:32:47.648 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:47.658 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:32:47.686 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.688 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.691 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:32:47.693 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:32:47.693 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:32:47.693 +00:00 [DBG] Start discovery request
2018-08-07 22:32:47.748 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:32:47.779 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:47.798 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.798 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.799 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:47.800 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:47.801 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:47.801 +00:00 [DBG] Start key discovery request
2018-08-07 22:32:47.817 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:32:47.835 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:32:47.835 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:32:47.836 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:32:47.836 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:32:47.836 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:32:47.836 +00:00 [DBG] Start key discovery request
2018-08-07 22:37:05.546 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.554 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.554 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.561 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.569 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.569 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.617 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.627 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.628 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.628 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:37:05.629 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:37:05.629 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:37:05.629 +00:00 [DBG] Start discovery request
2018-08-07 22:37:05.657 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:37:05.663 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:37:05.674 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.674 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.674 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:37:05.675 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:37:05.675 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:37:05.675 +00:00 [DBG] Start discovery request
2018-08-07 22:37:05.707 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.736 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.748 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:37:05.780 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.786 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.786 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.786 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:37:05.787 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:37:05.787 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:37:05.787 +00:00 [DBG] Start key discovery request
2018-08-07 22:37:05.790 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:37:05.797 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:37:05.798 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:37:05.798 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:37:05.799 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:37:05.799 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:37:05.799 +00:00 [DBG] Start key discovery request
2018-08-07 22:45:34.741 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:45:34.775 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:45:34.777 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:45:34.778 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:45:34.778 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:45:36.341 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:02.002 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:02.033 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:02.034 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:02.035 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:02.036 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:03.638 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:31.740 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:31.772 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:31.773 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:31.775 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:31.776 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:33.298 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:46:41.523 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:46:41.554 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:46:41.555 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:46:41.556 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:46:41.557 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:46:43.203 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:47:51.684 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:47:51.763 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:47:51.765 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:47:51.769 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:47:51.772 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:47:51.776 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:47:53.277 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:47:58.711 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.711 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.894 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:58.894 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:58.979 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:47:58.985 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:47:58.985 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:47:59.197 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:47:59.242 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:47:59.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:47:59.257 +00:00 [DBG] Start discovery request
2018-08-07 22:48:00.072 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:00.191 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:00.201 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:00.202 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:00.203 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:00.203 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:00.204 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:00.204 +00:00 [DBG] Start discovery request
2018-08-07 22:48:00.238 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:19.609 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.618 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.618 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.621 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.629 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.629 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.720 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.743 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.744 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.744 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:19.744 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:19.744 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:19.744 +00:00 [DBG] Start discovery request
2018-08-07 22:48:19.791 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:48:19.795 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:48:19.816 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:48:19.816 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:48:19.816 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:48:19.817 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:48:19.817 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:48:19.817 +00:00 [DBG] Start discovery request
2018-08-07 22:48:19.844 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:04.516 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:49:04.521 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 22:49:04.523 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:04.524 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:04.524 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:04.524 +00:00 [DBG] Start discovery request
2018-08-07 22:49:04.547 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.100 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.110 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.121 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.136 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.136 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.206 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.206 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:49:11.231 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.231 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.233 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:49:11.233 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.234 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:49:11.237 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.237 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.237 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.237 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.240 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.242 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.242 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.243 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:49:11.244 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:49:11.244 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:49:11.244 +00:00 [DBG] Start discovery request
2018-08-07 22:49:11.276 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.277 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.280 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:49:11.391 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:49:11.393 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:49:11.394 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:49:11.408 +00:00 [DBG] Start key discovery request
2018-08-07 22:50:54.336 +00:00 [WRN] No XML encryptor configured. Key "5bf7704d-084e-4a14-a557-e89f4bedbc0f" may be persisted to storage in unencrypted form.
2018-08-07 22:50:54.660 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:50:54.680 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:50:54.681 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:50:54.682 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:50:54.683 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:50:54.684 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:50:56.316 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:52:04.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.629 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.630 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.630 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.632 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.702 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:04.821 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:04.823 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:04.833 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:04.838 +00:00 [DBG] Start discovery request
2018-08-07 22:52:04.844 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:04.845 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:04.848 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:04.852 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:04.854 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:04.855 +00:00 [DBG] Start discovery request
2018-08-07 22:52:06.375 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.375 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.532 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:52:06.545 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:52:06.546 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:52:06.547 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:52:06.557 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:52:06.558 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:52:06.558 +00:00 [DBG] Start discovery request
2018-08-07 22:52:06.580 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:52:06.618 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:52:06.619 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:52:06.620 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:52:06.625 +00:00 [DBG] Start key discovery request
2018-08-07 22:54:17.284 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.294 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.294 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.321 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.321 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.465 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.489 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.489 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.489 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:17.490 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:17.490 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:17.490 +00:00 [DBG] Start discovery request
2018-08-07 22:54:17.536 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:17.540 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:17.550 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:17.551 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:17.551 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:17.552 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:17.552 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:17.552 +00:00 [DBG] Start discovery request
2018-08-07 22:54:17.590 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:30.089 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.096 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.097 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.106 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.113 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.114 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.174 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.175 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:54:30.195 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.195 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.196 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:30.196 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:30.197 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:30.197 +00:00 [DBG] Start discovery request
2018-08-07 22:54:30.197 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:54:30.198 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:54:30.198 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:54:30.199 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:54:30.199 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:54:30.199 +00:00 [DBG] Start discovery request
2018-08-07 22:54:30.236 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:54:30.237 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:55:59.473 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-07 22:55:59.577 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-07 22:55:59.579 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-07 22:55:59.580 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-07 22:55:59.583 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-07 22:55:59.585 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-07 22:56:02.701 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-07 22:56:49.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:56:49.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:56:50.416 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:56:50.416 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:56:50.434 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:56:50.435 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:56:50.672 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:56:50.672 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:56:50.763 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:56:50.763 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:56:50.765 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:56:50.765 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:56:50.775 +00:00 [DBG] Start discovery request
2018-08-07 22:56:50.775 +00:00 [DBG] Start discovery request
2018-08-07 22:56:52.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:56:52.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:57:30.216 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:57:30.217 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:57:30.217 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:57:30.218 +00:00 [DBG] Start discovery request
2018-08-07 22:57:30.246 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.398 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:58:08.414 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.415 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.415 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:58:08.416 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:58:08.416 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:58:08.416 +00:00 [DBG] Start discovery request
2018-08-07 22:58:08.462 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:58:08.472 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.472 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.473 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:58:08.473 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:58:08.474 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:58:08.474 +00:00 [DBG] Start discovery request
2018-08-07 22:58:08.476 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.555 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:58:08.655 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:58:08.680 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 22:58:08.685 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.685 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.685 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:58:08.686 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:58:08.686 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:58:08.693 +00:00 [DBG] Start key discovery request
2018-08-07 22:58:08.712 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:58:08.712 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:58:08.712 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 22:58:08.713 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 22:58:08.713 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 22:58:08.713 +00:00 [DBG] Start key discovery request
2018-08-07 22:58:09.361 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 22:58:09.367 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 22:58:09.367 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 22:58:09.394 +00:00 [DBG] Start authorize request
2018-08-07 22:58:09.479 +00:00 [DBG] No user present in authorize request
2018-08-07 22:58:09.508 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:10.418 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:10.506 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:10.716 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:10.780 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:10.800 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:10.819 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:10.845 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b;some-state",
  "Nonce": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "n66s7Mjs3PDNCWnQfsVRKDHhMRV5rmxRz8aDyV2b"
  }
}
2018-08-07 22:58:10.875 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 22:58:11.198 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:11.232 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:11.276 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:11.310 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:11.325 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:11.357 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:11.358 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:11.401 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:18.730 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 22:58:26.595 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 22:58:26.617 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:58:26.635 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:26.666 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:26.687 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 22:58:26.741 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 22:58:26.742 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 22:58:26.752 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 22:59:54.249 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:59:54.280 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:59:54.280 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:59:54.281 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:59:54.281 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:59:54.281 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:59:54.281 +00:00 [DBG] Start discovery request
2018-08-07 22:59:54.302 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 22:59:54.317 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 22:59:54.317 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 22:59:54.318 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 22:59:54.324 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 22:59:54.324 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 22:59:54.324 +00:00 [DBG] Start discovery request
2018-08-07 22:59:54.355 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 22:59:54.365 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.239 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:39.250 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.250 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.251 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:39.252 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:39.253 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:39.253 +00:00 [DBG] Start discovery request
2018-08-07 23:00:39.264 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:39.287 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.299 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.306 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:39.309 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:39.311 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:39.311 +00:00 [DBG] Start discovery request
2018-08-07 23:00:39.455 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.489 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:39.752 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:00:39.846 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:39.846 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:39.847 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:00:39.847 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:00:39.847 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:00:39.848 +00:00 [DBG] Start key discovery request
2018-08-07 23:00:40.187 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 23:00:40.188 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 23:00:40.188 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 23:00:40.188 +00:00 [DBG] Start authorize request
2018-08-07 23:00:40.189 +00:00 [DBG] No user present in authorize request
2018-08-07 23:00:40.189 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:40.348 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:40.419 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.516 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.570 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.602 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.602 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:40.602 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA"
  }
}
2018-08-07 23:00:40.603 +00:00 [INF] Showing login: User is not authenticated
2018-08-07 23:00:40.629 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:40.721 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:40.776 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.801 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.811 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:40.826 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:40.826 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:40.844 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:44.348 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-07 23:00:50.937 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-07 23:00:50.980 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-07 23:00:51.457 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSN47D77L3:00000005",
  "TimeStamp": "2018-08-07T23:00:51Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:00:51.479 +00:00 [DBG] Augmenting SignInContext
2018-08-07 23:00:51.482 +00:00 [DBG] Adding amr claim with value: external
2018-08-07 23:00:51.489 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 23:00:51.518 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-07 23:00:51.563 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:00:51.564 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:00:51.564 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-07 23:00:51.566 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-07 23:00:51.567 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-07 23:00:51.576 +00:00 [DBG] Start authorize callback request
2018-08-07 23:00:51.583 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:00:51.583 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:00:51.596 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:00:51.606 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:51.617 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:51.625 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:00:51.634 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:00:51.634 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:00:51.634 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA"
  }
}
2018-08-07 23:00:51.811 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 23:00:51.844 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 23:00:51.858 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 23:00:51.886 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:00:51.887 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:00:52.076 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:00:52.077 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 23:00:52.101 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****8_xA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****yQug"
    }
  ],
  "ActivityId": "0HLFSN47D77L3:00000006",
  "TimeStamp": "2018-08-07T23:00:52Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:00:52.110 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "79IW6IqT0Plc5KZeOVMFWFEgHs0DF3UWE13D7CzA;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 23:00:52.151 +00:00 [DBG] Augmenting SignInContext
2018-08-07 23:00:52.151 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-07 23:00:54.160 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:54.167 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.167 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.167 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:54.168 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:54.168 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:54.168 +00:00 [DBG] Start discovery request
2018-08-07 23:00:54.181 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:00:54.188 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.189 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.189 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:00:54.189 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:00:54.190 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:00:54.190 +00:00 [DBG] Start discovery request
2018-08-07 23:00:54.193 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:54.219 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:00:54.355 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:00:54.387 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:00:54.388 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:00:54.388 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:00:54.388 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:00:54.388 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:00:54.388 +00:00 [DBG] Start key discovery request
2018-08-07 23:01:12.056 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.067 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.067 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.077 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.087 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.087 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.186 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.186 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:01:12.237 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.237 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.237 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:01:12.238 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:01:12.238 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:01:12.238 +00:00 [DBG] Start discovery request
2018-08-07 23:01:12.248 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.248 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.249 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:01:12.250 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:01:12.250 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:01:12.250 +00:00 [DBG] Start discovery request
2018-08-07 23:01:12.266 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:01:12.270 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:01:12.348 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:01:12.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.373 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.514 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:01:12.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:01:12.563 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:01:12.563 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:01:12.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:01:12.564 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:01:12.564 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:30.131 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.142 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.142 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.153 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.165 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.165 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.226 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.232 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:30.244 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.244 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.244 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.244 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.245 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:30.245 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:30.245 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:30.247 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:30.248 +00:00 [DBG] Start discovery request
2018-08-07 23:02:30.247 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:30.249 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:30.254 +00:00 [DBG] Start discovery request
2018-08-07 23:02:30.284 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:30.285 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:30.356 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.365 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.373 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.374 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.403 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.403 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.426 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.442 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.442 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.443 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:30.443 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:30.443 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:30.443 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:30.489 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:30.496 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:30.496 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:30.497 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:30.497 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:30.497 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:30.497 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:39.251 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.259 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.260 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.268 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.275 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.275 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.378 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.383 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:02:39.425 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.425 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.426 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:39.426 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:39.426 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:39.426 +00:00 [DBG] Start discovery request
2018-08-07 23:02:39.427 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.427 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.428 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:02:39.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:02:39.428 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:02:39.428 +00:00 [DBG] Start discovery request
2018-08-07 23:02:39.495 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:39.497 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:02:39.709 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.727 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.735 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.749 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.749 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.902 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.905 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:02:39.925 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.926 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.926 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:39.926 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:39.926 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:39.927 +00:00 [DBG] Start key discovery request
2018-08-07 23:02:39.952 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:02:39.953 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:02:39.954 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:02:39.954 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:02:39.955 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:02:39.955 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.010 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.018 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.018 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.028 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.035 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.035 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.146 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.164 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:38.199 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.200 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.200 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:38.201 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:38.201 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:38.202 +00:00 [DBG] Start discovery request
2018-08-07 23:11:38.205 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.207 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.207 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:38.207 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:38.208 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:38.208 +00:00 [DBG] Start discovery request
2018-08-07 23:11:38.245 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:38.267 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:38.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.333 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.359 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.359 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.387 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.387 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.549 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.550 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:38.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.562 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.562 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:38.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:38.563 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:38.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:38.563 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:38.563 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:38.563 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:38.563 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.563 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:38.564 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:38.653 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:11:38.653 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-07 23:11:38.653 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-07 23:11:38.654 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-07 23:11:38.654 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-07 23:11:38.654 +00:00 [DBG] Start authorize request
2018-08-07 23:11:38.654 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:11:38.654 +00:00 [DBG] Start authorize request protocol validation
2018-08-07 23:11:38.741 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-07 23:11:38.756 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:11:38.775 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:11:38.828 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-07 23:11:38.856 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-07 23:11:38.856 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-07 23:11:38.856 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
  "Nonce": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7"
  }
}
2018-08-07 23:11:38.900 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-07 23:11:38.921 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-07 23:11:38.922 +00:00 [DBG] Creating Implicit Flow response.
2018-08-07 23:11:38.923 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:11:38.933 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-07 23:11:39.018 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-07 23:11:39.018 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-07 23:11:39.020 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****uDDw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****bfMQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LF:00000001",
  "TimeStamp": "2018-08-07T23:11:39Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-07 23:11:39.021 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "KJtkbOOTxv1GASrsQ5sr8vBLICO8x3WuQTRZ8WM7;some-state",
  "Scope": "openid profile api1"
}
2018-08-07 23:11:41.284 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.294 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.294 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.304 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.315 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.316 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.435 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:41.505 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.507 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.508 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:41.509 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:41.509 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:41.509 +00:00 [DBG] Start discovery request
2018-08-07 23:11:41.520 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.529 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.530 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:41.530 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:41.530 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:41.530 +00:00 [DBG] Start discovery request
2018-08-07 23:11:41.590 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:41.594 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:41.717 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.726 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.735 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.756 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.782 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.840 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.841 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.841 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:41.841 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:41.841 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:41.842 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:41.903 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:41.937 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:41.937 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:41.938 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:41.938 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:41.938 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:41.938 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:47.354 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.363 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.363 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.371 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.382 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.382 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.502 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.503 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:11:47.550 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.551 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.553 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:47.553 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:47.553 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:47.553 +00:00 [DBG] Start discovery request
2018-08-07 23:11:47.558 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.559 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.559 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:11:47.560 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:11:47.560 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:11:47.560 +00:00 [DBG] Start discovery request
2018-08-07 23:11:47.592 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:47.592 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:11:47.667 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.675 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.683 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.683 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.692 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.692 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.807 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.819 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.820 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.820 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:47.820 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:47.820 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:47.820 +00:00 [DBG] Start key discovery request
2018-08-07 23:11:47.835 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:11:47.849 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:11:47.849 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:11:47.850 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:11:47.850 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:11:47.850 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:11:47.850 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:44.212 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.223 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.224 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.239 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.250 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.251 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.335 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.348 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.349 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.350 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:44.352 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:44.352 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:44.354 +00:00 [DBG] Start discovery request
2018-08-07 23:13:44.379 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:44.383 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:44.392 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.393 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.394 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:44.394 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:44.395 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:44.396 +00:00 [DBG] Start discovery request
2018-08-07 23:13:44.427 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:44.469 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.472 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.478 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.479 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.480 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.481 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.492 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.500 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.504 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.505 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:44.506 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:44.507 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:44.508 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:44.512 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:44.520 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:44.520 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:44.521 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:44.522 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:44.523 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:44.524 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:51.269 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.276 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.276 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.288 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.296 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.297 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.361 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.381 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.383 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.384 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:51.386 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:51.387 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:51.389 +00:00 [DBG] Start discovery request
2018-08-07 23:13:51.414 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:51.423 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:13:51.427 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.430 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.430 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.431 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:13:51.432 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:13:51.433 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:13:51.434 +00:00 [DBG] Start discovery request
2018-08-07 23:13:51.436 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.439 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.484 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.514 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.516 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:51.520 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:51.522 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:51.524 +00:00 [DBG] Start key discovery request
2018-08-07 23:13:51.524 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:13:51.567 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:13:51.607 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:13:51.610 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:13:51.611 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:13:51.613 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:13:51.614 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:13:51.615 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:01.636 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.642 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.643 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.651 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.660 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.660 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.745 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.745 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:01.763 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.764 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.765 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.767 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.768 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:01.769 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:01.771 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:01.774 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:01.776 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:01.778 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:01.794 +00:00 [DBG] Start discovery request
2018-08-07 23:14:01.795 +00:00 [DBG] Start discovery request
2018-08-07 23:14:01.849 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:01.851 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:01.919 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:01.929 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:01.941 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.943 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:01.943 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:01.948 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.091 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:02.096 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:02.111 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:02.112 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:02.113 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.112 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:02.115 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:02.116 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:02.119 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:02.127 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:02.128 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:02.125 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:02.131 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:02.133 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:29.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.028 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.029 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.034 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.045 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.046 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.142 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.142 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-07 23:14:29.191 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.197 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.199 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.197 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.201 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:29.206 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-07 23:14:29.216 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:29.208 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-07 23:14:29.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:29.233 +00:00 [DBG] Start discovery request
2018-08-07 23:14:29.225 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-07 23:14:29.246 +00:00 [DBG] Start discovery request
2018-08-07 23:14:29.288 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:29.290 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-07 23:14:29.424 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.427 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.445 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.447 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.447 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.454 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.479 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.493 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-07 23:14:29.508 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.510 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.511 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-07 23:14:29.511 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:29.513 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:29.515 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:29.512 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-07 23:14:29.517 +00:00 [DBG] Start key discovery request
2018-08-07 23:14:29.518 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-07 23:14:29.520 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-07 23:14:29.521 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-07 23:14:29.522 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:15.007 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:15.017 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.018 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.032 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:15.042 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.043 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.164 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:15.182 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:15.186 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.187 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.190 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:15.200 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:15.221 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:15.224 +00:00 [DBG] Start discovery request
2018-08-08 00:11:15.252 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.253 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.255 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:15.258 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:15.262 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:15.264 +00:00 [DBG] Start discovery request
2018-08-08 00:11:15.408 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:15.424 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:15.514 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:15.526 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:15.546 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.548 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.548 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.550 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.599 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:15.605 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:15.676 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.677 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:15.677 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.681 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:15.679 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:15.682 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:15.683 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:15.695 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:15.702 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:15.700 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:15.712 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:15.724 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:16.452 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:16.453 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:16.453 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:16.455 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:16.456 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:16.457 +00:00 [DBG] Start authorize request
2018-08-08 00:11:16.458 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:16.459 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:16.481 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:16.492 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:16.510 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:16.521 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:16.537 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:16.539 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:16.540 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "O9n4cTaa56C9CRW5056uJFwuqHnFmRhHSq568HAc;some-state",
  "Nonce": "O9n4cTaa56C9CRW5056uJFwuqHnFmRhHSq568HAc",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "O9n4cTaa56C9CRW5056uJFwuqHnFmRhHSq568HAc;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "O9n4cTaa56C9CRW5056uJFwuqHnFmRhHSq568HAc"
  }
}
2018-08-08 00:11:16.563 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:16.572 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:16.573 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:16.575 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:16.576 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:16.595 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:16.596 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:16.599 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****mMSg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****nkrQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000001",
  "TimeStamp": "2018-08-08T00:11:16Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:16.600 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "O9n4cTaa56C9CRW5056uJFwuqHnFmRhHSq568HAc;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:18.553 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:18.564 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.566 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:18.586 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:18.607 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.612 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:18.701 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:18.701 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:18.734 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.734 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.734 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:18.735 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:18.736 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:18.739 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:18.742 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:18.745 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:18.745 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:18.746 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:18.747 +00:00 [DBG] Start discovery request
2018-08-08 00:11:18.748 +00:00 [DBG] Start discovery request
2018-08-08 00:11:18.818 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:18.822 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:18.936 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:18.951 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.952 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:18.961 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:18.975 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:18.976 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:19.145 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:19.149 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:19.171 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:19.173 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:19.173 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:19.174 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:19.176 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:19.178 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:19.181 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:19.184 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:19.189 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:19.183 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:19.211 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:19.214 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:19.267 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:19.270 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:19.273 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:19.281 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:19.286 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:19.292 +00:00 [DBG] Start authorize request
2018-08-08 00:11:19.296 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:19.299 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:19.325 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:19.339 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:19.355 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:19.363 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:19.375 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:19.376 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:19.377 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "8P0HxzXcz47E2I9QzCjXrx0zFIMEciB0EfHmvXeY;some-state",
  "Nonce": "8P0HxzXcz47E2I9QzCjXrx0zFIMEciB0EfHmvXeY",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "8P0HxzXcz47E2I9QzCjXrx0zFIMEciB0EfHmvXeY;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "8P0HxzXcz47E2I9QzCjXrx0zFIMEciB0EfHmvXeY"
  }
}
2018-08-08 00:11:19.394 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:19.402 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:19.402 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:19.404 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:19.404 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:19.418 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:19.418 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:19.421 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****RyEA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****fi3g"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000002",
  "TimeStamp": "2018-08-08T00:11:19Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:19.422 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "8P0HxzXcz47E2I9QzCjXrx0zFIMEciB0EfHmvXeY;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:21.069 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:21.079 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.080 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.091 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:21.103 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.104 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.181 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:21.191 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:21.228 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.233 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.234 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.242 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.248 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:21.252 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:21.268 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:21.274 +00:00 [DBG] Start discovery request
2018-08-08 00:11:21.240 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:21.294 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:21.295 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:21.297 +00:00 [DBG] Start discovery request
2018-08-08 00:11:21.327 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:21.332 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:21.416 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:21.434 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:21.444 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.446 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.445 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.450 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.555 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:21.561 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:21.570 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.571 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.573 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:21.574 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:21.578 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:21.579 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:21.576 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:21.581 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:21.584 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:21.586 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:21.582 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:21.591 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:21.655 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:21.658 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:21.660 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:21.662 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:21.671 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:21.677 +00:00 [DBG] Start authorize request
2018-08-08 00:11:21.684 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:21.694 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:21.757 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:21.775 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:21.796 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:21.815 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:21.849 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:21.850 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:21.851 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "hars2crwmRhzeWUKKpxMCJ0vLrtVh6rmSp3i61lL;some-state",
  "Nonce": "hars2crwmRhzeWUKKpxMCJ0vLrtVh6rmSp3i61lL",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "hars2crwmRhzeWUKKpxMCJ0vLrtVh6rmSp3i61lL;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "hars2crwmRhzeWUKKpxMCJ0vLrtVh6rmSp3i61lL"
  }
}
2018-08-08 00:11:21.877 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:21.887 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:21.888 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:21.889 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:21.890 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:21.910 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:21.911 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:21.915 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****OGpQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****dToA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000003",
  "TimeStamp": "2018-08-08T00:11:21Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:21.917 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "hars2crwmRhzeWUKKpxMCJ0vLrtVh6rmSp3i61lL;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:23.815 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:23.826 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:23.826 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:23.840 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:23.853 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:23.855 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:23.910 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:23.912 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:23.931 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:23.932 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:23.933 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:23.934 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:23.934 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:23.935 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:23.936 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:23.937 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:23.943 +00:00 [DBG] Start discovery request
2018-08-08 00:11:23.940 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:23.946 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:23.948 +00:00 [DBG] Start discovery request
2018-08-08 00:11:23.982 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:23.986 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:24.046 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:24.053 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:24.060 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:24.061 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:24.069 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:24.069 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:24.165 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:24.177 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:24.178 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:24.183 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:24.184 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:24.185 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:24.190 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:24.202 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:24.229 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:24.232 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:24.238 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:24.243 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:24.262 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:24.266 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:24.318 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:24.319 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:24.325 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:24.337 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:24.341 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:24.343 +00:00 [DBG] Start authorize request
2018-08-08 00:11:24.351 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:24.362 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:24.398 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:24.413 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:24.428 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:24.439 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:24.453 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:24.454 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:24.455 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "qwlmWpRPXVNjRMJpvFcvf3bGMQn2NcG6hx4UcUOe;some-state",
  "Nonce": "qwlmWpRPXVNjRMJpvFcvf3bGMQn2NcG6hx4UcUOe",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "qwlmWpRPXVNjRMJpvFcvf3bGMQn2NcG6hx4UcUOe;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "qwlmWpRPXVNjRMJpvFcvf3bGMQn2NcG6hx4UcUOe"
  }
}
2018-08-08 00:11:24.512 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:24.523 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:24.524 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:24.525 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:24.526 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:24.543 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:24.544 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:24.547 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****JFgg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****PgyQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000004",
  "TimeStamp": "2018-08-08T00:11:24Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:24.548 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "qwlmWpRPXVNjRMJpvFcvf3bGMQn2NcG6hx4UcUOe;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:26.185 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:26.193 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.193 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.203 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:26.213 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.214 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:26.307 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:26.379 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.384 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.391 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:26.384 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.405 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.399 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:26.411 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:26.418 +00:00 [DBG] Start discovery request
2018-08-08 00:11:26.408 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:26.471 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:26.487 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:26.491 +00:00 [DBG] Start discovery request
2018-08-08 00:11:26.559 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:26.562 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:26.754 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:26.780 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:26.845 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.846 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.850 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.852 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.859 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:26.866 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:26.880 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.881 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.883 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:26.884 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:26.885 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:26.885 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:26.891 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:26.896 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:26.889 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:26.899 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:26.904 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:26.905 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:26.941 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:26.943 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:26.948 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:26.953 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:26.955 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:26.956 +00:00 [DBG] Start authorize request
2018-08-08 00:11:26.957 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:26.958 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:26.988 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:27.003 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:27.030 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:27.050 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:27.071 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:27.072 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:27.072 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "g3VUdQyVl57cyEeb4wWCuNLVfzfTE4bkgAE1MzuI;some-state",
  "Nonce": "g3VUdQyVl57cyEeb4wWCuNLVfzfTE4bkgAE1MzuI",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "g3VUdQyVl57cyEeb4wWCuNLVfzfTE4bkgAE1MzuI;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "g3VUdQyVl57cyEeb4wWCuNLVfzfTE4bkgAE1MzuI"
  }
}
2018-08-08 00:11:27.099 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:27.112 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:27.114 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:27.116 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:27.118 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:27.144 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:27.146 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:27.149 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****QL4w"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****U18w"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000005",
  "TimeStamp": "2018-08-08T00:11:27Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:27.151 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "g3VUdQyVl57cyEeb4wWCuNLVfzfTE4bkgAE1MzuI;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:28.628 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:28.636 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:28.636 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:28.646 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:28.656 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:28.656 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:28.780 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:28.780 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:28.828 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:28.829 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:28.832 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:28.829 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:28.835 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:28.836 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:28.842 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:28.840 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:28.845 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:28.844 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:28.849 +00:00 [DBG] Start discovery request
2018-08-08 00:11:28.851 +00:00 [DBG] Start discovery request
2018-08-08 00:11:28.944 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:28.961 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:29.039 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:29.058 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:29.057 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:29.069 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:29.087 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:29.089 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:29.173 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:29.175 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:29.195 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:29.196 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:29.196 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:29.196 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:29.198 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:29.198 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:29.202 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:29.204 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:29.211 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:29.215 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:29.216 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:29.218 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:29.255 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:29.256 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:29.260 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:29.274 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:29.277 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:29.280 +00:00 [DBG] Start authorize request
2018-08-08 00:11:29.283 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:29.284 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:29.306 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:29.319 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:29.334 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:29.346 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:29.360 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:29.361 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:29.362 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "fW55h7OivBF7etOkhUfXjSnsqAMnrawkuXOWwwqO;some-state",
  "Nonce": "fW55h7OivBF7etOkhUfXjSnsqAMnrawkuXOWwwqO",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "fW55h7OivBF7etOkhUfXjSnsqAMnrawkuXOWwwqO;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "fW55h7OivBF7etOkhUfXjSnsqAMnrawkuXOWwwqO"
  }
}
2018-08-08 00:11:29.382 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:29.388 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:29.389 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:29.389 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:29.390 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:29.404 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:29.405 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:29.407 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****rANg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****xprA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000006",
  "TimeStamp": "2018-08-08T00:11:29Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:29.408 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "fW55h7OivBF7etOkhUfXjSnsqAMnrawkuXOWwwqO;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:30.846 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:30.858 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:30.859 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:30.865 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:30.876 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:30.876 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.076 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:31.076 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:31.120 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.123 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.123 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.125 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.129 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:31.132 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:31.135 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:31.151 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:31.139 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:31.159 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:31.154 +00:00 [DBG] Start discovery request
2018-08-08 00:11:31.162 +00:00 [DBG] Start discovery request
2018-08-08 00:11:31.239 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:31.292 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:31.334 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:31.371 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.375 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:31.461 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.462 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.481 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:31.491 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.492 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.493 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:31.494 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:31.495 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:31.496 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:31.521 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:31.553 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:31.553 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:31.556 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:31.559 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:31.560 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:31.561 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:31.590 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:31.592 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:31.594 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:31.598 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:31.602 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:31.606 +00:00 [DBG] Start authorize request
2018-08-08 00:11:31.612 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:31.617 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:31.721 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:31.755 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:31.806 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:31.859 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:31.936 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:31.937 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:31.942 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "VbZBLU61juebqWxOUsbWbLCAezy3UC9KEx3YXelO;some-state",
  "Nonce": "VbZBLU61juebqWxOUsbWbLCAezy3UC9KEx3YXelO",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "VbZBLU61juebqWxOUsbWbLCAezy3UC9KEx3YXelO;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "VbZBLU61juebqWxOUsbWbLCAezy3UC9KEx3YXelO"
  }
}
2018-08-08 00:11:31.975 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:31.996 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:31.997 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:31.998 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:32.000 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:32.021 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:32.023 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:32.028 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****N9dA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****Z2sQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000007",
  "TimeStamp": "2018-08-08T00:11:32Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:32.030 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "VbZBLU61juebqWxOUsbWbLCAezy3UC9KEx3YXelO;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:34.308 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:34.316 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.316 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.327 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:34.341 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.342 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.478 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:34.482 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:34.505 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.508 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.511 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:34.507 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.513 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:34.514 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.515 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:34.516 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:34.517 +00:00 [DBG] Start discovery request
2018-08-08 00:11:34.520 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:34.524 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:34.526 +00:00 [DBG] Start discovery request
2018-08-08 00:11:34.563 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:34.564 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:34.667 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:34.676 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:34.687 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.688 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.688 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.690 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.846 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:34.847 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:34.869 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.870 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.881 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:34.870 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:34.885 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:34.893 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:34.897 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:34.901 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:34.906 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:34.909 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:34.912 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:34.920 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:34.961 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:34.964 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:34.967 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:34.972 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:34.975 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:34.978 +00:00 [DBG] Start authorize request
2018-08-08 00:11:34.982 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:34.984 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:35.026 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:35.050 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:35.068 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:35.086 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:35.117 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:35.119 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:35.123 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "H4NO0QsXuGPw4MWE8bWPqlVie8qNXvMb7Wx4G4eq;some-state",
  "Nonce": "H4NO0QsXuGPw4MWE8bWPqlVie8qNXvMb7Wx4G4eq",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "H4NO0QsXuGPw4MWE8bWPqlVie8qNXvMb7Wx4G4eq;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "H4NO0QsXuGPw4MWE8bWPqlVie8qNXvMb7Wx4G4eq"
  }
}
2018-08-08 00:11:35.150 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:35.159 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:35.160 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:35.160 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:35.161 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:35.174 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:35.183 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:35.186 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****boZw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****wyig"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000008",
  "TimeStamp": "2018-08-08T00:11:35Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:35.187 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "H4NO0QsXuGPw4MWE8bWPqlVie8qNXvMb7Wx4G4eq;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:37.824 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:37.834 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:37.834 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:37.845 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:37.857 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:37.858 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:37.984 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:37.984 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:38.046 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.054 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.056 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.069 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.074 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:38.077 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:38.087 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:38.090 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:38.080 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:38.102 +00:00 [DBG] Start discovery request
2018-08-08 00:11:38.110 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:38.129 +00:00 [DBG] Start discovery request
2018-08-08 00:11:38.211 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:38.213 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:38.304 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:38.334 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:38.340 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.342 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.351 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.354 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.366 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:38.393 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:38.429 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.432 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.430 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:38.444 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:38.448 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:38.452 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:38.456 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:38.445 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:38.460 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:38.459 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:38.478 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:38.480 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:38.533 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:38.537 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:38.541 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:38.544 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:38.552 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:38.554 +00:00 [DBG] Start authorize request
2018-08-08 00:11:38.564 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:38.566 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:38.615 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:38.630 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:38.648 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:38.661 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:38.678 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:38.679 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:38.680 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "1PAapY2iQSPvptq51SPEGxq2aPBY2eELH2DSJC3v;some-state",
  "Nonce": "1PAapY2iQSPvptq51SPEGxq2aPBY2eELH2DSJC3v",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "1PAapY2iQSPvptq51SPEGxq2aPBY2eELH2DSJC3v;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "1PAapY2iQSPvptq51SPEGxq2aPBY2eELH2DSJC3v"
  }
}
2018-08-08 00:11:38.703 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:38.712 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:38.713 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:38.714 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:38.715 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:38.739 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:38.740 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:38.743 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****c-tA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****97PQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000009",
  "TimeStamp": "2018-08-08T00:11:38Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:38.744 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "1PAapY2iQSPvptq51SPEGxq2aPBY2eELH2DSJC3v;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:40.316 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:40.325 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.326 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.337 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:40.346 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.347 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.449 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:40.449 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:40.488 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.500 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.502 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.502 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:40.512 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:40.508 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.516 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:40.526 +00:00 [DBG] Start discovery request
2018-08-08 00:11:40.526 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:40.560 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:40.563 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:40.565 +00:00 [DBG] Start discovery request
2018-08-08 00:11:40.607 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:40.615 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:40.757 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:40.767 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:40.768 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.770 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.788 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.790 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.851 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:40.852 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:40.877 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.878 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:40.879 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.881 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:40.878 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:40.882 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:40.886 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:40.889 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:40.895 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:40.894 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:40.899 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:40.903 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:40.934 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:40.940 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:40.945 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:40.957 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:40.966 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:40.968 +00:00 [DBG] Start authorize request
2018-08-08 00:11:40.981 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:40.983 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:41.028 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:41.040 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:41.051 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:41.059 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:41.070 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:41.070 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:41.071 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "m3Op925XXfen233D6CCC3FjDkmCdQoxVP4jkj7dd;some-state",
  "Nonce": "m3Op925XXfen233D6CCC3FjDkmCdQoxVP4jkj7dd",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "m3Op925XXfen233D6CCC3FjDkmCdQoxVP4jkj7dd;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "m3Op925XXfen233D6CCC3FjDkmCdQoxVP4jkj7dd"
  }
}
2018-08-08 00:11:41.092 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:41.098 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:41.099 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:41.100 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:41.101 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:41.117 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:41.118 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:41.121 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****d7VA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****NizA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000A",
  "TimeStamp": "2018-08-08T00:11:41Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:41.122 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "m3Op925XXfen233D6CCC3FjDkmCdQoxVP4jkj7dd;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:43.082 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:43.089 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:43.089 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:43.090 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:43.091 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:43.091 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:43.092 +00:00 [DBG] Start discovery request
2018-08-08 00:11:43.098 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:43.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:43.111 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:43.112 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:43.114 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:43.115 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:43.116 +00:00 [DBG] Start discovery request
2018-08-08 00:11:43.116 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:43.187 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:43.240 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:43.270 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:43.286 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:43.288 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:43.289 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:43.294 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:43.291 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:43.303 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:43.304 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:43.307 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:43.305 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:43.310 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:43.311 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:43.313 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:43.477 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:43.481 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:43.483 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:43.487 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:43.488 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:43.489 +00:00 [DBG] Start authorize request
2018-08-08 00:11:43.490 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:43.491 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:43.543 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:43.558 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:43.584 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:43.604 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:43.636 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:43.637 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:43.639 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "HIcuuaUzycBu6d6h9MS353oNcv2Pcq782qHOCCio;some-state",
  "Nonce": "HIcuuaUzycBu6d6h9MS353oNcv2Pcq782qHOCCio",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "HIcuuaUzycBu6d6h9MS353oNcv2Pcq782qHOCCio;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "HIcuuaUzycBu6d6h9MS353oNcv2Pcq782qHOCCio"
  }
}
2018-08-08 00:11:43.694 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:43.705 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:43.706 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:43.707 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:43.708 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:43.732 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:43.734 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:43.738 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****c5kg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****LNXA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000B",
  "TimeStamp": "2018-08-08T00:11:43Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:43.739 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "HIcuuaUzycBu6d6h9MS353oNcv2Pcq782qHOCCio;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:45.749 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:45.755 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:45.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:45.756 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:45.757 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:45.758 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:45.759 +00:00 [DBG] Start discovery request
2018-08-08 00:11:45.765 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:45.775 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:45.775 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:45.776 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:45.778 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:45.778 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:45.778 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:45.779 +00:00 [DBG] Start discovery request
2018-08-08 00:11:45.804 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:45.870 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:45.877 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:45.912 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:45.926 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:45.919 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:45.935 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:45.935 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:45.946 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:45.948 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:45.947 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:45.951 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:45.953 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:45.956 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:45.960 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:46.162 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:46.163 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:46.165 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:46.166 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:46.168 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:46.169 +00:00 [DBG] Start authorize request
2018-08-08 00:11:46.171 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:46.174 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:46.197 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:46.220 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:46.251 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:46.265 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:46.291 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:46.294 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:46.297 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "FwIE2kIbaduqKmMnRLjNZhKtxd00L2xwLoaz4We2;some-state",
  "Nonce": "FwIE2kIbaduqKmMnRLjNZhKtxd00L2xwLoaz4We2",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "FwIE2kIbaduqKmMnRLjNZhKtxd00L2xwLoaz4We2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "FwIE2kIbaduqKmMnRLjNZhKtxd00L2xwLoaz4We2"
  }
}
2018-08-08 00:11:46.353 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:46.366 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:46.368 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:46.370 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:46.371 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:46.423 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:46.424 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:46.428 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****6I9w"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****b4EA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000C",
  "TimeStamp": "2018-08-08T00:11:46Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:46.429 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "FwIE2kIbaduqKmMnRLjNZhKtxd00L2xwLoaz4We2;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:48.402 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:48.410 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:48.410 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:48.411 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:48.412 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:48.412 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:48.413 +00:00 [DBG] Start discovery request
2018-08-08 00:11:48.424 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:48.433 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:48.434 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:48.436 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:48.437 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:48.438 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:48.440 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:48.440 +00:00 [DBG] Start discovery request
2018-08-08 00:11:48.470 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:48.571 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:48.574 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:48.618 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:48.620 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:48.625 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:48.628 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:48.632 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:48.645 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:48.651 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:48.674 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:48.680 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:48.682 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:48.685 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:48.688 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:48.827 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:48.833 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:48.840 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:48.844 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:48.848 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:48.851 +00:00 [DBG] Start authorize request
2018-08-08 00:11:48.860 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:48.874 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:48.901 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:48.918 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:48.944 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:48.975 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:49.033 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:49.034 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:49.035 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "0I8uxoAyyiORIW3LHAYzs2QKQFLJLT9K4xelp6TQ;some-state",
  "Nonce": "0I8uxoAyyiORIW3LHAYzs2QKQFLJLT9K4xelp6TQ",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "0I8uxoAyyiORIW3LHAYzs2QKQFLJLT9K4xelp6TQ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "0I8uxoAyyiORIW3LHAYzs2QKQFLJLT9K4xelp6TQ"
  }
}
2018-08-08 00:11:49.069 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:49.084 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:49.090 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:49.092 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:49.093 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:49.131 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:49.140 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:49.149 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****PeVw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****QMEw"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000D",
  "TimeStamp": "2018-08-08T00:11:49Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:49.153 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "0I8uxoAyyiORIW3LHAYzs2QKQFLJLT9K4xelp6TQ;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:51.016 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:51.024 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:51.024 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:51.025 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:51.026 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:51.027 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:51.027 +00:00 [DBG] Start discovery request
2018-08-08 00:11:51.034 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:51.042 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:51.043 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:51.044 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:51.044 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:51.045 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:51.046 +00:00 [DBG] Start discovery request
2018-08-08 00:11:51.052 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:51.068 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:51.139 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:51.149 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:51.180 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:51.181 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:51.184 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:51.187 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:51.191 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:51.193 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:51.193 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:51.194 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:51.198 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:51.200 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:51.201 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:51.202 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:51.399 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:51.401 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:51.402 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:51.405 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:51.406 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:51.410 +00:00 [DBG] Start authorize request
2018-08-08 00:11:51.415 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:51.418 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:51.496 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:51.538 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:51.575 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:51.678 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:51.745 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:51.747 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:51.753 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "32p5p943MoGlaCKokIhEHJoSTcx4FvpsZCaehAW8;some-state",
  "Nonce": "32p5p943MoGlaCKokIhEHJoSTcx4FvpsZCaehAW8",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "32p5p943MoGlaCKokIhEHJoSTcx4FvpsZCaehAW8;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "32p5p943MoGlaCKokIhEHJoSTcx4FvpsZCaehAW8"
  }
}
2018-08-08 00:11:51.797 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:51.807 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:51.808 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:51.809 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:51.810 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:51.853 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:51.854 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:51.859 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****io8Q"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****YAmQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000E",
  "TimeStamp": "2018-08-08T00:11:51Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:51.861 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "32p5p943MoGlaCKokIhEHJoSTcx4FvpsZCaehAW8;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:53.570 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:53.580 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:53.581 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:53.582 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:53.583 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:53.584 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:53.585 +00:00 [DBG] Start discovery request
2018-08-08 00:11:53.596 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:53.612 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:53.613 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:53.615 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:53.616 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:53.617 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:53.619 +00:00 [DBG] Start discovery request
2018-08-08 00:11:53.620 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:53.694 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:53.732 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:53.762 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:53.764 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:53.764 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:53.765 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:53.769 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:53.771 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:53.772 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:53.781 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:53.782 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:53.784 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:53.786 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:53.788 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:53.790 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:53.978 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:53.979 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:53.980 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:53.985 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:53.986 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:53.993 +00:00 [DBG] Start authorize request
2018-08-08 00:11:54.001 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:54.014 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:54.051 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:54.062 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:54.082 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:54.129 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:54.146 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:54.147 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:54.148 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "cjZg8PKEwpztZWQA0dsqL4hOJ4LMDEFKe2W72klE;some-state",
  "Nonce": "cjZg8PKEwpztZWQA0dsqL4hOJ4LMDEFKe2W72klE",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "cjZg8PKEwpztZWQA0dsqL4hOJ4LMDEFKe2W72klE;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "cjZg8PKEwpztZWQA0dsqL4hOJ4LMDEFKe2W72klE"
  }
}
2018-08-08 00:11:54.170 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:54.183 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:54.185 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:54.186 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:54.187 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:54.215 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:54.216 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:54.219 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****gAZw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****GGTw"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:0000000F",
  "TimeStamp": "2018-08-08T00:11:54Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:54.220 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "cjZg8PKEwpztZWQA0dsqL4hOJ4LMDEFKe2W72klE;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:11:58.470 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:58.484 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:58.485 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:58.486 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:58.487 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:58.487 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:58.488 +00:00 [DBG] Start discovery request
2018-08-08 00:11:58.514 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:11:58.533 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:58.534 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:58.535 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:11:58.536 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:11:58.538 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:11:58.540 +00:00 [DBG] Start discovery request
2018-08-08 00:11:58.544 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:58.654 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:11:58.671 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:58.700 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:11:58.715 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:58.716 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:58.719 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:58.721 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:58.724 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:58.727 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:58.735 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:11:58.744 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:11:58.748 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:11:58.750 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:11:58.752 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:11:58.753 +00:00 [DBG] Start key discovery request
2018-08-08 00:11:58.964 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:58.965 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:11:58.967 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:11:58.988 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:11:59.031 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:11:59.032 +00:00 [DBG] Start authorize request
2018-08-08 00:11:59.035 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:59.037 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:11:59.080 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:11:59.134 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:59.212 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:59.255 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:11:59.362 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:11:59.363 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:11:59.365 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "scRXTMSEFSEXGNMv7ShDl2ytz6xnWv3FVz6R0sdF;some-state",
  "Nonce": "scRXTMSEFSEXGNMv7ShDl2ytz6xnWv3FVz6R0sdF",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "scRXTMSEFSEXGNMv7ShDl2ytz6xnWv3FVz6R0sdF;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "scRXTMSEFSEXGNMv7ShDl2ytz6xnWv3FVz6R0sdF"
  }
}
2018-08-08 00:11:59.410 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:11:59.426 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:11:59.428 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:11:59.434 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:59.436 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:11:59.480 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:11:59.481 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:11:59.489 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****MroQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****oAag"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000010",
  "TimeStamp": "2018-08-08T00:11:59Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:11:59.493 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "scRXTMSEFSEXGNMv7ShDl2ytz6xnWv3FVz6R0sdF;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:03.225 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:03.235 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:03.236 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:03.237 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:03.239 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:03.240 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:03.241 +00:00 [DBG] Start discovery request
2018-08-08 00:12:03.252 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:03.336 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:03.340 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:03.342 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:03.345 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:03.355 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:03.360 +00:00 [DBG] Start discovery request
2018-08-08 00:12:03.359 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:03.434 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:03.511 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:03.580 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:03.583 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:03.584 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:03.586 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:03.595 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:03.598 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:03.599 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:03.614 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:03.621 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:03.631 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:03.635 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:03.636 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:03.638 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:03.773 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:03.776 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:03.777 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:03.780 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:03.781 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:03.782 +00:00 [DBG] Start authorize request
2018-08-08 00:12:03.784 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:03.785 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:03.830 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:03.872 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:03.932 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:03.971 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:03.993 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:03.995 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:03.997 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "sRsLloaycicGZFERETd1N1qiZfbKWMzrF3EMN0tN;some-state",
  "Nonce": "sRsLloaycicGZFERETd1N1qiZfbKWMzrF3EMN0tN",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "sRsLloaycicGZFERETd1N1qiZfbKWMzrF3EMN0tN;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "sRsLloaycicGZFERETd1N1qiZfbKWMzrF3EMN0tN"
  }
}
2018-08-08 00:12:04.053 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:04.068 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:04.069 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:04.071 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:04.072 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:04.094 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:04.095 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:04.100 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****tWzg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****75qw"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000011",
  "TimeStamp": "2018-08-08T00:12:04Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:04.101 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "sRsLloaycicGZFERETd1N1qiZfbKWMzrF3EMN0tN;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:05.834 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:05.843 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:05.844 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:05.845 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:05.846 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:05.847 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:05.848 +00:00 [DBG] Start discovery request
2018-08-08 00:12:05.860 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:05.870 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:05.870 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:05.872 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:05.873 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:05.874 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:05.875 +00:00 [DBG] Start discovery request
2018-08-08 00:12:05.875 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:05.905 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:05.997 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:06.003 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:06.036 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:06.038 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:06.039 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:06.041 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:06.044 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:06.047 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:06.051 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:06.053 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:06.049 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:06.055 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:06.056 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:06.062 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:06.365 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:06.369 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:06.370 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:06.374 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:06.377 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:06.380 +00:00 [DBG] Start authorize request
2018-08-08 00:12:06.382 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:06.384 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:06.442 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:06.460 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:06.485 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:06.499 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:06.547 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:06.548 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:06.549 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "iFRKP1VuoZpksYlj1WuZwLgRgZ1HFDtJIQN5mcbG;some-state",
  "Nonce": "iFRKP1VuoZpksYlj1WuZwLgRgZ1HFDtJIQN5mcbG",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "iFRKP1VuoZpksYlj1WuZwLgRgZ1HFDtJIQN5mcbG;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "iFRKP1VuoZpksYlj1WuZwLgRgZ1HFDtJIQN5mcbG"
  }
}
2018-08-08 00:12:06.584 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:06.602 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:06.628 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:06.632 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:06.652 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:06.691 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:06.694 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:06.708 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****P4-Q"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****W40g"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000012",
  "TimeStamp": "2018-08-08T00:12:06Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:06.709 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "iFRKP1VuoZpksYlj1WuZwLgRgZ1HFDtJIQN5mcbG;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:10.425 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:10.435 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:10.436 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:10.437 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:10.440 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:10.441 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:10.442 +00:00 [DBG] Start discovery request
2018-08-08 00:12:10.452 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:10.462 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:10.463 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:10.465 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:10.467 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:10.469 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:10.470 +00:00 [DBG] Start discovery request
2018-08-08 00:12:10.549 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:10.590 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:10.745 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:10.759 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:10.778 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:10.780 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:10.780 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:10.781 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:10.783 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:10.785 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:10.789 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:10.798 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:10.801 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:10.794 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:10.805 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:10.806 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:10.969 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:10.971 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:10.973 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:10.974 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:10.977 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:10.980 +00:00 [DBG] Start authorize request
2018-08-08 00:12:10.983 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:10.986 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:11.024 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:11.052 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:11.117 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:11.212 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:11.248 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:11.256 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:11.260 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "N5ujuEwZ5OyuwuhBvGvaMQkgosVPIoDx8dqq6JvV;some-state",
  "Nonce": "N5ujuEwZ5OyuwuhBvGvaMQkgosVPIoDx8dqq6JvV",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "N5ujuEwZ5OyuwuhBvGvaMQkgosVPIoDx8dqq6JvV;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "N5ujuEwZ5OyuwuhBvGvaMQkgosVPIoDx8dqq6JvV"
  }
}
2018-08-08 00:12:11.334 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:11.341 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:11.342 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:11.344 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:11.345 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:11.374 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:11.376 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:11.380 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****vjBw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****izKw"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000013",
  "TimeStamp": "2018-08-08T00:12:11Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:11.381 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "N5ujuEwZ5OyuwuhBvGvaMQkgosVPIoDx8dqq6JvV;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:13.654 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:13.666 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:13.667 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:13.668 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:13.670 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:13.671 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:13.672 +00:00 [DBG] Start discovery request
2018-08-08 00:12:13.675 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:13.689 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:13.690 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:13.693 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:13.694 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:13.696 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:13.696 +00:00 [DBG] Start discovery request
2018-08-08 00:12:13.716 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:13.760 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:13.810 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:13.816 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:13.839 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:13.851 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:13.851 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:13.854 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:13.859 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:13.862 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:13.865 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:13.867 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:13.868 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:13.869 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:13.871 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:13.873 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:14.108 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:14.114 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:14.119 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:14.121 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:14.124 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:14.127 +00:00 [DBG] Start authorize request
2018-08-08 00:12:14.132 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:14.133 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:14.165 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:14.188 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:14.214 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:14.231 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:14.268 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:14.279 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:14.280 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "wjbY4ZK4VUgQ3R3ZuoBpRjf5iraRsJzbLykCiohQ;some-state",
  "Nonce": "wjbY4ZK4VUgQ3R3ZuoBpRjf5iraRsJzbLykCiohQ",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "wjbY4ZK4VUgQ3R3ZuoBpRjf5iraRsJzbLykCiohQ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "wjbY4ZK4VUgQ3R3ZuoBpRjf5iraRsJzbLykCiohQ"
  }
}
2018-08-08 00:12:14.347 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:14.361 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:14.362 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:14.363 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:14.364 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:14.385 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:14.385 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:14.391 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****w4YQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****P2LA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000014",
  "TimeStamp": "2018-08-08T00:12:14Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:14.392 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "wjbY4ZK4VUgQ3R3ZuoBpRjf5iraRsJzbLykCiohQ;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:16.197 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:16.208 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:16.208 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:16.210 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:16.211 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:16.212 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:16.212 +00:00 [DBG] Start discovery request
2018-08-08 00:12:16.217 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:16.224 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:16.225 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:16.227 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:16.228 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:16.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:16.230 +00:00 [DBG] Start discovery request
2018-08-08 00:12:16.230 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:16.264 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:16.350 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:16.350 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:16.405 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:16.410 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:16.414 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:16.416 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:16.422 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:16.426 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:16.421 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:16.460 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:16.466 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:16.468 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:16.480 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:16.483 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:16.749 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:16.751 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:16.753 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:16.756 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:16.760 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:16.768 +00:00 [DBG] Start authorize request
2018-08-08 00:12:16.770 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:16.774 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:16.803 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:16.832 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:16.866 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:16.880 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:16.909 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:16.911 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:16.914 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "zbZCXjzCZH40ZLwIsvkkWoXMt7MVGggPHefr9QdS;some-state",
  "Nonce": "zbZCXjzCZH40ZLwIsvkkWoXMt7MVGggPHefr9QdS",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "zbZCXjzCZH40ZLwIsvkkWoXMt7MVGggPHefr9QdS;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "zbZCXjzCZH40ZLwIsvkkWoXMt7MVGggPHefr9QdS"
  }
}
2018-08-08 00:12:16.970 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:16.984 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:16.985 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:16.987 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:16.989 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:17.042 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:17.048 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:17.052 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****ymmg"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****ecRA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000015",
  "TimeStamp": "2018-08-08T00:12:17Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:17.062 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "zbZCXjzCZH40ZLwIsvkkWoXMt7MVGggPHefr9QdS;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:18.813 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:18.823 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:18.824 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:18.827 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:18.831 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:18.833 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:18.834 +00:00 [DBG] Start discovery request
2018-08-08 00:12:18.845 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:18.854 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:18.856 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:18.857 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:18.859 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:18.861 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:18.864 +00:00 [DBG] Start discovery request
2018-08-08 00:12:18.885 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:18.894 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:19.012 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:19.031 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:19.054 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:19.058 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:19.060 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:19.058 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:19.064 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:19.063 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:19.066 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:19.067 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:19.068 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:19.076 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:19.079 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:19.078 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:19.333 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:19.335 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:19.337 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:19.339 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:19.340 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:19.342 +00:00 [DBG] Start authorize request
2018-08-08 00:12:19.345 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:19.346 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:19.370 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:19.436 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:19.451 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:19.467 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:19.478 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:19.479 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:19.480 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "GX7s1g5GYczAIV913xiyesRp4mb1YbMCpN3axNjj;some-state",
  "Nonce": "GX7s1g5GYczAIV913xiyesRp4mb1YbMCpN3axNjj",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "GX7s1g5GYczAIV913xiyesRp4mb1YbMCpN3axNjj;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "GX7s1g5GYczAIV913xiyesRp4mb1YbMCpN3axNjj"
  }
}
2018-08-08 00:12:19.502 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:19.516 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:19.517 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:19.517 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:19.518 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:19.532 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:19.533 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:19.536 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****C_zQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****jpoQ"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000016",
  "TimeStamp": "2018-08-08T00:12:19Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:19.537 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "GX7s1g5GYczAIV913xiyesRp4mb1YbMCpN3axNjj;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:22.321 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:22.346 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:22.349 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:22.353 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:22.354 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:22.361 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:22.377 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:22.380 +00:00 [DBG] Start discovery request
2018-08-08 00:12:22.386 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:22.389 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:22.396 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:22.402 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:22.409 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:22.421 +00:00 [DBG] Start discovery request
2018-08-08 00:12:22.477 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:22.488 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:22.668 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:22.683 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:22.684 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:22.687 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:22.693 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:22.695 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:22.696 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:22.748 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:22.775 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:22.781 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:22.786 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:22.793 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:22.797 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:22.802 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:22.910 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:22.912 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 00:12:22.914 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 00:12:22.920 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 00:12:22.922 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 00:12:22.925 +00:00 [DBG] Start authorize request
2018-08-08 00:12:22.926 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:22.927 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 00:12:22.949 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 00:12:22.989 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:23.023 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:23.038 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 00:12:23.054 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 00:12:23.066 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 00:12:23.068 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "WJ2Kh8x8X5B18DMEe3M2ZS9YWRxhNtq0YYn4GinE;some-state",
  "Nonce": "WJ2Kh8x8X5B18DMEe3M2ZS9YWRxhNtq0YYn4GinE",
  "SessionId": "c0b780276348e5424aa04648314ea58f",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "WJ2Kh8x8X5B18DMEe3M2ZS9YWRxhNtq0YYn4GinE;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "WJ2Kh8x8X5B18DMEe3M2ZS9YWRxhNtq0YYn4GinE"
  }
}
2018-08-08 00:12:23.090 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 00:12:23.101 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 00:12:23.103 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 00:12:23.104 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:23.105 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 00:12:23.139 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 00:12:23.140 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 00:12:23.144 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****7R4w"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****8HPA"
    }
  ],
  "ActivityId": "0HLFSN47D77LJ:00000017",
  "TimeStamp": "2018-08-08T00:12:23Z",
  "ProcessId": 540,
  "LocalIpAddress": "172.18.0.5:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 00:12:23.145 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "WJ2Kh8x8X5B18DMEe3M2ZS9YWRxhNtq0YYn4GinE;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 00:12:26.326 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:26.329 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:26.352 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:26.353 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:26.354 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:26.356 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:26.356 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:26.365 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:26.370 +00:00 [DBG] Start discovery request
2018-08-08 00:12:26.371 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:26.375 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:26.378 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:26.383 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:26.387 +00:00 [DBG] Start discovery request
2018-08-08 00:12:26.414 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:26.416 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:26.477 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:26.495 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:26.523 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:26.531 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:26.534 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:26.536 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:26.538 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:26.540 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:26.535 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:26.567 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:26.572 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:26.584 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:26.585 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:26.587 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:38.668 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:38.680 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.680 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:38.685 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:38.693 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.694 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:38.778 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:38.778 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 00:12:38.801 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.802 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:38.815 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:38.805 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.819 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:38.818 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:38.820 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 00:12:38.821 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:38.822 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 00:12:38.822 +00:00 [DBG] Start discovery request
2018-08-08 00:12:38.823 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 00:12:38.827 +00:00 [DBG] Start discovery request
2018-08-08 00:12:38.872 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:38.884 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 00:12:38.966 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:38.978 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:38.983 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.984 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:38.998 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:38.999 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:39.139 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:39.144 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 00:12:39.164 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:39.171 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:39.169 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 00:12:39.186 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 00:12:39.187 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:39.190 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:39.188 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 00:12:39.195 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:39.198 +00:00 [DBG] Start key discovery request
2018-08-08 00:12:39.199 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 00:12:39.208 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 00:12:39.213 +00:00 [DBG] Start key discovery request
2018-08-08 00:56:10.043 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-08 00:56:10.093 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-08 00:56:10.095 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-08 00:56:10.096 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-08 00:56:10.098 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-08 00:56:10.099 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-08 00:56:11.443 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-08 00:56:49.097 +00:00 [WRN] No XML encryptor configured. Key "766fb717-2158-41b1-8580-07060f36c3ee" may be persisted to storage in unencrypted form.
2018-08-08 00:56:49.375 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-08 00:56:49.387 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-08 00:56:49.387 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-08 00:56:49.388 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-08 00:56:49.389 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-08 00:56:49.389 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-08 00:56:50.725 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-08 02:13:15.662 +00:00 [WRN] No XML encryptor configured. Key "31e6fae5-cc2f-4e9f-8c72-5f1fdf4c4f4a" may be persisted to storage in unencrypted form.
2018-08-08 02:13:15.951 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-08 02:13:15.960 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-08 02:13:15.961 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-08 02:13:15.961 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-08 02:13:15.961 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-08 02:13:15.961 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-08 02:13:17.476 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-08 02:16:29.190 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:16:29.183 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:16:29.641 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:29.641 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:29.642 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:29.642 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:29.906 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:16:29.907 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:16:30.024 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:16:30.025 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:16:30.030 +00:00 [DBG] Start discovery request
2018-08-08 02:16:30.038 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:16:30.038 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:16:30.038 +00:00 [DBG] Start discovery request
2018-08-08 02:16:30.986 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:16:30.986 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:16:31.168 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:16:31.170 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:16:31.179 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:31.179 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:31.180 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:16:31.181 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:31.181 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:16:31.182 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:31.182 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:16:31.182 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:16:31.186 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:16:31.186 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:16:31.188 +00:00 [DBG] Start key discovery request
2018-08-08 02:16:31.189 +00:00 [DBG] Start key discovery request
2018-08-08 02:16:31.301 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:31.301 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:31.318 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:16:31.322 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:16:31.322 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:16:31.326 +00:00 [DBG] Start authorize request
2018-08-08 02:16:31.343 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:31.355 +00:00 [DBG] No user present in authorize request
2018-08-08 02:16:31.362 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:16:31.720 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:16:31.773 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:31.839 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:31.860 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:31.874 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:31.884 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:16:31.900 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2;some-state",
  "Nonce": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2"
  }
}
2018-08-08 02:16:31.911 +00:00 [INF] Showing login: User is not authenticated
2018-08-08 02:16:31.934 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:31.935 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:32.507 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:32.508 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:16:32.521 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:16:32.527 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:32.535 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:32.540 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:32.550 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:32.550 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:16:32.563 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:16:39.211 +00:00 [ERR] An exception was thrown while deserializing the token.
System.InvalidOperationException: The antiforgery token could not be decrypted. ---> System.Security.Cryptography.CryptographicException: The key {5bf7704d-084e-4a14-a557-e89f4bedbc0f} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
2018-08-08 02:16:43.864 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:43.865 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:43.984 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-08 02:16:53.431 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-08 02:16:53.445 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:53.445 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:53.458 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-08 02:16:53.912 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSQJPID2K2:00000005",
  "TimeStamp": "2018-08-08T02:16:53Z",
  "ProcessId": 154,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:16:53.928 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:16:53.930 +00:00 [DBG] Adding amr claim with value: external
2018-08-08 02:16:53.935 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:16:53.937 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:16:53.962 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-08 02:16:53.987 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:16:53.988 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:16:53.988 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-08 02:16:53.989 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-08 02:16:53.989 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-08 02:16:53.994 +00:00 [DBG] Start authorize callback request
2018-08-08 02:16:53.997 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:16:53.997 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:16:54.011 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:16:54.020 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:54.031 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:54.038 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:16:54.046 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:16:54.046 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:16:54.046 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2;some-state",
  "Nonce": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2",
  "SessionId": "d366e82fd0f20ad6dfd86a28cfbf1e49",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2"
  }
}
2018-08-08 02:16:54.138 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:16:54.154 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:16:54.161 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:16:54.173 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:16:54.174 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:16:54.254 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:16:54.255 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:16:54.269 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****DZkQ"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****eyzw"
    }
  ],
  "ActivityId": "0HLFSQJPID2K2:00000006",
  "TimeStamp": "2018-08-08T02:16:54Z",
  "ProcessId": 154,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:16:54.272 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "k2euUqSsAjFf0FZ4rvy3ROoBL547SaLoNePnJRu2;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:16:54.291 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:16:54.292 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:16:55.871 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:16:55.878 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:55.879 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:55.879 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:16:55.879 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:16:55.879 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:16:55.879 +00:00 [DBG] Start discovery request
2018-08-08 02:16:55.889 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:16:55.895 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:55.895 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:55.895 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:16:55.895 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:16:55.896 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:16:55.896 +00:00 [DBG] Start discovery request
2018-08-08 02:16:55.897 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:16:55.924 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:16:56.029 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:16:56.034 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:16:56.049 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:56.049 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:56.050 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:16:56.050 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:16:56.050 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:16:56.050 +00:00 [DBG] Start key discovery request
2018-08-08 02:16:56.052 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:16:56.052 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:16:56.052 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:16:56.053 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:16:56.053 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:16:56.053 +00:00 [DBG] Start key discovery request
2018-08-08 02:17:06.140 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:06.147 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.148 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.155 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:06.166 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.166 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.264 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:06.264 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:06.292 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.292 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.293 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:17:06.294 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:17:06.294 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:17:06.294 +00:00 [DBG] Start discovery request
2018-08-08 02:17:06.307 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.308 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.308 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:17:06.309 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:17:06.309 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:17:06.309 +00:00 [DBG] Start discovery request
2018-08-08 02:17:06.352 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:17:06.357 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:17:06.397 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:06.408 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:06.415 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.421 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.444 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.445 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.489 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:17:06.490 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:17:06.490 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:17:06.490 +00:00 [DBG] Start discovery request
2018-08-08 02:17:06.518 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:17:06.542 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:06.543 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:06.575 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.576 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.576 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:17:06.576 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:17:06.576 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:17:06.576 +00:00 [DBG] Start key discovery request
2018-08-08 02:17:06.592 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:06.592 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:06.593 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:17:06.593 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:17:06.593 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:17:06.593 +00:00 [DBG] Start key discovery request
2018-08-08 02:17:06.661 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:17:06.662 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:17:06.662 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:17:06.662 +00:00 [DBG] Start key discovery request
2018-08-08 02:17:15.748 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:15.755 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:15.756 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:15.763 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:15.772 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:15.772 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:15.869 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:15.869 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:17:15.909 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:15.909 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:15.910 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:17:15.910 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:17:15.911 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:17:15.911 +00:00 [DBG] Start discovery request
2018-08-08 02:17:15.913 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:15.913 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:15.913 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:17:15.914 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:17:15.914 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:17:15.914 +00:00 [DBG] Start discovery request
2018-08-08 02:17:15.965 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:17:15.985 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:17:16.047 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:16.063 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:16.106 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:16.106 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:16.110 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:16.110 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:16.194 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:16.195 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:17:16.210 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:16.211 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:16.212 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:17:16.212 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:17:16.215 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:17:16.215 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:17:16.215 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:17:16.215 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:17:16.216 +00:00 [DBG] Start key discovery request
2018-08-08 02:17:16.216 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:17:16.218 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:17:16.218 +00:00 [DBG] Start key discovery request
2018-08-08 02:18:51.357 +00:00 [WRN] No XML encryptor configured. Key "53c366a8-3d3f-400d-a176-fe4f63664df4" may be persisted to storage in unencrypted form.
2018-08-08 02:18:51.729 +00:00 [DBG] Custom IssuerUri set to http://auth:5000
2018-08-08 02:18:51.747 +00:00 [DBG] Using Identity.Application as default scheme for authentication
2018-08-08 02:18:51.749 +00:00 [DBG] Using Identity.External as default scheme for sign-in
2018-08-08 02:18:51.750 +00:00 [DBG] Using Identity.External as default scheme for sign-out
2018-08-08 02:18:51.750 +00:00 [DBG] Using Identity.Application as default scheme for challenge
2018-08-08 02:18:51.751 +00:00 [DBG] Using Identity.Application as default scheme for forbid
2018-08-08 02:18:53.245 +00:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-08-08 02:20:17.598 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:20:17.598 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:20:18.283 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:18.283 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:18.286 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:18.285 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:18.469 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:20:18.532 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:20:18.538 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:20:18.549 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:18.551 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:18.552 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:18.554 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:18.557 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:20:18.559 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:20:18.599 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:20:18.602 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:20:18.599 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:20:18.606 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:20:18.599 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:20:18.609 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:20:18.615 +00:00 [DBG] Start discovery request
2018-08-08 02:20:18.615 +00:00 [DBG] Start discovery request
2018-08-08 02:20:18.618 +00:00 [DBG] Start discovery request
2018-08-08 02:20:20.304 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:20:20.304 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:20:20.304 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:20:20.477 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:20:20.483 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:20:20.492 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:20.492 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:20.493 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:20.493 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:20.502 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:20:20.502 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:20:20.509 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:20.509 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:20.509 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:20:20.510 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:20:20.510 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:20:20.510 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:20:20.511 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:20:20.511 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:20:20.513 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:20:20.513 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:20:20.518 +00:00 [DBG] Start key discovery request
2018-08-08 02:20:20.520 +00:00 [DBG] Start key discovery request
2018-08-08 02:20:20.546 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:20:20.547 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:20:20.547 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:20:20.548 +00:00 [DBG] Start key discovery request
2018-08-08 02:22:04.722 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:04.733 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:04.733 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:04.747 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:04.756 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:04.757 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:04.867 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:04.868 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:04.920 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:04.921 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:04.922 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:22:04.922 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:22:04.922 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:04.922 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:22:04.923 +00:00 [DBG] Start discovery request
2018-08-08 02:22:04.923 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:04.925 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:22:04.926 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:22:04.927 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:22:04.927 +00:00 [DBG] Start discovery request
2018-08-08 02:22:05.022 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:22:05.061 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:22:05.210 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:05.216 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:05.232 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:05.232 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:05.237 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:05.237 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:05.288 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:05.294 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:05.304 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:05.304 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:05.305 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:22:05.305 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:22:05.305 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:05.305 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:22:05.306 +00:00 [DBG] Start key discovery request
2018-08-08 02:22:05.305 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:05.306 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:22:05.307 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:22:05.307 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:22:05.307 +00:00 [DBG] Start key discovery request
2018-08-08 02:22:05.415 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:05.415 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:05.493 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:22:05.514 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:22:05.514 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:22:05.530 +00:00 [DBG] Start authorize request
2018-08-08 02:22:05.583 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:05.607 +00:00 [DBG] No user present in authorize request
2018-08-08 02:22:05.624 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:22:06.459 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:22:06.538 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:06.646 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:06.681 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:06.696 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:06.713 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:22:06.736 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO;some-state",
  "Nonce": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO"
  }
}
2018-08-08 02:22:06.752 +00:00 [INF] Showing login: User is not authenticated
2018-08-08 02:22:06.774 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:06.775 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:07.376 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:07.377 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:22:07.387 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:22:07.393 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:07.402 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:07.409 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:07.417 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:07.417 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:22:07.428 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:22:13.956 +00:00 [ERR] An exception was thrown while deserializing the token.
System.InvalidOperationException: The antiforgery token could not be decrypted. ---> System.Security.Cryptography.CryptographicException: The key {31e6fae5-cc2f-4e9f-8c72-5f1fdf4c4f4a} was not found in the key ring.
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.UnprotectCore(Byte[] protectedData, Boolean allowOperationsOnRevokedKeys, UnprotectStatus& status)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.DangerousUnprotect(Byte[] protectedData, Boolean ignoreRevocationErrors, Boolean& requiresMigration, Boolean& wasRevoked)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingBasedDataProtector.Unprotect(Byte[] protectedData)
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgeryTokenSerializer.Deserialize(String serializedToken)
   at Microsoft.AspNetCore.Antiforgery.Internal.DefaultAntiforgery.GetCookieTokenDoesNotThrow(HttpContext httpContext)
2018-08-08 02:22:22.261 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:22.261 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:22.349 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-08 02:22:26.429 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-08 02:22:26.446 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:26.447 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:26.475 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-08 02:22:26.969 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSQLTMDIA4:00000005",
  "TimeStamp": "2018-08-08T02:22:26Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:22:26.990 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:22:26.992 +00:00 [DBG] Adding amr claim with value: external
2018-08-08 02:22:26.997 +00:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2018-08-08 02:22:27.001 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:22:27.019 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-08 02:22:27.054 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:22:27.055 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:22:27.056 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-08 02:22:27.057 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-08 02:22:27.057 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-08 02:22:27.062 +00:00 [DBG] Start authorize callback request
2018-08-08 02:22:27.070 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:22:27.070 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:22:27.088 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:22:27.098 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:27.111 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:27.120 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:22:27.131 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:22:27.132 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:22:27.132 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO;some-state",
  "Nonce": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO",
  "SessionId": "e69ace2bfab16ae4374ee52e527deee4",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO"
  }
}
2018-08-08 02:22:27.230 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:22:27.245 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:22:27.253 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:22:27.263 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:22:27.263 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:22:27.342 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:22:27.342 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:22:27.356 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****1WJw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****ff9A"
    }
  ],
  "ActivityId": "0HLFSQLTMDIA4:00000006",
  "TimeStamp": "2018-08-08T02:22:27Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:22:27.359 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "7xApqD8JYWLjjZkUV0iAlmjsZ6CbGew3UTwsSByO;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:22:27.379 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:22:27.380 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:22:28.808 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:28.817 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:28.817 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:28.828 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:28.836 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:28.836 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:28.995 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:28.996 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:22:29.036 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.036 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.037 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:22:29.038 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:22:29.038 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:22:29.038 +00:00 [DBG] Start discovery request
2018-08-08 02:22:29.054 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.055 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.057 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:22:29.059 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:22:29.059 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:22:29.060 +00:00 [DBG] Start discovery request
2018-08-08 02:22:29.132 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:22:29.161 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:22:29.296 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:29.318 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.318 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.335 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:29.371 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:29.391 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.400 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.409 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:22:29.418 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.420 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.420 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:22:29.420 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:22:29.420 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:22:29.420 +00:00 [DBG] Start key discovery request
2018-08-08 02:22:29.457 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:22:29.457 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:22:29.457 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:22:29.458 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:22:29.458 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:22:29.458 +00:00 [DBG] Start key discovery request
2018-08-08 02:23:50.951 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:23:50.960 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:50.960 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:50.975 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:23:50.995 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:50.996 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.261 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:23:51.276 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:23:51.320 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.321 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.321 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:23:51.322 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:23:51.322 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:23:51.322 +00:00 [DBG] Start discovery request
2018-08-08 02:23:51.325 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.325 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.326 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:23:51.326 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:23:51.327 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:23:51.327 +00:00 [DBG] Start discovery request
2018-08-08 02:23:51.502 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:23:51.507 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:23:51.679 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:23:51.693 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:23:51.791 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.792 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.799 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.799 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.866 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:23:51.868 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:23:51.952 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.953 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.953 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:23:51.954 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:23:51.954 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:23:51.954 +00:00 [DBG] Start key discovery request
2018-08-08 02:23:51.969 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:23:51.970 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:23:51.973 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:23:51.974 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:23:51.974 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:23:51.974 +00:00 [DBG] Start key discovery request
2018-08-08 02:24:19.450 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:19.461 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.462 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:19.473 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:19.484 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.485 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:19.576 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:19.576 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:19.616 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.627 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:19.627 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:24:19.628 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:24:19.628 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:24:19.629 +00:00 [DBG] Start discovery request
2018-08-08 02:24:19.634 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.634 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:19.634 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:24:19.634 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:24:19.635 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:24:19.635 +00:00 [DBG] Start discovery request
2018-08-08 02:24:19.727 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:24:19.750 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:24:19.918 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:19.942 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:19.973 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.973 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:19.991 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:19.995 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:20.004 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:20.015 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:20.028 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:20.029 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:20.030 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:24:20.031 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:24:20.032 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:24:20.032 +00:00 [DBG] Start key discovery request
2018-08-08 02:24:20.034 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:20.035 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:20.035 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:24:20.036 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:24:20.036 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:24:20.036 +00:00 [DBG] Start key discovery request
2018-08-08 02:24:45.959 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:45.970 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:45.970 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:45.986 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:45.997 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:45.997 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.164 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:46.165 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:24:46.233 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.233 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.233 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:24:46.234 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:24:46.234 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:24:46.234 +00:00 [DBG] Start discovery request
2018-08-08 02:24:46.245 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.245 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.246 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:24:46.251 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:24:46.251 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:24:46.251 +00:00 [DBG] Start discovery request
2018-08-08 02:24:46.394 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:24:46.421 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:24:46.552 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:46.566 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:46.585 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.585 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.587 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.587 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.647 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:46.647 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:24:46.682 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.683 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.683 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:24:46.683 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:24:46.684 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:24:46.684 +00:00 [DBG] Start key discovery request
2018-08-08 02:24:46.684 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:24:46.684 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:24:46.685 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:24:46.685 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:24:46.685 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:24:46.685 +00:00 [DBG] Start key discovery request
2018-08-08 02:25:50.311 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:50.325 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:50.350 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.350 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.351 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.352 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.434 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:50.434 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:50.457 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.457 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.457 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:25:50.457 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:25:50.457 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:25:50.457 +00:00 [DBG] Start discovery request
2018-08-08 02:25:50.474 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.474 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.474 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:25:50.475 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:25:50.475 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:25:50.475 +00:00 [DBG] Start discovery request
2018-08-08 02:25:50.494 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:25:50.522 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:25:50.634 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:50.652 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:50.759 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.760 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.769 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.770 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.820 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:50.822 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:50.878 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.878 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.879 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:25:50.888 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:25:50.888 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:25:50.888 +00:00 [DBG] Start key discovery request
2018-08-08 02:25:50.904 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:50.904 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:50.904 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:25:50.905 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:25:50.905 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:25:50.905 +00:00 [DBG] Start key discovery request
2018-08-08 02:25:55.090 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:55.100 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.100 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.114 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:55.122 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.123 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.214 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:55.214 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:25:55.230 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.231 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.231 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:25:55.231 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:25:55.232 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:25:55.232 +00:00 [DBG] Start discovery request
2018-08-08 02:25:55.232 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.233 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.233 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:25:55.233 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:25:55.233 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:25:55.233 +00:00 [DBG] Start discovery request
2018-08-08 02:25:55.334 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:25:55.335 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:25:55.471 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:55.491 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:55.492 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.492 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.507 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.507 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.618 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:55.625 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:25:55.633 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.633 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.633 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:25:55.633 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:25:55.634 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:25:55.634 +00:00 [DBG] Start key discovery request
2018-08-08 02:25:55.635 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:25:55.636 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:25:55.636 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:25:55.636 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:25:55.636 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:25:55.637 +00:00 [DBG] Start key discovery request
2018-08-08 02:26:14.415 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:26:14.433 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:14.434 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:14.447 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:26:14.462 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:14.463 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:14.708 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:26:14.708 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:26:14.760 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:14.760 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:14.761 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:26:14.761 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:26:14.761 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:26:14.761 +00:00 [DBG] Start discovery request
2018-08-08 02:26:14.772 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:14.773 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:14.773 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:26:14.773 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:26:14.773 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:26:14.774 +00:00 [DBG] Start discovery request
2018-08-08 02:26:14.862 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:26:14.863 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:26:15.007 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:26:15.028 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:26:15.086 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:15.087 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:15.090 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:15.090 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:15.229 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:26:15.236 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:26:15.245 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:15.246 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:15.246 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:26:15.246 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:26:15.246 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:26:15.246 +00:00 [DBG] Start key discovery request
2018-08-08 02:26:15.248 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:26:15.248 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:26:15.248 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:26:15.249 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:26:15.249 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:26:15.249 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:05.863 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:05.874 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:05.874 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:05.889 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:05.901 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:05.901 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.005 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:06.006 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:06.024 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.024 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.024 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:06.025 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:06.025 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:06.025 +00:00 [DBG] Start discovery request
2018-08-08 02:27:06.027 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.028 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.028 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:06.028 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:06.028 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:06.029 +00:00 [DBG] Start discovery request
2018-08-08 02:27:06.204 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:06.239 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:06.351 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:06.369 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.370 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.428 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:06.451 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.451 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.468 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:06.487 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.487 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.488 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:06.488 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:06.488 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:06.488 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:06.497 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:06.528 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:06.528 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:06.529 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:06.529 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:06.529 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:06.530 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:22.489 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:22.503 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:22.504 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:22.521 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:22.533 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:22.534 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:22.700 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:22.728 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:22.798 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:22.798 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:22.798 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:22.798 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:22.799 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:22.799 +00:00 [DBG] Start discovery request
2018-08-08 02:27:22.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:22.814 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:22.815 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:22.815 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:22.815 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:22.815 +00:00 [DBG] Start discovery request
2018-08-08 02:27:22.871 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:22.876 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:23.007 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:23.023 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:23.085 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:23.085 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:23.123 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:23.124 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:23.233 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:23.236 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:23.255 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:23.256 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:23.256 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:23.256 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:23.257 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:23.257 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:23.257 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:23.258 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:23.258 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:23.259 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:23.259 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:23.259 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:26.268 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:26.280 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.280 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.294 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:26.305 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.305 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.408 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:26.414 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:26.458 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.458 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.459 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:26.459 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:26.459 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:26.459 +00:00 [DBG] Start discovery request
2018-08-08 02:27:26.462 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.463 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.463 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:26.463 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:26.464 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:26.464 +00:00 [DBG] Start discovery request
2018-08-08 02:27:26.507 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:26.513 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:26.588 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:26.588 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:26.612 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.612 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.626 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.627 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.722 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:26.724 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:26.741 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.741 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.741 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:26.742 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:26.742 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:26.742 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:26.745 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:26.746 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:26.752 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:26.758 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:26.759 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:26.759 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:38.999 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:39.007 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.008 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.018 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:39.026 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.026 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.184 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:39.197 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:39.224 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.225 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.225 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:39.225 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:39.225 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:39.225 +00:00 [DBG] Start discovery request
2018-08-08 02:27:39.228 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.228 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.228 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:39.228 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:39.229 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:39.229 +00:00 [DBG] Start discovery request
2018-08-08 02:27:39.268 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:39.274 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:39.350 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:39.358 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:39.379 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.379 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.380 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.380 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.512 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:39.512 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:39.536 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.537 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.539 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:39.540 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:39.542 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:39.542 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:39.542 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:39.543 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:39.544 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:39.544 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:39.544 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:39.544 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:39.644 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:27:39.644 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:27:39.644 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:27:39.645 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:27:39.645 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:27:39.645 +00:00 [DBG] Start authorize request
2018-08-08 02:27:39.645 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:27:39.645 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:27:39.690 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:27:39.726 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:27:39.746 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:27:39.762 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:27:39.779 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:27:39.779 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:27:39.780 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "VfEN6TGVLf0NyxOWYxgDwnRIEZNSp7ViJGbx6tsJ;some-state",
  "Nonce": "VfEN6TGVLf0NyxOWYxgDwnRIEZNSp7ViJGbx6tsJ",
  "SessionId": "e69ace2bfab16ae4374ee52e527deee4",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "VfEN6TGVLf0NyxOWYxgDwnRIEZNSp7ViJGbx6tsJ;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "VfEN6TGVLf0NyxOWYxgDwnRIEZNSp7ViJGbx6tsJ"
  }
}
2018-08-08 02:27:39.801 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:27:39.807 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:27:39.807 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:27:39.807 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:27:39.807 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:27:39.826 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:27:39.827 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:27:39.829 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****XCqw"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****Ma8Q"
    }
  ],
  "ActivityId": "0HLFSQLTMDIA7:00000001",
  "TimeStamp": "2018-08-08T02:27:39Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:27:39.830 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "VfEN6TGVLf0NyxOWYxgDwnRIEZNSp7ViJGbx6tsJ;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:27:41.479 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:41.489 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.490 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.500 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:41.509 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.509 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.587 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:41.587 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:27:41.609 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.609 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.609 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:41.609 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:41.610 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:41.610 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.610 +00:00 [DBG] Start discovery request
2018-08-08 02:27:41.611 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.612 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:27:41.614 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:27:41.615 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:27:41.616 +00:00 [DBG] Start discovery request
2018-08-08 02:27:41.655 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:41.658 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:27:41.735 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:41.742 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:41.755 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.759 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.764 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.769 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.855 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:41.855 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:27:41.869 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.869 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.870 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:27:41.870 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:41.870 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:27:41.870 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:27:41.870 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:41.870 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:41.870 +00:00 [DBG] Start key discovery request
2018-08-08 02:27:41.870 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:27:41.871 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:27:41.871 +00:00 [DBG] Start key discovery request
2018-08-08 02:28:12.754 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:28:12.764 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:12.765 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:12.779 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:28:12.787 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:12.787 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:12.903 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:28:12.903 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:28:12.946 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:12.947 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:12.947 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:28:12.948 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:28:12.948 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:12.948 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:12.948 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:28:12.949 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:28:12.949 +00:00 [DBG] Start discovery request
2018-08-08 02:28:12.950 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:28:12.950 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:28:12.950 +00:00 [DBG] Start discovery request
2018-08-08 02:28:12.984 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:28:12.991 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:28:13.057 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:28:13.071 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:28:13.093 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:13.093 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:13.131 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:13.131 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:13.220 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:28:13.268 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:28:13.296 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:13.297 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:13.298 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:28:13.298 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:28:13.298 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:28:13.299 +00:00 [DBG] Start key discovery request
2018-08-08 02:28:13.321 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:28:13.321 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:28:13.322 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:28:13.323 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:28:13.323 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:28:13.324 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:05.791 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:05.802 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:05.802 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:05.814 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:05.824 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:05.824 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:05.999 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:06.000 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:06.054 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.057 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.058 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:06.058 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:06.059 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:06.059 +00:00 [DBG] Start discovery request
2018-08-08 02:30:06.063 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.064 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.064 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:06.065 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:06.065 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:06.065 +00:00 [DBG] Start discovery request
2018-08-08 02:30:06.164 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:06.169 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:06.260 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:06.289 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:06.311 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.312 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.328 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:06.356 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.358 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.371 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:06.386 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.386 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.386 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:06.387 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:06.388 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:06.388 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:06.388 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:06.388 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:06.389 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:06.389 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:06.389 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:06.389 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:19.841 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:19.851 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:19.851 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:19.867 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:19.875 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:19.876 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.005 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:20.005 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:20.076 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.076 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.077 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:20.077 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.077 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.077 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:20.077 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:20.077 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:20.077 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:20.078 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:20.078 +00:00 [DBG] Start discovery request
2018-08-08 02:30:20.078 +00:00 [DBG] Start discovery request
2018-08-08 02:30:20.196 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:20.212 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:20.270 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:20.285 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:20.383 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.383 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.400 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.400 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.427 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:20.435 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:20.447 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.448 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.451 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:20.458 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:20.459 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:20.459 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:20.460 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:20.460 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:20.461 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:20.462 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:20.463 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:20.463 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:34.878 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:34.883 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:34.883 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:34.891 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:34.897 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:34.897 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:34.993 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:34.998 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:35.039 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.040 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.052 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.052 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.052 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:35.053 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:35.052 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:35.054 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:35.054 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:35.054 +00:00 [DBG] Start discovery request
2018-08-08 02:30:35.055 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:35.065 +00:00 [DBG] Start discovery request
2018-08-08 02:30:35.194 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:35.212 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:35.280 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:35.286 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:35.302 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.302 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.303 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.303 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.323 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:35.323 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:35.342 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.342 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.343 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:35.344 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:35.345 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:35.345 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:35.351 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:35.351 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:35.352 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:35.353 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:35.353 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:35.353 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:47.421 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:47.430 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.430 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.441 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:47.450 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.450 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.585 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:47.585 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:30:47.620 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.622 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.623 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:47.624 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:47.625 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:47.626 +00:00 [DBG] Start discovery request
2018-08-08 02:30:47.634 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.634 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.635 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:30:47.636 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:30:47.636 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:30:47.637 +00:00 [DBG] Start discovery request
2018-08-08 02:30:47.716 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:47.732 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:30:47.891 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:47.904 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:47.912 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.913 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.939 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:47.939 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:47.972 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:47.972 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:30:48.020 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:48.020 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:48.021 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:48.021 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:48.022 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:48.023 +00:00 [DBG] Start key discovery request
2018-08-08 02:30:48.036 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:30:48.036 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:30:48.037 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:30:48.037 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:30:48.038 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:30:48.038 +00:00 [DBG] Start key discovery request
2018-08-08 02:31:02.848 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:02.859 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:02.859 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:02.877 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:02.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:02.888 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.028 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:03.031 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:03.102 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.102 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.103 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:31:03.105 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:31:03.106 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:31:03.107 +00:00 [DBG] Start discovery request
2018-08-08 02:31:03.112 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.112 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.113 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:31:03.113 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:31:03.113 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:31:03.114 +00:00 [DBG] Start discovery request
2018-08-08 02:31:03.179 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:31:03.179 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:31:03.354 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:03.367 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:03.401 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.404 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.407 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.407 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.414 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:03.416 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:03.428 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.428 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.429 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:03.429 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:31:03.429 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:03.430 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:31:03.430 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:31:03.430 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:31:03.430 +00:00 [DBG] Start key discovery request
2018-08-08 02:31:03.431 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:31:03.431 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:31:03.431 +00:00 [DBG] Start key discovery request
2018-08-08 02:31:25.946 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:25.956 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:25.956 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:25.965 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:25.976 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:25.979 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.084 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:26.084 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:31:26.143 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.143 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.144 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:31:26.144 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:31:26.145 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:31:26.145 +00:00 [DBG] Start discovery request
2018-08-08 02:31:26.148 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.148 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.149 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:31:26.149 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:31:26.149 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:31:26.149 +00:00 [DBG] Start discovery request
2018-08-08 02:31:26.231 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:31:26.235 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:31:26.303 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:26.313 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:26.336 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.336 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.339 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.339 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.455 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:26.458 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:31:26.471 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.471 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.471 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:31:26.472 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:31:26.472 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:31:26.472 +00:00 [DBG] Start key discovery request
2018-08-08 02:31:26.474 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:31:26.475 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:31:26.479 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:31:26.481 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:31:26.482 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:31:26.483 +00:00 [DBG] Start key discovery request
2018-08-08 02:33:49.003 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:49.017 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.017 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.034 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:49.044 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.044 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.532 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:49.541 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:49.579 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.580 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.582 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:33:49.595 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.595 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.595 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:33:49.595 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:33:49.596 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:33:49.596 +00:00 [DBG] Start discovery request
2018-08-08 02:33:49.596 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:33:49.596 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:33:49.596 +00:00 [DBG] Start discovery request
2018-08-08 02:33:49.678 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:33:49.690 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:33:49.754 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:49.787 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.788 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.788 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:49.814 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.815 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.841 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:49.847 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:49.879 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.880 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.881 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:33:49.881 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:33:49.882 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:33:49.882 +00:00 [DBG] Start key discovery request
2018-08-08 02:33:49.888 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:49.888 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:49.889 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:33:49.890 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:33:49.890 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:33:49.890 +00:00 [DBG] Start key discovery request
2018-08-08 02:33:49.938 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:33:49.939 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:33:49.939 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:33:49.939 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:33:49.939 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:33:49.939 +00:00 [DBG] Start authorize request
2018-08-08 02:33:49.939 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:33:49.939 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:33:49.975 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:33:49.988 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:33:50.012 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:33:50.029 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:33:50.055 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:33:50.055 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:33:50.055 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "AelaW5BmOrzs3d9ylP4MGa3HuXk5Ddl7WnHLWbYq;some-state",
  "Nonce": "AelaW5BmOrzs3d9ylP4MGa3HuXk5Ddl7WnHLWbYq",
  "SessionId": "e69ace2bfab16ae4374ee52e527deee4",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "AelaW5BmOrzs3d9ylP4MGa3HuXk5Ddl7WnHLWbYq;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "AelaW5BmOrzs3d9ylP4MGa3HuXk5Ddl7WnHLWbYq"
  }
}
2018-08-08 02:33:50.098 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:33:50.104 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:33:50.105 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:33:50.105 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:33:50.106 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:33:50.128 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:33:50.128 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:33:50.131 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****Ha5A"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****r-xA"
    }
  ],
  "ActivityId": "0HLFSQLTMDIAA:00000001",
  "TimeStamp": "2018-08-08T02:33:50Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:33:50.132 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "AelaW5BmOrzs3d9ylP4MGa3HuXk5Ddl7WnHLWbYq;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:33:52.969 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:52.977 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:52.977 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:52.989 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:52.995 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:52.995 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.132 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:53.133 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:33:53.177 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.178 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.178 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:33:53.179 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:33:53.179 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:33:53.180 +00:00 [DBG] Start discovery request
2018-08-08 02:33:53.184 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.184 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.184 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:33:53.184 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:33:53.185 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:33:53.185 +00:00 [DBG] Start discovery request
2018-08-08 02:33:53.225 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:33:53.227 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:33:53.259 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:53.299 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:53.343 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.345 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.345 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.346 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.635 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:53.637 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:33:53.655 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.655 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.655 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:33:53.655 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:33:53.655 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:33:53.655 +00:00 [DBG] Start key discovery request
2018-08-08 02:33:53.661 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:33:53.662 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:33:53.662 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:33:53.662 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:33:53.663 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:33:53.663 +00:00 [DBG] Start key discovery request
2018-08-08 02:38:52.261 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:38:52.262 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:38:55.949 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:38:55.949 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:38:56.016 +00:00 [DBG] 1 persisted grants found for b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:38:56.036 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:38:56.045 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:38:56.056 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:39:01.245 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:01.245 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:04.175 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:04.175 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:04.175 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:39:04.176 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:39:04.176 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:39:04.176 +00:00 [DBG] Start discovery request
2018-08-08 02:39:04.195 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:39:05.233 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:05.233 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:08.038 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:08.038 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:11.343 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:11.343 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:11.346 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:11.346 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:15.221 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:15.222 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:15.228 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:15.229 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.495 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.495 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.600 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.601 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.626 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.626 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.638 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:16.638 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:31.738 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:31.738 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:40.211 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:40.211 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:44.327 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:44.327 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:47.050 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:39:47.050 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:04.015 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:04.015 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:04.024 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:40:06.544 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:06.544 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:06.549 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:40:10.015 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:10.015 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:10.015 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:10.016 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:30.119 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:30.119 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:40:30.122 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:41:02.501 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:02.507 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.508 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.513 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:02.519 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.520 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.631 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:02.658 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:02.676 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.676 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.676 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:02.677 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:02.677 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:02.677 +00:00 [DBG] Start discovery request
2018-08-08 02:41:02.680 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.680 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.682 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:02.682 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:02.682 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:02.683 +00:00 [DBG] Start discovery request
2018-08-08 02:41:02.712 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:02.713 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:02.790 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:02.802 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:02.804 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.804 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.816 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.816 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.965 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:02.975 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:02.982 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.982 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.982 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:02.983 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:02.983 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:02.983 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:02.989 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:02.989 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:02.989 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:02.990 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:02.990 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:02.990 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:03.111 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:41:03.112 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:41:03.112 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:41:03.113 +00:00 [DBG] Start authorize request
2018-08-08 02:41:03.113 +00:00 [DBG] No user present in authorize request
2018-08-08 02:41:03.113 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:41:03.133 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:41:03.154 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:03.193 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:03.208 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:03.225 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:03.226 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:41:03.226 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "anonymous",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU;some-state",
  "Nonce": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU"
  }
}
2018-08-08 02:41:03.226 +00:00 [INF] Showing login: User is not authenticated
2018-08-08 02:41:03.241 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:41:03.281 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:41:03.297 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:03.311 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:03.320 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:03.345 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:03.346 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:41:03.391 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:41:10.909 +00:00 [INF] AuthenticationScheme: Google was challenged.
2018-08-08 02:41:17.480 +00:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-08-08 02:41:17.489 +00:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-08-08 02:41:17.513 +00:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFSQLTMDIAI:00000006",
  "TimeStamp": "2018-08-08T02:41:17Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:41:17.513 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:41:17.513 +00:00 [DBG] Adding amr claim with value: external
2018-08-08 02:41:17.514 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:41:17.514 +00:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-08-08 02:41:17.523 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:41:17.523 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:41:17.523 +00:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2018-08-08 02:41:17.524 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2018-08-08 02:41:17.524 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2018-08-08 02:41:17.524 +00:00 [DBG] Start authorize callback request
2018-08-08 02:41:17.524 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:41:17.524 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:41:17.543 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:41:17.552 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:17.565 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:17.573 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:41:17.585 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:41:17.585 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:41:17.586 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU;some-state",
  "Nonce": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU",
  "SessionId": "7327dba404f2df1d0762ef3e99cde233",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU"
  }
}
2018-08-08 02:41:17.603 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:41:17.608 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:41:17.608 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:41:17.608 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:41:17.609 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:41:17.627 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:41:17.627 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:41:17.631 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****-7bA"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****SwtQ"
    }
  ],
  "ActivityId": "0HLFSQLTMDIAI:00000007",
  "TimeStamp": "2018-08-08T02:41:17Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:41:17.631 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "vr51H6Re362p1xCH9iQTCGZV6l9ZDd1VXJ1OxsKU;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:41:17.631 +00:00 [DBG] Augmenting SignInContext
2018-08-08 02:41:17.632 +00:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-08-08 02:41:19.175 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:19.182 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.182 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.192 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:19.197 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.197 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.366 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:19.366 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:19.385 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.386 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.386 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:19.386 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:19.386 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:19.387 +00:00 [DBG] Start discovery request
2018-08-08 02:41:19.391 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.391 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.391 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:19.392 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:19.392 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:19.392 +00:00 [DBG] Start discovery request
2018-08-08 02:41:19.438 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:19.455 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:19.576 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:19.589 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:19.617 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.619 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.621 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.621 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.704 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:19.704 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:19.727 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.731 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.732 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:19.732 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:19.732 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:19.732 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:19.732 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:19.733 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:19.733 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:19.733 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:19.733 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:19.733 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:38.519 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:38.533 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.534 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.560 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:38.631 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.632 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.675 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:38.680 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:38.718 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.719 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.719 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:38.719 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:38.719 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:38.719 +00:00 [DBG] Start discovery request
2018-08-08 02:41:38.724 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.724 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.725 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:38.725 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:38.725 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:38.726 +00:00 [DBG] Start discovery request
2018-08-08 02:41:38.771 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:38.772 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:38.840 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:38.849 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:38.852 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.853 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.861 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.861 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.891 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:38.920 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.920 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.920 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:38.921 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:38.921 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:38.921 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:38.976 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:38.990 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:38.990 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:38.991 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:38.991 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:38.991 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:38.992 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:41.471 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:41.484 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.484 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.494 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:41.517 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.518 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.592 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:41.592 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:41:41.627 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.627 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.628 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:41.628 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:41.628 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:41.628 +00:00 [DBG] Start discovery request
2018-08-08 02:41:41.630 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.631 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.633 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:41:41.634 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:41:41.637 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:41:41.637 +00:00 [DBG] Start discovery request
2018-08-08 02:41:41.681 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:41.683 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:41:41.744 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:41.751 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:41.801 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.805 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.811 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.815 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.902 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:41.909 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:41:41.928 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.928 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.929 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:41.929 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:41.930 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:41.930 +00:00 [DBG] Start key discovery request
2018-08-08 02:41:41.931 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:41:41.931 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:41:41.931 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:41:41.931 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:41:41.932 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:41:41.932 +00:00 [DBG] Start key discovery request
2018-08-08 02:42:02.359 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:02.359 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:02.359 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:02.359 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:07.817 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:07.817 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:07.819 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:07.820 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:07.824 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:13.544 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.544 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.554 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:13.566 +00:00 [INF] Finding User by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:13.717 +00:00 [INF] Successfully Retrieved item by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:13.752 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.752 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.752 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:13.753 +00:00 [INF] Finding User by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:13.769 +00:00 [INF] Successfully Retrieved item by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:13.806 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.806 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.817 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:13.817 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:18.825 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:18.825 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:18.840 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:18.872 +00:00 [INF] Finding User by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:18.897 +00:00 [INF] Updating User by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:19.011 +00:00 [WRN] The LINQ expression 'where {from Claim y in __claims_0 where ([y].Type == [x].Name) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.013 +00:00 [WRN] The LINQ expression 'where ([y].Type == [x].Name)' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.019 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.064 +00:00 [WRN] The LINQ expression 'where {from Claim y in __8__locals1_claims_0 where ([y].Type == [x].Name) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.064 +00:00 [WRN] The LINQ expression 'where ([y].Type == [x].Name)' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.065 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:19.312 +00:00 [INF] Successfully Updated User by Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:21.613 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:21.613 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:23.216 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:23.217 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:30.507 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:30.508 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:30.513 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:30.517 +00:00 [INF] Getting Apps
2018-08-08 02:42:30.547 +00:00 [WRN] The LINQ expression 'where (([x].Expiration == null) OrElse (Convert(DateTime.UtcNow, Nullable`1) < [x].Expiration))' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.610 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.611 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.611 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.613 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.613 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.613 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.617 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.618 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.619 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.626 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.AllowedGrantTypes], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.627 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.633 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.634 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.636 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.637 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.637 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.638 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.639 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.RedirectUris], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.640 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.644 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.644 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.644 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.645 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.645 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.646 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.647 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.PostLogoutRedirectUris], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.647 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.654 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.654 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.654 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.655 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.656 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.656 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.657 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.AllowedScopes], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.657 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.660 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.660 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.661 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.661 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.661 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.662 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.663 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.AllowedCorsOrigins], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.663 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.668 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.669 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.670 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.672 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.672 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.673 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.674 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.IdentityProviderRestrictions], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.674 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.678 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.679 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.679 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.680 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.680 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.681 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.686 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.ClientSecrets], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.686 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.692 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.692 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.692 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.693 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.693 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.694 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.695 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.Claims], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.695 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.698 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.699 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.700 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.703 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.704 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.705 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.706 +00:00 [WRN] The LINQ expression 'join AnonymousObject _x in {from Client x in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[IdentityServer4.EntityFramework.Entities.Client]) where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()} select new AnonymousObject(new [] {Convert(EF.Property(?[x]?, "Id"), Object)})} on Property([x.Properties], "ClientId") equals Convert([_x].GetValue(0), Nullable`1)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.706 +00:00 [WRN] The LINQ expression 'orderby [_x].GetValue(0) asc' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.990 +00:00 [WRN] The LINQ expression 'where {from PersistedGrant y in __consent_0 where ([y].ClientId == [x].ClientId) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.990 +00:00 [WRN] The LINQ expression 'where ([y].ClientId == [x].ClientId)' could not be translated and will be evaluated locally.
2018-08-08 02:42:30.990 +00:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-08-08 02:42:31.008 +00:00 [INF] Successfully Retrieved Apps for Subject b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:42:31.941 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:31.941 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:33.705 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:33.706 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:34.600 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:34.600 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:37.637 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:37.637 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:37.637 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:42:40.585 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:40.585 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:40.585 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:40.586 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.789 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.789 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.831 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.831 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.852 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.852 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.861 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:42:41.861 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:43:15.013 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:43:15.025 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.025 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.038 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:43:15.048 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.048 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.167 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:43:15.167 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:43:15.187 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.187 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.187 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:43:15.188 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:43:15.188 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:43:15.188 +00:00 [DBG] Start discovery request
2018-08-08 02:43:15.188 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.189 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.189 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:43:15.190 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:43:15.190 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:43:15.190 +00:00 [DBG] Start discovery request
2018-08-08 02:43:15.270 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:43:15.279 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:43:15.379 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:43:15.389 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:43:15.405 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.406 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.413 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.413 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.455 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:43:15.456 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:43:15.471 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.471 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.472 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:43:15.472 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:43:15.472 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:43:15.472 +00:00 [DBG] Start key discovery request
2018-08-08 02:43:15.476 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:43:15.476 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:43:15.476 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:43:15.476 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:43:15.476 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:43:15.476 +00:00 [DBG] Start key discovery request
2018-08-08 02:44:46.930 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:46.937 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:46.937 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:46.946 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:46.951 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:46.951 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.120 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:47.130 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:47.134 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.135 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.135 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:44:47.135 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:44:47.137 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:44:47.143 +00:00 [DBG] Start discovery request
2018-08-08 02:44:47.166 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.167 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.167 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:44:47.167 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:44:47.167 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:44:47.167 +00:00 [DBG] Start discovery request
2018-08-08 02:44:47.216 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:44:47.228 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:44:47.824 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:47.833 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.833 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.839 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:47.851 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.851 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.915 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:47.919 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:47.928 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.929 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.930 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:44:47.930 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:44:47.930 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:44:47.931 +00:00 [DBG] Start key discovery request
2018-08-08 02:44:47.930 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:47.932 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:47.932 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:44:47.933 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:44:47.934 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:44:47.934 +00:00 [DBG] Start key discovery request
2018-08-08 02:44:54.579 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:54.589 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:54.590 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:54.604 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:54.672 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:54.673 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:54.772 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:54.773 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:44:54.922 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:54.927 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:54.929 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:44:54.930 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:44:54.933 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:44:54.933 +00:00 [DBG] Start discovery request
2018-08-08 02:44:54.944 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:54.944 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:54.945 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:44:54.946 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:44:54.946 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:44:54.958 +00:00 [DBG] Start discovery request
2018-08-08 02:44:55.289 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:44:55.302 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:55.333 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:44:55.356 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:55.378 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:55.378 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:55.379 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:55.380 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:55.416 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:55.417 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:44:55.427 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:55.428 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:55.428 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:44:55.428 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:44:55.429 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:44:55.429 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:44:55.429 +00:00 [DBG] Start key discovery request
2018-08-08 02:44:55.429 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:44:55.429 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:44:55.430 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:44:55.430 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:44:55.430 +00:00 [DBG] Start key discovery request
2018-08-08 02:46:05.172 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:05.173 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:05.194 +00:00 [FTL] ****** Using non-production Community Edition ******
2018-08-08 02:46:05.208 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:09.287 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:09.287 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:09.288 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:46:09.289 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:46:09.290 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:46:09.297 +00:00 [DBG] Start userinfo request
2018-08-08 02:46:09.300 +00:00 [DBG] Bearer token not found
2018-08-08 02:46:09.301 +00:00 [ERR] No access token found.
2018-08-08 02:46:11.037 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:11.038 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:11.038 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:46:11.039 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:46:11.039 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:46:11.039 +00:00 [DBG] Start userinfo request
2018-08-08 02:46:11.039 +00:00 [DBG] Bearer token not found
2018-08-08 02:46:11.039 +00:00 [ERR] No access token found.
2018-08-08 02:46:22.887 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:22.887 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:27.598 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:27.598 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:46:27.598 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:46:27.599 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:46:27.599 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:46:27.599 +00:00 [DBG] Start userinfo request
2018-08-08 02:46:27.599 +00:00 [DBG] Bearer token not found
2018-08-08 02:46:27.599 +00:00 [ERR] No access token found.
2018-08-08 02:48:28.960 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:28.970 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:28.970 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:28.978 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:28.990 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:28.991 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.118 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:29.164 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:29.175 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.176 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.180 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:48:29.181 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:48:29.181 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:48:29.181 +00:00 [DBG] Start discovery request
2018-08-08 02:48:29.183 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.183 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.183 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:48:29.183 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:48:29.183 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:48:29.184 +00:00 [DBG] Start discovery request
2018-08-08 02:48:29.196 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:48:29.208 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:48:29.296 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:29.313 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:29.326 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.329 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.333 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.333 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.459 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:29.459 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:29.481 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.482 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.483 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:48:29.484 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:48:29.484 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:48:29.484 +00:00 [DBG] Start key discovery request
2018-08-08 02:48:29.487 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:29.488 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:29.492 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:48:29.496 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:48:29.496 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:48:29.497 +00:00 [DBG] Start key discovery request
2018-08-08 02:48:29.615 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:48:29.616 +00:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-08-08 02:48:29.618 +00:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-08-08 02:48:29.620 +00:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-08-08 02:48:29.620 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-08-08 02:48:29.621 +00:00 [DBG] Start authorize request
2018-08-08 02:48:29.621 +00:00 [DBG] User in authorize request: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:48:29.622 +00:00 [DBG] Start authorize request protocol validation
2018-08-08 02:48:29.671 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:48:29.698 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:48:29.721 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:48:29.732 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:48:29.754 +00:00 [DBG] Found ["api1"] API scopes in database
2018-08-08 02:48:29.755 +00:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2018-08-08 02:48:29.755 +00:00 [INF] ValidatedAuthorizeRequest
{
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "AllowedRedirectUris": [
    "http://localhost:5002/callback.html",
    "http://localhost:4200"
  ],
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ResponseType": "id_token token",
  "ResponseMode": "fragment",
  "GrantType": "implicit",
  "RequestedScopes": "openid profile api1",
  "State": "HWS6pqrRhXC7hGOFLHneE3cPtKMf5Pi2Pg3JWVmI;some-state",
  "Nonce": "HWS6pqrRhXC7hGOFLHneE3cPtKMf5Pi2Pg3JWVmI",
  "SessionId": "7327dba404f2df1d0762ef3e99cde233",
  "Raw": {
    "response_type": "id_token token",
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "state": "HWS6pqrRhXC7hGOFLHneE3cPtKMf5Pi2Pg3JWVmI;some-state",
    "redirect_uri": "http://localhost:4200",
    "scope": "openid profile api1",
    "nonce": "HWS6pqrRhXC7hGOFLHneE3cPtKMf5Pi2Pg3JWVmI"
  }
}
2018-08-08 02:48:29.779 +00:00 [DBG] tcNCxv9pGZ+8Oy8BIv4QDaH86OZqqZ+joEY2rq++Mwk= found in database: true
2018-08-08 02:48:29.792 +00:00 [DBG] Consent found in consent store is same as current request, consent is not required
2018-08-08 02:48:29.792 +00:00 [DBG] Creating Implicit Flow response.
2018-08-08 02:48:29.792 +00:00 [DBG] Getting claims for access token for client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:48:29.792 +00:00 [DBG] Getting claims for access token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-08-08 02:48:29.819 +00:00 [DBG] Getting claims for identity token for subject: b7deb868-7f72-45fe-b949-f6e6a241e3b0 and client: 51cdc962c31c4bdb8bff7e9385e67b0c
2018-08-08 02:48:29.819 +00:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2018-08-08 02:48:29.822 +00:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "ClientName": "My SPA",
  "RedirectUri": "http://localhost:4200",
  "Endpoint": "Authorize",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "Scopes": "openid profile api1",
  "GrantType": "implicit",
  "Tokens": [
    {
      "TokenType": "id_token",
      "TokenValue": "****mf1A"
    },
    {
      "TokenType": "access_token",
      "TokenValue": "****AvUw"
    }
  ],
  "ActivityId": "0HLFSQLTMDIAV:00000001",
  "TimeStamp": "2018-08-08T02:48:29Z",
  "ProcessId": 160,
  "LocalIpAddress": "172.18.0.3:5000",
  "RemoteIpAddress": "172.18.0.1"
}
2018-08-08 02:48:29.823 +00:00 [INF] Authorize endpoint response
{
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "ClientId": "51cdc962c31c4bdb8bff7e9385e67b0c",
  "RedirectUri": "http://localhost:4200",
  "State": "HWS6pqrRhXC7hGOFLHneE3cPtKMf5Pi2Pg3JWVmI;some-state",
  "Scope": "openid profile api1"
}
2018-08-08 02:48:31.518 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:31.530 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.530 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:31.541 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:31.547 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.548 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:31.690 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:31.690 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:48:31.728 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.728 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:31.729 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:48:31.729 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:48:31.729 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.729 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:48:31.729 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:31.730 +00:00 [DBG] Start discovery request
2018-08-08 02:48:31.730 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:48:31.730 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:48:31.730 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:48:31.730 +00:00 [DBG] Start discovery request
2018-08-08 02:48:31.778 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:48:31.797 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:48:31.898 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:31.916 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:31.962 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.962 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:31.981 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:31.981 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:32.076 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:32.078 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:48:32.127 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:32.128 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:32.128 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:48:32.129 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:48:32.129 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:48:32.130 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:48:32.130 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:48:32.130 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:48:32.131 +00:00 [DBG] Start key discovery request
2018-08-08 02:48:32.130 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:48:32.132 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:48:32.133 +00:00 [DBG] Start key discovery request
2018-08-08 02:49:35.033 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:35.044 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.044 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.053 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:35.062 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.062 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.183 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:35.203 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:35.247 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.248 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.248 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:49:35.249 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:49:35.250 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:49:35.251 +00:00 [DBG] Start discovery request
2018-08-08 02:49:35.257 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.257 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.257 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:49:35.258 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:49:35.258 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:49:35.258 +00:00 [DBG] Start discovery request
2018-08-08 02:49:35.304 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:49:35.315 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:49:35.422 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:35.443 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:35.471 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.471 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.473 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.473 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.580 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:35.590 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:35.615 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.615 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.616 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:49:35.616 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:49:35.616 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.616 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.616 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:49:35.616 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:49:35.616 +00:00 [DBG] Start key discovery request
2018-08-08 02:49:35.617 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:49:35.617 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:49:35.617 +00:00 [DBG] Start key discovery request
2018-08-08 02:49:35.631 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:49:35.657 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.657 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.665 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:49:35.686 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:35.687 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:35.687 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:49:35.688 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:49:35.689 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:49:35.689 +00:00 [DBG] Start userinfo request
2018-08-08 02:49:35.689 +00:00 [DBG] Bearer token found in header
2018-08-08 02:49:35.882 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:49:35.916 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:49:35.930 +00:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-08 02:49:35.943 +00:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533696509,
    "exp": 1533700109,
    "iss": "http://auth:5000",
    "aud": [
      "http://auth:5000/resources",
      "api1"
    ],
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "sub": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
    "auth_time": 1533696077,
    "idp": "Google",
    "name": "Scott Varcoe",
    "preferred_username": "50010a63-47c0-4133-9abc-0b00ac2ae184",
    "email": "varcsscotty@gmail.com",
    "scope": [
      "openid",
      "profile",
      "api1"
    ],
    "amr": "external"
  }
}
2018-08-08 02:49:35.953 +00:00 [DBG] Creating userinfo response
2018-08-08 02:49:35.963 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:35.967 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:35.982 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:49:35.984 +00:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-08 02:49:35.984 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:35.994 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:49:36.010 +00:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-08 02:49:36.010 +00:00 [DBG] End userinfo request
2018-08-08 02:49:42.991 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:42.999 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.000 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.009 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:43.023 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.024 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.139 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:43.148 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:49:43.165 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.165 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.165 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:49:43.166 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:49:43.166 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:49:43.166 +00:00 [DBG] Start discovery request
2018-08-08 02:49:43.173 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.174 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.174 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:49:43.175 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:49:43.175 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:49:43.175 +00:00 [DBG] Start discovery request
2018-08-08 02:49:43.244 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:49:43.246 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:49:43.327 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:43.347 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:43.371 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.372 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.374 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.375 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.490 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:43.490 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:49:43.512 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.513 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.514 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:49:43.515 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:49:43.515 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:49:43.515 +00:00 [DBG] Start key discovery request
2018-08-08 02:49:43.517 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.517 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.519 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:49:43.522 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:49:43.524 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:49:43.524 +00:00 [DBG] Start key discovery request
2018-08-08 02:49:43.547 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:49:43.562 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.563 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.570 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:49:43.581 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:49:43.581 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:49:43.582 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:49:43.582 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:49:43.582 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:49:43.582 +00:00 [DBG] Start userinfo request
2018-08-08 02:49:43.583 +00:00 [DBG] Bearer token found in header
2018-08-08 02:49:43.616 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:49:43.648 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:49:43.665 +00:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-08 02:49:43.666 +00:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533696509,
    "exp": 1533700109,
    "iss": "http://auth:5000",
    "aud": [
      "http://auth:5000/resources",
      "api1"
    ],
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "sub": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
    "auth_time": 1533696077,
    "idp": "Google",
    "name": "Scott Varcoe",
    "preferred_username": "50010a63-47c0-4133-9abc-0b00ac2ae184",
    "email": "varcsscotty@gmail.com",
    "scope": [
      "openid",
      "profile",
      "api1"
    ],
    "amr": "external"
  }
}
2018-08-08 02:49:43.667 +00:00 [DBG] Creating userinfo response
2018-08-08 02:49:43.667 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:43.667 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:43.691 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:49:43.691 +00:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-08 02:49:43.691 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:49:43.709 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:49:43.730 +00:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-08 02:49:43.731 +00:00 [DBG] End userinfo request
2018-08-08 02:50:15.645 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:50:15.663 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:15.663 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:15.666 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:50:15.704 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:15.704 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:15.838 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:50:15.838 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2018-08-08 02:50:15.885 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:15.887 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:15.886 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:15.887 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:15.887 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:50:15.888 +00:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-08-08 02:50:15.889 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:50:15.889 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-08-08 02:50:15.891 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:50:15.892 +00:00 [DBG] Start discovery request
2018-08-08 02:50:15.890 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-08-08 02:50:15.895 +00:00 [DBG] Start discovery request
2018-08-08 02:50:15.950 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:50:15.955 +00:00 [DBG] Found ["openid","profile","api1"] as all scopes in database
2018-08-08 02:50:16.010 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:50:16.042 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:50:16.054 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.054 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.057 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.057 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.151 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:50:16.151 +00:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2018-08-08 02:50:16.170 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.171 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.171 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:50:16.172 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.172 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:50:16.172 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.172 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:50:16.173 +00:00 [DBG] Start key discovery request
2018-08-08 02:50:16.173 +00:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-08-08 02:50:16.174 +00:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-08-08 02:50:16.174 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-08-08 02:50:16.175 +00:00 [DBG] Start key discovery request
2018-08-08 02:50:16.225 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:50:16.257 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.257 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.281 +00:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2018-08-08 02:50:16.296 +00:00 [DBG] Origin http://localhost:4200 is allowed: true
2018-08-08 02:50:16.297 +00:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2018-08-08 02:50:16.297 +00:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-08-08 02:50:16.297 +00:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-08-08 02:50:16.297 +00:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-08-08 02:50:16.297 +00:00 [DBG] Start userinfo request
2018-08-08 02:50:16.297 +00:00 [DBG] Bearer token found in header
2018-08-08 02:50:16.319 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:50:16.336 +00:00 [DBG] 51cdc962c31c4bdb8bff7e9385e67b0c found in database: true
2018-08-08 02:50:16.354 +00:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-08-08 02:50:16.354 +00:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "ExpectedScope": "openid",
  "Claims": {
    "nbf": 1533696509,
    "exp": 1533700109,
    "iss": "http://auth:5000",
    "aud": [
      "http://auth:5000/resources",
      "api1"
    ],
    "client_id": "51cdc962c31c4bdb8bff7e9385e67b0c",
    "sub": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
    "auth_time": 1533696077,
    "idp": "Google",
    "name": "Scott Varcoe",
    "preferred_username": "50010a63-47c0-4133-9abc-0b00ac2ae184",
    "email": "varcsscotty@gmail.com",
    "scope": [
      "openid",
      "profile",
      "api1"
    ],
    "amr": "external"
  }
}
2018-08-08 02:50:16.355 +00:00 [DBG] Creating userinfo response
2018-08-08 02:50:16.357 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:50:16.357 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:50:16.369 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:50:16.370 +00:00 [DBG] Requested claim types: sub name family_name given_name middle_name nickname preferred_username profile picture website gender birthdate zoneinfo locale updated_at
2018-08-08 02:50:16.370 +00:00 [DBG] Scopes in access token: openid profile api1
2018-08-08 02:50:16.391 +00:00 [DBG] Found ["openid","profile"] identity scopes in database
2018-08-08 02:50:16.412 +00:00 [INF] Profile service returned to the following claim types: sub name preferred_username
2018-08-08 02:50:16.413 +00:00 [DBG] End userinfo request
