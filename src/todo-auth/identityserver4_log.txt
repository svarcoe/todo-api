2018-07-17 21:24:19.092 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:24:19.133 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:24:19.142 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:24:19.146 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:24:19.150 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:24:20.558 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-17 21:24:49.257 -07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-07-17 21:24:49.297 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-07-17 21:24:49.303 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-07-17 21:24:49.312 -07:00 [DBG] Start discovery request
2018-07-17 21:24:49.702 -07:00 [DBG] Found ["openid","profile"] as all scopes in database
2018-07-17 21:25:06.913 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-17 21:25:14.163 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-17 21:25:27.493 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-17 21:25:41.729 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-17 21:34:00.063 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:34:00.096 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:34:00.100 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:34:00.103 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:34:00.106 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:34:00.310 -07:00 [FTL] Application startup exception
System.TypeLoadException: Could not load type 'Microsoft.EntityFrameworkCore.Infrastructure.Internal.SqliteOptionsExtension' from assembly 'Microsoft.EntityFrameworkCore.Sqlite, Version=2.1.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.<>c.<CreateSqlite>b__1_0(SqliteDbContextOptionsBuilder options)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite[TContext](DbContextOptionsBuilder`1 optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.CreateSqlite(String connectionString)
   at IdentityExpress.Manager.Api.SqliteConfigurationDbContext..ctor(IConfiguration configuration)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at IdentityExpress.Manager.Api.Startup.ConfigureMigrations(IServiceScope serviceScope)
   at IdentityExpress.Manager.Api.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)
   at IdentityServer4.AdminUIExtensions.UseAdminUI(IApplicationBuilder appBuilder)
   at todo_auth.Startup.Configure(IApplicationBuilder app) in C:\code\todo-api\src\todo-auth\Startup.cs:line 112
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-07-17 21:36:33.180 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:36:33.221 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:36:33.226 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:36:33.234 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:36:33.238 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:36:33.360 -07:00 [FTL] Application startup exception
System.TypeLoadException: Could not load type 'Microsoft.EntityFrameworkCore.Infrastructure.Internal.SqliteOptionsExtension' from assembly 'Microsoft.EntityFrameworkCore.Sqlite, Version=2.1.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.<>c.<CreateSqlite>b__1_0(SqliteDbContextOptionsBuilder options)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite[TContext](DbContextOptionsBuilder`1 optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.CreateSqlite(String connectionString)
   at IdentityExpress.Manager.Api.SqliteConfigurationDbContext..ctor(IConfiguration configuration)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at IdentityExpress.Manager.Api.Startup.ConfigureMigrations(IServiceScope serviceScope)
   at IdentityExpress.Manager.Api.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)
   at IdentityServer4.AdminUIExtensions.UseAdminUI(IApplicationBuilder appBuilder)
   at todo_auth.Startup.Configure(IApplicationBuilder app) in C:\code\todo-api\src\todo-auth\Startup.cs:line 112
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-07-17 21:37:43.657 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:37:43.694 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:37:43.698 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:37:43.701 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:37:43.708 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:37:44.812 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-17 21:39:41.735 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:39:41.773 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:39:41.775 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:39:41.779 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:39:41.783 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:39:41.938 -07:00 [FTL] Application startup exception
System.TypeLoadException: Could not load type 'Microsoft.EntityFrameworkCore.Infrastructure.Internal.SqliteOptionsExtension' from assembly 'Microsoft.EntityFrameworkCore.Sqlite, Version=2.1.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.<>c.<CreateSqlite>b__1_0(SqliteDbContextOptionsBuilder options)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite[TContext](DbContextOptionsBuilder`1 optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.CreateSqlite(String connectionString)
   at IdentityExpress.Manager.Api.SqliteConfigurationDbContext..ctor(IConfiguration configuration)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at IdentityExpress.Manager.Api.Startup.ConfigureMigrations(IServiceScope serviceScope)
   at IdentityExpress.Manager.Api.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)
   at IdentityServer4.AdminUIExtensions.UseAdminUI(IApplicationBuilder appBuilder)
   at todo_auth.Startup.Configure(IApplicationBuilder app) in C:\code\todo-api\src\todo-auth\Startup.cs:line 112
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-07-17 21:39:59.196 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-17 21:39:59.233 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-17 21:39:59.237 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-17 21:39:59.239 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-17 21:39:59.242 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-17 21:39:59.411 -07:00 [FTL] Application startup exception
System.TypeLoadException: Could not load type 'Microsoft.EntityFrameworkCore.Infrastructure.Internal.SqliteOptionsExtension' from assembly 'Microsoft.EntityFrameworkCore.Sqlite, Version=2.1.1.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.<>c.<CreateSqlite>b__1_0(SqliteDbContextOptionsBuilder options)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at Microsoft.EntityFrameworkCore.SqliteDbContextOptionsBuilderExtensions.UseSqlite[TContext](DbContextOptionsBuilder`1 optionsBuilder, String connectionString, Action`1 sqliteOptionsAction)
   at IdentityExpress.Manager.Api.Hosting.DbContextOptionsFactory`1.CreateSqlite(String connectionString)
   at IdentityExpress.Manager.Api.SqliteConfigurationDbContext..ctor(IConfiguration configuration)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScoped(ScopedCallSite scopedCallSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(IServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at IdentityExpress.Manager.Api.Startup.ConfigureMigrations(IServiceScope serviceScope)
   at IdentityExpress.Manager.Api.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)
   at IdentityServer4.AdminUIExtensions.UseAdminUI(IApplicationBuilder appBuilder)
   at todo_auth.Startup.Configure(IApplicationBuilder app) in C:\code\todo-api\src\todo-auth\Startup.cs:line 112
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Hosting.ConventionBasedStartup.Configure(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.Internal.AutoRequestServicesStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.Internal.WebHost.BuildApplication()
2018-07-18 14:59:24.000 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 14:59:24.050 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 14:59:24.053 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 14:59:24.057 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 14:59:24.061 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 14:59:25.085 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:00:56.816 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:01:18.732 -07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-07-18 15:01:18.761 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-07-18 15:01:18.768 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-07-18 15:01:18.776 -07:00 [DBG] Start discovery request
2018-07-18 15:01:19.385 -07:00 [DBG] Found ["openid","profile"] as all scopes in database
2018-07-18 15:01:23.368 -07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-07-18 15:01:23.371 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-07-18 15:01:23.374 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-07-18 15:01:23.377 -07:00 [DBG] Start discovery request
2018-07-18 15:01:23.389 -07:00 [DBG] Found ["openid","profile"] as all scopes in database
2018-07-18 15:01:39.337 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:01:39.345 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:01:39.349 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:01:39.354 -07:00 [WRN] Invalid HTTP request for token endpoint
2018-07-18 15:01:44.337 -07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-07-18 15:01:44.342 -07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-07-18 15:01:44.344 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-07-18 15:01:44.350 -07:00 [DBG] Start authorize request
2018-07-18 15:01:44.365 -07:00 [DBG] No user present in authorize request
2018-07-18 15:01:44.371 -07:00 [DBG] Start authorize request protocol validation
2018-07-18 15:01:44.392 -07:00 [ERR] client_id is missing or too long
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:01:44.400 -07:00 [ERR] Request validation failed
2018-07-18 15:01:44.403 -07:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:01:44.430 -07:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "invalid_request",
  "ErrorDescription": "Invalid client_id",
  "ActivityId": "0HLFCV7JBT6RM:00000007",
  "TimeStamp": "2018-07-18T22:01:44Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:02:10.230 -07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-07-18 15:02:10.235 -07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-07-18 15:02:10.238 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-07-18 15:02:10.243 -07:00 [DBG] Start authorize request
2018-07-18 15:02:10.246 -07:00 [DBG] No user present in authorize request
2018-07-18 15:02:10.250 -07:00 [DBG] Start authorize request protocol validation
2018-07-18 15:02:10.253 -07:00 [ERR] client_id is missing or too long
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:10.257 -07:00 [ERR] Request validation failed
2018-07-18 15:02:10.259 -07:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:10.263 -07:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "invalid_request",
  "ErrorDescription": "Invalid client_id",
  "ActivityId": "0HLFCV7JBT6RM:00000009",
  "TimeStamp": "2018-07-18T22:02:10Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:02:27.840 -07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-07-18 15:02:27.845 -07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-07-18 15:02:27.847 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-07-18 15:02:27.850 -07:00 [DBG] Start authorize request
2018-07-18 15:02:27.852 -07:00 [DBG] No user present in authorize request
2018-07-18 15:02:27.853 -07:00 [DBG] Start authorize request protocol validation
2018-07-18 15:02:27.855 -07:00 [ERR] client_id is missing or too long
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:27.859 -07:00 [ERR] Request validation failed
2018-07-18 15:02:27.861 -07:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:27.865 -07:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "invalid_request",
  "ErrorDescription": "Invalid client_id",
  "ActivityId": "0HLFCV7JBT6RM:0000000B",
  "TimeStamp": "2018-07-18T22:02:27Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:02:46.885 -07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-07-18 15:02:46.889 -07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-07-18 15:02:46.892 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-07-18 15:02:46.894 -07:00 [DBG] Start authorize request
2018-07-18 15:02:46.896 -07:00 [DBG] No user present in authorize request
2018-07-18 15:02:46.898 -07:00 [DBG] Start authorize request protocol validation
2018-07-18 15:02:46.901 -07:00 [ERR] client_id is missing or too long
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:46.905 -07:00 [ERR] Request validation failed
2018-07-18 15:02:46.907 -07:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:02:46.909 -07:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "invalid_request",
  "ErrorDescription": "Invalid client_id",
  "ActivityId": "0HLFCV7JBT6RM:0000000D",
  "TimeStamp": "2018-07-18T22:02:46Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:03:00.631 -07:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2018-07-18 15:03:00.635 -07:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2018-07-18 15:03:00.639 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2018-07-18 15:03:00.643 -07:00 [DBG] Start authorize request
2018-07-18 15:03:00.648 -07:00 [DBG] No user present in authorize request
2018-07-18 15:03:00.652 -07:00 [DBG] Start authorize request protocol validation
2018-07-18 15:03:00.655 -07:00 [ERR] client_id is missing or too long
{
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:03:00.660 -07:00 [ERR] Request validation failed
2018-07-18 15:03:00.661 -07:00 [INF] {
  "SubjectId": "anonymous",
  "RequestedScopes": "",
  "Raw": {}
}
2018-07-18 15:03:00.665 -07:00 [INF] {
  "Name": "Token Issued Failure",
  "Category": "Token",
  "EventType": "Failure",
  "Id": 2001,
  "Endpoint": "Authorize",
  "Scopes": "",
  "Error": "invalid_request",
  "ErrorDescription": "Invalid client_id",
  "ActivityId": "0HLFCV7JBT6RM:0000000F",
  "TimeStamp": "2018-07-18T22:03:00Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:07:11.272 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:07:11.277 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:07:11.279 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:07:11.295 -07:00 [DBG] Start token request.
2018-07-18 15:07:11.303 -07:00 [DBG] Start client validation
2018-07-18 15:07:11.311 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:07:11.317 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:07:11.372 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:07:11.377 -07:00 [DBG] Secret id found: client
2018-07-18 15:07:11.458 -07:00 [DBG] client found in database: false
2018-07-18 15:07:11.467 -07:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "client",
  "Message": "Unknown client",
  "ActivityId": "0HLFCV7JBT6RR:00000001",
  "TimeStamp": "2018-07-18T22:07:11Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:07:11.473 -07:00 [ERR] No client with id 'client' found. aborting
2018-07-18 15:07:58.358 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:07:58.361 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:07:58.363 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:07:58.365 -07:00 [DBG] Start token request.
2018-07-18 15:07:58.367 -07:00 [DBG] Start client validation
2018-07-18 15:07:58.370 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:07:58.371 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:07:58.373 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:07:58.374 -07:00 [DBG] Secret id found: client
2018-07-18 15:07:58.378 -07:00 [DBG] client found in database: false
2018-07-18 15:07:58.381 -07:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "client",
  "Message": "Unknown client",
  "ActivityId": "0HLFCV7JBT6RR:00000002",
  "TimeStamp": "2018-07-18T22:07:58Z",
  "ProcessId": 17268,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:07:58.389 -07:00 [ERR] No client with id 'client' found. aborting
2018-07-18 15:13:05.412 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:13:05.441 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:13:05.444 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:13:05.446 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:13:05.448 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:13:06.417 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:13:10.868 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:13:10.895 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:13:10.899 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:13:10.908 -07:00 [DBG] Start token request.
2018-07-18 15:13:10.915 -07:00 [DBG] Start client validation
2018-07-18 15:13:10.920 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:13:10.924 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:13:10.968 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:13:10.971 -07:00 [DBG] Secret id found: client
2018-07-18 15:13:11.209 -07:00 [DBG] client found in database: false
2018-07-18 15:13:11.270 -07:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "client",
  "Message": "Unknown client",
  "ActivityId": "0HLFCVEITLKRB:00000001",
  "TimeStamp": "2018-07-18T22:13:11Z",
  "ProcessId": 20916,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:13:11.278 -07:00 [ERR] No client with id 'client' found. aborting
2018-07-18 15:14:24.286 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-07-18 15:14:24.337 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:14:24.345 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:14:24.350 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:14:24.354 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:14:24.358 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:14:25.533 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:14:30.341 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:14:30.378 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:14:30.382 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:14:30.391 -07:00 [DBG] Start token request.
2018-07-18 15:14:30.399 -07:00 [DBG] Start client validation
2018-07-18 15:14:30.406 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:14:30.412 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:14:30.466 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:14:30.471 -07:00 [DBG] Secret id found: client
2018-07-18 15:14:30.479 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:14:30.492 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:14:30.496 -07:00 [DBG] Client validation success
2018-07-18 15:14:30.565 -07:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVFAJM1NM:00000001",
  "TimeStamp": "2018-07-18T22:14:30Z",
  "ProcessId": 14416,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:14:30.606 -07:00 [DBG] Start token request validation
2018-07-18 15:14:30.627 -07:00 [DBG] Start client credentials token request validation
2018-07-18 15:14:30.671 -07:00 [DBG] client credentials token request validation success
2018-07-18 15:14:30.694 -07:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-07-18 15:14:30.724 -07:00 [DBG] Getting claims for access token for client: client
2018-07-18 15:14:30.796 -07:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****xZEw"
    }
  ],
  "ActivityId": "0HLFCVFAJM1NM:00000001",
  "TimeStamp": "2018-07-18T22:14:30Z",
  "ProcessId": 14416,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:14:30.807 -07:00 [DBG] Token request success.
2018-07-18 15:17:34.883 -07:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2018-07-18 15:17:34.892 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2018-07-18 15:17:34.895 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2018-07-18 15:17:34.900 -07:00 [DBG] Start key discovery request
2018-07-18 15:19:46.372 -07:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2018-07-18 15:19:46.377 -07:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2018-07-18 15:19:46.379 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2018-07-18 15:19:46.389 -07:00 [DBG] Start userinfo request
2018-07-18 15:19:46.396 -07:00 [DBG] Bearer token not found
2018-07-18 15:19:46.400 -07:00 [ERR] No access token found.
2018-07-18 15:20:43.796 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-07-18 15:20:43.832 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:20:43.839 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:20:43.842 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:20:43.844 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:20:43.847 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:20:44.855 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:25:28.281 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:25:28.320 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:25:28.324 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:25:28.331 -07:00 [WRN] Invalid media type for introspection endpoint
2018-07-18 15:26:30.890 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:26:30.899 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:26:30.904 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:26:30.916 -07:00 [DBG] Starting introspection request.
2018-07-18 15:26:30.929 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:26:30.936 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:26:30.938 -07:00 [DBG] Secret id found: api1
2018-07-18 15:26:30.948 -07:00 [DBG] No shared secret configured for client.
2018-07-18 15:26:30.951 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:26:31.006 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "api1",
  "Message": "Invalid API secret",
  "ActivityId": "0HLFCVLEM17Q5:00000002",
  "TimeStamp": "2018-07-18T22:26:30Z",
  "ProcessId": 19012,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:26:31.014 -07:00 [ERR] API validation failed.
2018-07-18 15:26:31.016 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:28:08.375 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:28:08.379 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:28:08.383 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:28:08.385 -07:00 [DBG] Starting introspection request.
2018-07-18 15:28:08.387 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:28:08.389 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:28:08.391 -07:00 [DBG] Secret id found: api1
2018-07-18 15:28:08.393 -07:00 [DBG] No shared secret configured for client.
2018-07-18 15:28:08.394 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:28:08.397 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "api1",
  "Message": "Invalid API secret",
  "ActivityId": "0HLFCVLEM17Q5:00000003",
  "TimeStamp": "2018-07-18T22:28:08Z",
  "ProcessId": 19012,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:28:08.404 -07:00 [ERR] API validation failed.
2018-07-18 15:28:08.407 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:28:12.783 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:28:12.788 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:28:12.790 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:28:12.793 -07:00 [WRN] Introspection endpoint only supports POST requests
2018-07-18 15:28:25.688 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:28:25.695 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:28:25.702 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:28:25.706 -07:00 [DBG] Starting introspection request.
2018-07-18 15:28:25.710 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:28:25.713 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:28:25.737 -07:00 [DBG] Secret id found: api1
2018-07-18 15:28:25.741 -07:00 [DBG] No shared secret configured for client.
2018-07-18 15:28:25.769 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:28:25.774 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "api1",
  "Message": "Invalid API secret",
  "ActivityId": "0HLFCVLEM17Q5:00000005",
  "TimeStamp": "2018-07-18T22:28:25Z",
  "ProcessId": 19012,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:28:25.783 -07:00 [ERR] API validation failed.
2018-07-18 15:28:25.787 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:28:50.893 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:28:50.897 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:28:50.900 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:28:50.902 -07:00 [DBG] Starting introspection request.
2018-07-18 15:28:50.905 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:28:50.909 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:28:50.942 -07:00 [DBG] No secret in post body found
2018-07-18 15:28:50.946 -07:00 [DBG] Parser found no secret
2018-07-18 15:28:50.948 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "unknown",
  "Message": "No API id or secret found",
  "ActivityId": "0HLFCVLEM17Q5:00000006",
  "TimeStamp": "2018-07-18T22:28:50Z",
  "ProcessId": 19012,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:28:50.953 -07:00 [ERR] No API secret found
2018-07-18 15:28:50.955 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:29:54.873 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-07-18 15:29:54.911 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:29:54.918 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:29:54.920 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:29:54.922 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:29:54.924 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:29:55.926 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:30:00.571 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:30:00.604 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:30:00.608 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:30:00.618 -07:00 [DBG] Starting introspection request.
2018-07-18 15:30:00.628 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:30:00.635 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:30:00.679 -07:00 [DBG] No secret in post body found
2018-07-18 15:30:00.683 -07:00 [DBG] Parser found no secret
2018-07-18 15:30:00.740 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "unknown",
  "Message": "No API id or secret found",
  "ActivityId": "0HLFCVNVR7N0I:00000001",
  "TimeStamp": "2018-07-18T22:30:00Z",
  "ProcessId": 20604,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:30:00.747 -07:00 [ERR] No API secret found
2018-07-18 15:30:00.749 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:30:42.136 -07:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2018-07-18 15:30:42.176 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:30:42.182 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:30:42.184 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:30:42.187 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:30:42.189 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:30:43.256 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:30:47.815 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:30:47.847 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:30:47.852 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:30:47.862 -07:00 [DBG] Starting introspection request.
2018-07-18 15:30:47.875 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:30:47.881 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:30:47.933 -07:00 [DBG] No secret in post body found
2018-07-18 15:30:47.937 -07:00 [DBG] Parser found no secret
2018-07-18 15:30:47.994 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "unknown",
  "Message": "No API id or secret found",
  "ActivityId": "0HLFCVODTK5AN:00000001",
  "TimeStamp": "2018-07-18T22:30:47Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:30:48.000 -07:00 [ERR] No API secret found
2018-07-18 15:30:48.001 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:31:03.212 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:31:03.223 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:31:03.227 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:31:03.235 -07:00 [DBG] Start token request.
2018-07-18 15:31:03.242 -07:00 [DBG] Start client validation
2018-07-18 15:31:03.245 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:31:03.247 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:31:03.250 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:31:03.252 -07:00 [DBG] Secret id found: client
2018-07-18 15:31:03.259 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:31:03.270 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:31:03.274 -07:00 [DBG] Client validation success
2018-07-18 15:31:03.279 -07:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "client",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVODTK5AN:00000002",
  "TimeStamp": "2018-07-18T22:31:03Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:03.290 -07:00 [DBG] Start token request validation
2018-07-18 15:31:03.299 -07:00 [DBG] Start client credentials token request validation
2018-07-18 15:31:03.325 -07:00 [DBG] client credentials token request validation success
2018-07-18 15:31:03.345 -07:00 [INF] Token request validation success
{
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "client",
    "client_secret": "***REDACTED***"
  }
}
2018-07-18 15:31:03.372 -07:00 [DBG] Getting claims for access token for client: client
2018-07-18 15:31:03.441 -07:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "client",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****u7vQ"
    }
  ],
  "ActivityId": "0HLFCVODTK5AN:00000002",
  "TimeStamp": "2018-07-18T22:31:03Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:03.453 -07:00 [DBG] Token request success.
2018-07-18 15:31:15.763 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:31:15.766 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:31:15.769 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:31:15.773 -07:00 [DBG] Starting introspection request.
2018-07-18 15:31:15.775 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:31:15.777 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:31:15.780 -07:00 [DBG] No secret in post body found
2018-07-18 15:31:15.782 -07:00 [DBG] Parser found no secret
2018-07-18 15:31:15.784 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "unknown",
  "Message": "No API id or secret found",
  "ActivityId": "0HLFCVODTK5AN:00000003",
  "TimeStamp": "2018-07-18T22:31:15Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:15.791 -07:00 [ERR] No API secret found
2018-07-18 15:31:15.794 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:31:27.855 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:31:27.859 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:31:27.861 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:31:27.864 -07:00 [DBG] Starting introspection request.
2018-07-18 15:31:27.866 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:31:27.868 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:31:27.870 -07:00 [DBG] Secret id found: api1
2018-07-18 15:31:27.874 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:31:27.877 -07:00 [DBG] API resource validation success
2018-07-18 15:31:27.884 -07:00 [INF] {
  "Name": "API Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1020,
  "ApiName": "api1",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVODTK5AN:00000004",
  "TimeStamp": "2018-07-18T22:31:27Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:27.892 -07:00 [DBG] Introspection request validation started.
2018-07-18 15:31:27.956 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:31:27.964 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:31:27.967 -07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-07-18 15:31:27.972 -07:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "Claims": {
    "nbf": 1531953063,
    "exp": 1531956663,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "api1"
    ],
    "client_id": "client",
    "scope": "api1"
  }
}
2018-07-18 15:31:27.978 -07:00 [DBG] Introspection request validation successful.
2018-07-18 15:31:27.986 -07:00 [DBG] Creating introspection response for active token.
2018-07-18 15:31:27.997 -07:00 [INF] {
  "Name": "Token Introspection Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2020,
  "ApiName": "api1",
  "IsActive": true,
  "Token": "****u7vQ",
  "ClaimTypes": [
    "nbf",
    "exp",
    "iss",
    "aud",
    "client_id",
    "scope"
  ],
  "TokenScopes": [
    "api1"
  ],
  "ActivityId": "0HLFCVODTK5AN:00000004",
  "TimeStamp": "2018-07-18T22:31:27Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:28.006 -07:00 [INF] Success token introspection. Token active: true, for API name: api1
2018-07-18 15:31:49.012 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:31:49.018 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:31:49.021 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:31:49.024 -07:00 [DBG] Starting introspection request.
2018-07-18 15:31:49.026 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:31:49.029 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:31:49.031 -07:00 [DBG] Secret id found: api1
2018-07-18 15:31:49.033 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:31:49.035 -07:00 [DBG] API resource validation success
2018-07-18 15:31:49.038 -07:00 [INF] {
  "Name": "API Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1020,
  "ApiName": "api1",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVODTK5AN:00000005",
  "TimeStamp": "2018-07-18T22:31:49Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:49.043 -07:00 [DBG] Introspection request validation started.
2018-07-18 15:31:49.046 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:31:49.049 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:31:49.051 -07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-07-18 15:31:49.053 -07:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "Claims": {
    "nbf": 1531953063,
    "exp": 1531956663,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "api1"
    ],
    "client_id": "client",
    "scope": "api1"
  }
}
2018-07-18 15:31:49.057 -07:00 [DBG] Introspection request validation successful.
2018-07-18 15:31:49.060 -07:00 [DBG] Creating introspection response for active token.
2018-07-18 15:31:49.062 -07:00 [INF] {
  "Name": "Token Introspection Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2020,
  "ApiName": "api1",
  "IsActive": true,
  "Token": "****u7vQ",
  "ClaimTypes": [
    "nbf",
    "exp",
    "iss",
    "aud",
    "client_id",
    "scope"
  ],
  "TokenScopes": [
    "api1"
  ],
  "ActivityId": "0HLFCVODTK5AN:00000005",
  "TimeStamp": "2018-07-18T22:31:49Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:31:49.069 -07:00 [INF] Success token introspection. Token active: true, for API name: api1
2018-07-18 15:32:21.665 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:32:21.669 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:32:21.672 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:32:21.676 -07:00 [DBG] Starting introspection request.
2018-07-18 15:32:21.678 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:32:21.680 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:32:21.682 -07:00 [DBG] Secret id found: api1
2018-07-18 15:32:21.684 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:32:21.686 -07:00 [DBG] API resource validation success
2018-07-18 15:32:21.688 -07:00 [INF] {
  "Name": "API Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1020,
  "ApiName": "api1",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVODTK5AN:00000006",
  "TimeStamp": "2018-07-18T22:32:21Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:32:21.694 -07:00 [DBG] Introspection request validation started.
2018-07-18 15:32:21.698 -07:00 [ERR] JWT token validation error: IDX10503: Signature validation failed. Keys tried: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
Exceptions caught:
 '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
token: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidSignatureException: IDX10503: Signature validation failed. Keys tried: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
Exceptions caught:
 '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
token: '[PII is hidden by default. Set the 'ShowPII' flag in IdentityModelEventSource.cs to true to reveal it.]'.
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\Validation\TokenValidator.cs:line 287
2018-07-18 15:32:21.733 -07:00 [DBG] Token is invalid.
2018-07-18 15:32:21.735 -07:00 [DBG] Creating introspection response for inactive token.
2018-07-18 15:32:21.738 -07:00 [INF] {
  "Name": "Token Introspection Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2020,
  "ApiName": "api1",
  "IsActive": false,
  "Token": "****u7vQ",
  "ActivityId": "0HLFCVODTK5AN:00000006",
  "TimeStamp": "2018-07-18T22:32:21Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:32:21.746 -07:00 [INF] Success token introspection. Token active: false, for API name: api1
2018-07-18 15:32:28.364 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:32:28.369 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:32:28.372 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:32:28.375 -07:00 [DBG] Starting introspection request.
2018-07-18 15:32:28.377 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:32:28.379 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:32:28.380 -07:00 [DBG] Secret id found: api1
2018-07-18 15:32:28.382 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:32:28.384 -07:00 [DBG] API resource validation success
2018-07-18 15:32:28.386 -07:00 [INF] {
  "Name": "API Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1020,
  "ApiName": "api1",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVODTK5AN:00000007",
  "TimeStamp": "2018-07-18T22:32:28Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:32:28.392 -07:00 [DBG] Introspection request validation started.
2018-07-18 15:32:28.397 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:32:28.400 -07:00 [DBG] client configuration validation for client client succeeded.
2018-07-18 15:32:28.402 -07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-07-18 15:32:28.404 -07:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "Claims": {
    "nbf": 1531953063,
    "exp": 1531956663,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "api1"
    ],
    "client_id": "client",
    "scope": "api1"
  }
}
2018-07-18 15:32:28.409 -07:00 [DBG] Introspection request validation successful.
2018-07-18 15:32:28.411 -07:00 [DBG] Creating introspection response for active token.
2018-07-18 15:32:28.412 -07:00 [INF] {
  "Name": "Token Introspection Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2020,
  "ApiName": "api1",
  "IsActive": true,
  "Token": "****u7vQ",
  "ClaimTypes": [
    "nbf",
    "exp",
    "iss",
    "aud",
    "client_id",
    "scope"
  ],
  "TokenScopes": [
    "api1"
  ],
  "ActivityId": "0HLFCVODTK5AN:00000007",
  "TimeStamp": "2018-07-18T22:32:28Z",
  "ProcessId": 25228,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:32:28.419 -07:00 [INF] Success token introspection. Token active: true, for API name: api1
2018-07-18 15:41:39.243 -07:00 [DBG] Using Identity.Application as default scheme for authentication
2018-07-18 15:41:39.276 -07:00 [DBG] Using Identity.External as default scheme for sign-in
2018-07-18 15:41:39.280 -07:00 [DBG] Using Identity.External as default scheme for sign-out
2018-07-18 15:41:39.283 -07:00 [DBG] Using Identity.Application as default scheme for challenge
2018-07-18 15:41:39.285 -07:00 [DBG] Using Identity.Application as default scheme for forbid
2018-07-18 15:41:40.363 -07:00 [WRN] The 'bool' property 'UserEditable' on entity type 'IdentityExpressClaimType' is configured with a database-generated default. This default will always be used when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used when the property value is 'null'.
2018-07-18 15:41:49.114 -07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-07-18 15:41:49.145 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-07-18 15:41:49.150 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-07-18 15:41:49.155 -07:00 [DBG] Start discovery request
2018-07-18 15:41:49.720 -07:00 [DBG] Found ["openid","profile"] as all scopes in database
2018-07-18 15:41:53.364 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:41:53.374 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:41:53.378 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:41:53.386 -07:00 [DBG] Start token request.
2018-07-18 15:41:53.394 -07:00 [DBG] Start client validation
2018-07-18 15:41:53.401 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:41:53.406 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:41:53.453 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:41:53.457 -07:00 [DBG] Secret id found: client
2018-07-18 15:41:53.543 -07:00 [DBG] client found in database: false
2018-07-18 15:41:53.582 -07:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "client",
  "Message": "Unknown client",
  "ActivityId": "0HLFCVUIVTUSR:00000002",
  "TimeStamp": "2018-07-18T22:41:53Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:41:53.589 -07:00 [ERR] No client with id 'client' found. aborting
2018-07-18 15:42:12.888 -07:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2018-07-18 15:42:27.574 -07:00 [DBG] CORS request made for path: /account/login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2018-07-18 15:42:30.671 -07:00 [INF] AuthenticationScheme: Google was challenged.
2018-07-18 15:42:34.098 -07:00 [INF] AuthenticationScheme: Identity.External signed in.
2018-07-18 15:42:34.127 -07:00 [INF] AuthenticationScheme: Identity.External was successfully authenticated.
2018-07-18 15:42:34.746 -07:00 [INF] {
  "Name": "User Login Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1000,
  "Provider": "Google",
  "ProviderUserId": "113912396809791913668",
  "SubjectId": "b7deb868-7f72-45fe-b949-f6e6a241e3b0",
  "DisplayName": "Scott Varcoe",
  "Endpoint": "UI",
  "ActivityId": "0HLFCVUIVTUSS:0000000A",
  "TimeStamp": "2018-07-18T22:42:34Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:42:34.785 -07:00 [DBG] Augmenting SignInContext
2018-07-18 15:42:34.792 -07:00 [DBG] Adding amr claim with value: external
2018-07-18 15:42:34.800 -07:00 [INF] AuthenticationScheme: Identity.Application signed in.
2018-07-18 15:42:34.817 -07:00 [INF] AuthenticationScheme: Identity.External signed out.
2018-07-18 15:42:34.845 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:34.849 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:34.873 -07:00 [DBG] 0 persisted grants found for b7deb868-7f72-45fe-b949-f6e6a241e3b0
2018-07-18 15:42:40.090 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:40.095 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:43.666 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:43.670 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:43.676 -07:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2018-07-18 15:42:43.685 -07:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2018-07-18 15:42:43.691 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2018-07-18 15:42:43.695 -07:00 [DBG] Start discovery request
2018-07-18 15:42:43.705 -07:00 [DBG] Found ["openid","profile"] as all scopes in database
2018-07-18 15:42:44.732 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:44.779 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:51.453 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:51.455 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:51.458 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:51.461 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:59.891 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:59.896 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:42:59.906 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:43:33.703 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:43:33.703 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:43:33.707 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:43:33.711 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:10.323 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:10.323 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:10.328 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:10.331 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:15.485 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:15.485 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:15.490 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:15.492 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:47.619 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:47.619 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:47.625 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:44:47.628 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:03.024 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:03.028 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:25.448 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:25.448 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:25.456 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:25.464 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:34.416 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:34.416 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:34.422 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:34.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:43.367 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:43.368 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:43.375 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:43.379 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:54.091 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:45:54.094 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:42.660 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:42.665 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:42.746 -07:00 [WRN] The LINQ expression 'where {from String y in __claimTypes_0 where ([y] == [x].Name) select [y] => Any()}' could not be translated and will be evaluated locally.
2018-07-18 15:46:42.752 -07:00 [WRN] The LINQ expression 'where ([y] == [x].Name)' could not be translated and will be evaluated locally.
2018-07-18 15:46:42.756 -07:00 [WRN] The LINQ expression 'Any()' could not be translated and will be evaluated locally.
2018-07-18 15:46:42.931 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:42.936 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:55.808 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:46:55.820 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:05.422 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:05.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:05.440 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:47:08.365 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:08.365 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:08.371 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:08.375 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:11.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:11.162 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:56.430 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:56.436 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:56.444 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:47:56.754 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:56.757 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:56.760 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:47:59.973 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:59.977 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:47:59.982 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:48:30.574 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:48:30.579 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:48:30.582 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:48:30.585 -07:00 [DBG] Start token request.
2018-07-18 15:48:30.587 -07:00 [DBG] Start client validation
2018-07-18 15:48:30.590 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:48:30.593 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:48:30.597 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:48:30.602 -07:00 [DBG] Secret id found: 6c7eaa9f18994d47bda8d41dbd8fb68d
2018-07-18 15:48:30.723 -07:00 [DBG] 6c7eaa9f18994d47bda8d41dbd8fb68d found in database: true
2018-07-18 15:48:30.735 -07:00 [DBG] No matching hashed secret found.
2018-07-18 15:48:30.738 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:48:30.741 -07:00 [INF] {
  "Name": "Client Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1011,
  "ClientId": "6c7eaa9f18994d47bda8d41dbd8fb68d",
  "Message": "Invalid client secret",
  "ActivityId": "0HLFCVUIVTUT1:00000001",
  "TimeStamp": "2018-07-18T22:48:30Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:48:30.746 -07:00 [ERR] Client secret validation failed for client: 6c7eaa9f18994d47bda8d41dbd8fb68d.
2018-07-18 15:48:36.428 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:36.435 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:48.931 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:48.937 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:48.947 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:48:56.732 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:56.737 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:48:56.755 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:49:00.050 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:49:00.059 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:49:16.142 -07:00 [DBG] Request path /connect/token matched to endpoint type Token
2018-07-18 15:49:16.145 -07:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2018-07-18 15:49:16.148 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2018-07-18 15:49:16.151 -07:00 [DBG] Start token request.
2018-07-18 15:49:16.154 -07:00 [DBG] Start client validation
2018-07-18 15:49:16.156 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:49:16.158 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:49:16.160 -07:00 [DBG] Parser found secret: PostBodySecretParser
2018-07-18 15:49:16.162 -07:00 [DBG] Secret id found: 6c7eaa9f18994d47bda8d41dbd8fb68d
2018-07-18 15:49:16.166 -07:00 [DBG] 6c7eaa9f18994d47bda8d41dbd8fb68d found in database: true
2018-07-18 15:49:16.170 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:49:16.172 -07:00 [DBG] Client validation success
2018-07-18 15:49:16.176 -07:00 [INF] {
  "Name": "Client Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1010,
  "ClientId": "6c7eaa9f18994d47bda8d41dbd8fb68d",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVUIVTUT1:00000002",
  "TimeStamp": "2018-07-18T22:49:16Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:49:16.187 -07:00 [DBG] Start token request validation
2018-07-18 15:49:16.196 -07:00 [DBG] Start client credentials token request validation
2018-07-18 15:49:16.230 -07:00 [DBG] Found [] identity scopes in database
2018-07-18 15:49:16.310 -07:00 [DBG] Found ["api1"] API scopes in database
2018-07-18 15:49:16.324 -07:00 [DBG] Found [] identity scopes in database
2018-07-18 15:49:16.333 -07:00 [DBG] Found ["api1"] API scopes in database
2018-07-18 15:49:16.340 -07:00 [DBG] 6c7eaa9f18994d47bda8d41dbd8fb68d credentials token request validation success
2018-07-18 15:49:16.349 -07:00 [INF] Token request validation success
{
  "ClientId": "6c7eaa9f18994d47bda8d41dbd8fb68d",
  "ClientName": "Client Credentials Client",
  "GrantType": "client_credentials",
  "Scopes": "api1",
  "Raw": {
    "grant_type": "client_credentials",
    "scope": "api1",
    "client_id": "6c7eaa9f18994d47bda8d41dbd8fb68d",
    "client_secret": "***REDACTED***"
  }
}
2018-07-18 15:49:16.376 -07:00 [DBG] Getting claims for access token for client: 6c7eaa9f18994d47bda8d41dbd8fb68d
2018-07-18 15:49:16.440 -07:00 [INF] {
  "Name": "Token Issued Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2000,
  "ClientId": "6c7eaa9f18994d47bda8d41dbd8fb68d",
  "ClientName": "Client Credentials Client",
  "Endpoint": "Token",
  "Scopes": "api1",
  "GrantType": "client_credentials",
  "Tokens": [
    {
      "TokenType": "access_token",
      "TokenValue": "****UxeA"
    }
  ],
  "ActivityId": "0HLFCVUIVTUT1:00000002",
  "TimeStamp": "2018-07-18T22:49:16Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:49:16.451 -07:00 [DBG] Token request success.
2018-07-18 15:49:36.595 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:49:36.601 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:49:36.604 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:49:36.616 -07:00 [DBG] Starting introspection request.
2018-07-18 15:49:36.627 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:49:36.630 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:49:36.634 -07:00 [DBG] Secret id found: api1
2018-07-18 15:49:36.659 -07:00 [DBG] Found api1 API resource in database
2018-07-18 15:49:36.665 -07:00 [DBG] No shared secret configured for client.
2018-07-18 15:49:36.667 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:49:36.671 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "api1",
  "Message": "Invalid API secret",
  "ActivityId": "0HLFCVUIVTUT1:00000003",
  "TimeStamp": "2018-07-18T22:49:36Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:49:36.677 -07:00 [ERR] API validation failed.
2018-07-18 15:49:36.679 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:49:41.218 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:49:41.223 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:49:41.226 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:49:41.230 -07:00 [DBG] Starting introspection request.
2018-07-18 15:49:41.234 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:49:41.236 -07:00 [DBG] No Basic Authentication secret found
2018-07-18 15:49:41.238 -07:00 [DBG] Start parsing for secret in post body
2018-07-18 15:49:41.240 -07:00 [DBG] No secret in post body found
2018-07-18 15:49:41.242 -07:00 [DBG] Parser found no secret
2018-07-18 15:49:41.244 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "unknown",
  "Message": "No API id or secret found",
  "ActivityId": "0HLFCVUIVTUT1:00000004",
  "TimeStamp": "2018-07-18T22:49:41Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:49:41.251 -07:00 [ERR] No API secret found
2018-07-18 15:49:41.255 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:49:43.713 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:49:43.725 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:49:55.994 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:49:55.999 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:49:56.003 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:49:56.007 -07:00 [DBG] Starting introspection request.
2018-07-18 15:49:56.009 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:49:56.011 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:49:56.015 -07:00 [DBG] Secret id found: api1
2018-07-18 15:49:56.020 -07:00 [DBG] Found api1 API resource in database
2018-07-18 15:49:56.023 -07:00 [DBG] No shared secret configured for client.
2018-07-18 15:49:56.025 -07:00 [DBG] Secret validators could not validate secret
2018-07-18 15:49:56.028 -07:00 [INF] {
  "Name": "API Authentication Failure",
  "Category": "Authentication",
  "EventType": "Failure",
  "Id": 1021,
  "ApiName": "api1",
  "Message": "Invalid API secret",
  "ActivityId": "0HLFCVUIVTUT1:00000005",
  "TimeStamp": "2018-07-18T22:49:56Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:49:56.033 -07:00 [ERR] API validation failed.
2018-07-18 15:49:56.035 -07:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2018-07-18 15:50:03.601 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:03.606 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:03.608 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:03.615 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.568 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.572 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.624 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.631 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.641 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.645 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.656 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:04.662 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.822 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.827 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.878 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.885 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.916 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:10.921 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.618 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.624 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.660 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.664 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.691 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:14.698 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.057 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.063 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.094 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.099 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.128 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:18.133 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:22.736 -07:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2018-07-18 15:50:22.742 -07:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2018-07-18 15:50:22.747 -07:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2018-07-18 15:50:22.750 -07:00 [DBG] Starting introspection request.
2018-07-18 15:50:22.753 -07:00 [DBG] Start parsing Basic Authentication secret
2018-07-18 15:50:22.755 -07:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2018-07-18 15:50:22.757 -07:00 [DBG] Secret id found: api1
2018-07-18 15:50:22.762 -07:00 [DBG] Found api1 API resource in database
2018-07-18 15:50:22.765 -07:00 [DBG] Secret validator success: HashedSharedSecretValidator
2018-07-18 15:50:22.767 -07:00 [DBG] API resource validation success
2018-07-18 15:50:22.772 -07:00 [INF] {
  "Name": "API Authentication Success",
  "Category": "Authentication",
  "EventType": "Success",
  "Id": 1020,
  "ApiName": "api1",
  "AuthenticationMethod": "SharedSecret",
  "ActivityId": "0HLFCVUIVTUT1:00000006",
  "TimeStamp": "2018-07-18T22:50:22Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:50:22.779 -07:00 [DBG] Introspection request validation started.
2018-07-18 15:50:22.836 -07:00 [DBG] 6c7eaa9f18994d47bda8d41dbd8fb68d found in database: true
2018-07-18 15:50:22.844 -07:00 [DBG] 6c7eaa9f18994d47bda8d41dbd8fb68d found in database: true
2018-07-18 15:50:22.847 -07:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2018-07-18 15:50:22.852 -07:00 [DBG] Token validation success
{
  "ValidateLifetime": true,
  "AccessTokenType": "Jwt",
  "Claims": {
    "nbf": 1531954156,
    "exp": 1531957756,
    "iss": "http://localhost:5000",
    "aud": [
      "http://localhost:5000/resources",
      "api1"
    ],
    "client_id": "6c7eaa9f18994d47bda8d41dbd8fb68d",
    "scope": "api1"
  }
}
2018-07-18 15:50:22.858 -07:00 [DBG] Introspection request validation successful.
2018-07-18 15:50:22.866 -07:00 [DBG] Creating introspection response for active token.
2018-07-18 15:50:22.876 -07:00 [INF] {
  "Name": "Token Introspection Success",
  "Category": "Token",
  "EventType": "Success",
  "Id": 2020,
  "ApiName": "api1",
  "IsActive": true,
  "Token": "****UxeA",
  "ClaimTypes": [
    "nbf",
    "exp",
    "iss",
    "aud",
    "client_id",
    "scope"
  ],
  "TokenScopes": [
    "api1"
  ],
  "ActivityId": "0HLFCVUIVTUT1:00000006",
  "TimeStamp": "2018-07-18T22:50:22Z",
  "ProcessId": 26560,
  "LocalIpAddress": "::1:5000",
  "RemoteIpAddress": "::1"
}
2018-07-18 15:50:22.886 -07:00 [INF] Success token introspection. Token active: true, for API name: api1
2018-07-18 15:50:40.811 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:40.818 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:43.042 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:43.050 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:43.057 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:50:46.037 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:46.042 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:46.044 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:50:48.853 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:48.860 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:52.189 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:52.191 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:52.198 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:50:52.203 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:02.307 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:02.311 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:02.323 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:51:03.877 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:03.881 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:03.883 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:51:08.841 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:08.842 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:08.846 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:08.854 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:11.843 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:11.849 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:11.860 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:51:16.443 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:16.443 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:16.447 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:51:16.451 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:21.255 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:21.260 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:21.265 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:53:21.340 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:21.343 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:21.346 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:53:25.652 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:25.656 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:25.658 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 15:53:32.153 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:32.153 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:32.163 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 15:53:32.171 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:07.150 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:07.152 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:07.156 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:07.161 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:07.177 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:16.978 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:16.983 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:16.989 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:17.891 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:17.896 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:17.903 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:18.969 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:18.975 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:18.980 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:20.469 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:20.476 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:20.480 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:21.518 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:21.526 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:21.530 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:23.335 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:23.341 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:23.344 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:26.171 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:26.175 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:26.178 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:29.562 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:29.566 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:29.570 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:30.604 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:30.609 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:30.616 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:31.597 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:31.605 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:31.609 -07:00 [FTL] ****** Using non-production Community Edition ******
2018-07-18 16:04:48.675 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:04:48.689 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:05:11.182 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:05:11.185 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:05:15.056 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:05:15.061 -07:00 [INF] AuthenticationScheme: Identity.Application was successfully authenticated.
2018-07-18 16:05:15.067 -07:00 [DBG] 0 persisted grants found for b7deb868-7f72-45fe-b949-f6e6a241e3b0
